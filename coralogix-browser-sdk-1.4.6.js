(()=>{var e={7845:(e,t,r)=>{"use strict";r.d(t,{TD:()=>u});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},o=Symbol.for("io.opentelemetry.js.api.logs"),i=n;var s=function(){function e(){}return e.prototype.emit=function(e){},e}(),a=(new s,new(function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new s},e}())),u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return i[o]?this.getLoggerProvider():(i[o]=(t=1,r=e,n=a,function(e){return e===t?r:n}),e);var t,r,n},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=i[o])||void 0===e?void 0:e.call(i,1))&&void 0!==t?t:a},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete i[o]},e}().getInstance()},3276:(e,t,r)=>{"use strict";r.d(t,{c:()=>f});var n=r(5834),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(){}return e.prototype.active=function(){return n.I},e.prototype.with=function(e,t,r){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];return t.call.apply(t,i([r],o(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),a=r(5880),u=r(3872),c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},l=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},d="context",p=new s,f=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,a.TG)(d,e,u.G.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return(n=this._getContextManager()).with.apply(n,l([e,t,r],c(o),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,a.Rd)(d)||p},e.prototype.disable=function(){this._getContextManager().disable(),(0,a.J_)(d,u.G.instance())},e}()},3872:(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r(5880),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,r){var s=(0,n.Rd)("diag");if(s)return r.unshift(t),s[e].apply(s,i([],o(r),!1))}var u=r(6740);var c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},l=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=(0,n.Rd)("diag");if(o)return o[e].apply(o,l([],c(t),!1))}}var t=this;t.setLogger=function(e,r){var o,i,s;if(void 0===r&&(r={logLevel:u.n.INFO}),e===t){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(o=a.stack)&&void 0!==o?o:a.message),!1}"number"==typeof r&&(r={logLevel:r});var c=(0,n.Rd)("diag"),l=function(e,t){function r(r,n){var o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<u.n.NONE?e=u.n.NONE:e>u.n.ALL&&(e=u.n.ALL),t=t||{},{error:r("error",u.n.ERROR),warn:r("warn",u.n.WARN),info:r("info",u.n.INFO),debug:r("debug",u.n.DEBUG),verbose:r("verbose",u.n.VERBOSE)}}(null!==(i=r.logLevel)&&void 0!==i?i:u.n.INFO,e);if(c&&!r.suppressOverrideMessage){var d=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+d),l.warn("Current logger will overwrite one already registered from "+d)}return(0,n.TG)("diag",l,t,!0)},t.disable=function(){(0,n.J_)("diag",t)},t.createComponentLogger=function(e){return new s(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},3593:(e,t,r)=>{"use strict";r.d(t,{u:()=>l,H:()=>c});var n=r(3872),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=o(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=new e(this._entries);try{for(var a=i(n),u=a.next();!u.done;u=a.next()){var c=u.value;s._entries.delete(c)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),a=Symbol("BaggageEntryMetadata"),u=n.G.instance();function c(e){return void 0===e&&(e={}),new s(new Map(Object.entries(e)))}function l(e){return"string"!=typeof e&&(u.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:a,toString:function(){return e}}}},6339:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});var n=r(3276).c.getInstance()},5834:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{I:()=>o,Y:()=>n});var o=new function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var o=new e(r._currentContext);return o._currentContext.set(t,n),o},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}},928:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n=r(3872).G.instance()},6740:(e,t,r)=>{"use strict";var n;r.d(t,{n:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},2521:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>a,DiagLogLevel:()=>u.n,INVALID_SPANID:()=>I.fQ,INVALID_SPAN_CONTEXT:()=>I.Rr,INVALID_TRACEID:()=>I.AE,ProxyTracer:()=>d.T,ProxyTracerProvider:()=>p.K,ROOT_CONTEXT:()=>i.I,SamplingDecision:()=>f.U,SpanKind:()=>h.M,SpanStatusCode:()=>m.Q,TraceFlags:()=>g.r,ValueType:()=>n,baggageEntryMetadataFromString:()=>o.u,context:()=>C.D,createContextKey:()=>i.Y,createNoopMeter:()=>c.v7,createTraceState:()=>b,default:()=>w,defaultTextMapGetter:()=>l.r,defaultTextMapSetter:()=>l.M,diag:()=>N.K,isSpanContextValid:()=>_.BM,isValidSpanId:()=>_.Lc,isValidTraceId:()=>_.jN,metrics:()=>R.q,propagation:()=>O.u,trace:()=>A.g});var n,o=r(3593),i=r(5834),s=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],a=function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<s.length;t++)this[s[t].n]=e(s[t].c)},u=r(6740),c=r(4027);!function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}));var l=r(7008),d=r(9953),p=r(5983),f=r(1227),h=r(87),m=r(1820),g=r(8726),v="[_0-9a-z-*/]",y=new RegExp("^(?:"+("[a-z]"+v+"{0,255}")+"|"+("[a-z0-9]"+v+"{0,240}@[a-z]"+v+"{0,13}")+")$"),E=/^[ -~]{0,255}[!-~]$/,S=/,|=/;var T=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var o=r.slice(0,n),i=r.slice(n+1,t.length);(function(e){return y.test(e)})(o)&&function(e){return E.test(e)&&!S.test(e)}(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function b(e){return new T(e)}var _=r(7228),I=r(7007),C=r(6339),N=r(928),R=r(7782),O=r(9663),A=r(8570);const w={context:C.D,diag:N.K,metrics:R.q,propagation:O.u,trace:A.g}},5880:(e,t,r)=>{"use strict";r.d(t,{Rd:()=>d,TG:()=>l,J_:()=>p});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},o="1.9.0",i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var s=function(e){var t=new Set([e]),r=new Set,n=e.match(i);if(!n)return function(){return!1};var o=+n[1],s=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function u(e){return r.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(i);if(!n)return u(e);var l=+n[1],d=+n[2],p=+n[3];return null!=n[4]||o!==l?u(e):0===o?s===d&&a<=p?c(e):u(e):s<=d?c(e):u(e)}}(o),a=o.split(".")[0],u=Symbol.for("opentelemetry.js.api."+a),c=n;function l(e,t,r,n){var i;void 0===n&&(n=!1);var s=c[u]=null!==(i=c[u])&&void 0!==i?i:{version:o};if(!n&&s[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if(s.version!==o){a=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+o);return r.error(a.stack||a.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+o+"."),!0}function d(e){var t,r,n=null===(t=c[u])||void 0===t?void 0:t.version;if(n&&s(n))return null===(r=c[u])||void 0===r?void 0:r[e]}function p(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+o+".");var r=c[u];r&&delete r[e]}},7782:(e,t,r)=>{"use strict";r.d(t,{q:()=>u});var n=r(4027),o=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return n.dI},e}()),i=r(5880),s=r(3872),a="metrics",u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,i.TG)(a,e,s.G.instance())},e.prototype.getMeterProvider=function(){return(0,i.Rd)(a)||o},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,i.J_)(a,s.G.instance())},e}().getInstance()},4027:(e,t,r)=>{"use strict";r.d(t,{dI:()=>m,v7:()=>_});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(){function e(){}return e.prototype.createGauge=function(e,t){return v},e.prototype.createHistogram=function(e,t){return y},e.prototype.createCounter=function(e,t){return g},e.prototype.createUpDownCounter=function(e,t){return E},e.prototype.createObservableGauge=function(e,t){return T},e.prototype.createObservableCounter=function(e,t){return S},e.prototype.createObservableUpDownCounter=function(e,t){return b},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),s=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),d=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),m=new i,g=new a,v=new c,y=new l,E=new u,S=new p,T=new f,b=new h;function _(){return m}},9663:(e,t,r)=>{"use strict";r.d(t,{u:()=>v});var n=r(5880),o=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),i=r(7008),s=r(3276),a=(0,r(5834).Y)("OpenTelemetry Baggage Key");function u(e){return e.getValue(a)||void 0}function c(){return u(s.c.getInstance().active())}function l(e,t){return e.setValue(a,t)}function d(e){return e.deleteValue(a)}var p=r(3593),f=r(3872),h="propagation",m=new o,g=function(){function e(){this.createBaggage=p.H,this.getBaggage=u,this.getActiveBaggage=c,this.setBaggage=l,this.deleteBaggage=d}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,n.TG)(h,e,f.G.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=i.M),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=i.r),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,n.J_)(h,f.G.instance())},e.prototype._getGlobalPropagator=function(){return(0,n.Rd)(h)||m},e}(),v=g.getInstance()},7008:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,r:()=>n});var n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},o={set:function(e,t,r){null!=e&&(e[t]=r)}}},8570:(e,t,r)=>{"use strict";r.d(t,{g:()=>c});var n=r(5880),o=r(5983),i=r(7228),s=r(3557),a=r(3872),u="trace",c=function(){function e(){this._proxyTracerProvider=new o.K,this.wrapSpanContext=i.kw,this.isSpanContextValid=i.BM,this.deleteSpan=s.TW,this.getSpan=s.Br,this.getActiveSpan=s.HN,this.getSpanContext=s.A3,this.setSpan=s.WZ,this.setSpanContext=s.G3}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.TG)(u,this._proxyTracerProvider,a.G.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.Rd)(u)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.J_)(u,a.G.instance()),this._proxyTracerProvider=new o.K},e}().getInstance()},7817:(e,t,r)=>{"use strict";r.d(t,{s:()=>o});var n=r(7007),o=function(){function e(e){void 0===e&&(e=n.Rr),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},9127:(e,t,r)=>{"use strict";r.d(t,{E:()=>u});var n=r(3276),o=r(3557),i=r(7817),s=r(7228),a=n.c.getInstance(),u=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=a.active()),Boolean(null==t?void 0:t.root))return new i.s;var n,u=r&&(0,o.A3)(r);return"object"==typeof(n=u)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,s.BM)(u)?new i.s(u):new i.s},e.prototype.startActiveSpan=function(e,t,r,n){var i,s,u;if(!(arguments.length<2)){2===arguments.length?u=t:3===arguments.length?(i=t,u=r):(i=t,s=r,u=n);var c=null!=s?s:a.active(),l=this.startSpan(e,i,c),d=(0,o.WZ)(c,l);return a.with(d,u,void 0,l)}},e}()},9953:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=new(r(9127).E),o=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},5983:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var n=r(9953),o=r(9127),i=new(function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new o.E},e}()),s=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var o;return null!==(o=this.getDelegateTracer(e,t,r))&&void 0!==o?o:new n.T(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},1227:(e,t,r)=>{"use strict";var n;r.d(t,{U:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},3557:(e,t,r)=>{"use strict";r.d(t,{A3:()=>p,Br:()=>a,G3:()=>d,HN:()=>u,TW:()=>l,WZ:()=>c});var n=r(5834),o=r(7817),i=r(3276),s=(0,n.Y)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||void 0}function u(){return a(i.c.getInstance().active())}function c(e,t){return e.setValue(s,t)}function l(e){return e.deleteValue(s)}function d(e,t){return c(e,new o.s(t))}function p(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},7007:(e,t,r)=>{"use strict";r.d(t,{AE:()=>i,Rr:()=>s,fQ:()=>o});var n=r(8726),o="0000000000000000",i="00000000000000000000000000000000",s={traceId:i,spanId:o,traceFlags:n.r.NONE}},87:(e,t,r)=>{"use strict";var n;r.d(t,{M:()=>n}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={}))},7228:(e,t,r)=>{"use strict";r.d(t,{BM:()=>c,Lc:()=>u,jN:()=>a,kw:()=>l});var n=r(7007),o=r(7817),i=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return i.test(e)&&e!==n.AE}function u(e){return s.test(e)&&e!==n.fQ}function c(e){return a(e.traceId)&&u(e.spanId)}function l(e){return new o.s(e)}},1820:(e,t,r)=>{"use strict";var n;r.d(t,{Q:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},8726:(e,t,r)=>{"use strict";var n;r.d(t,{r:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},3420:(e,t,r)=>{"use strict";var n;r.d(t,{I:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},3250:(e,t,r)=>{"use strict";r.d(t,{Cx:()=>a,H3:()=>c,Vo:()=>n,WM:()=>s,bO:()=>o,bU:()=>i,ef:()=>u});var n="=",o=";",i=",",s="baggage",a=180,u=4096,c=8192},926:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(9663),o=r(8397),i=r(3250),s=r(315),a=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.u.getBaggage(e);if(a&&!(0,o.Ll)(e)){var u=(0,s.getKeyPairs)(a).filter((function(e){return e.length<=i.ef})).slice(0,i.Cx),c=(0,s.serializeKeyPairs)(u);c.length>0&&r.set(t,i.WM,c)}},e.prototype.extract=function(e,t,r){var o=r.get(t,i.WM),a=Array.isArray(o)?o.join(i.bU):o;if(!a)return e;var u={};return 0===a.length?e:(a.split(i.bU).forEach((function(e){var t=(0,s.parsePairKeyValue)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),u[t.key]=r}})),0===Object.entries(u).length?e:n.u.setBaggage(e,n.u.createBaggage(u)))},e.prototype.fields=function(){return[i.WM]},e}()},315:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>c,parsePairKeyValue:()=>u,serializeKeyPairs:()=>s});var n=r(3593),o=r(3250),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function s(e){return e.reduce((function(e,t){var r=""+e+(""!==e?o.bU:"")+t;return r.length>o.H3?e:r}),"")}function a(e){return e.getAllEntries().map((function(e){var t=i(e,2),r=t[0],n=t[1],s=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(s+=o.bO+n.metadata.toString()),s}))}function u(e){var t=e.split(o.bO);if(!(t.length<=0)){var r=t.shift();if(r){var i=r.indexOf(o.Vo);if(!(i<=0)){var s,a=decodeURIComponent(r.substring(0,i).trim()),u=decodeURIComponent(r.substring(i+1).trim());return t.length>0&&(s=(0,n.u)(t.join(o.bO))),{key:a,value:u,metadata:s}}}}}function c(e){return"string"!=typeof e||0===e.length?{}:e.split(o.bU).map((function(e){return u(e)})).filter((function(e){return void 0!==e&&e.value.length>0})).reduce((function(e,t){return e[t.key]=t.value,e}),{})}},551:(e,t,r)=>{"use strict";r.d(t,{Do:()=>u,FT:()=>s,sy:()=>a});var n=r(928),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};function s(e){var t,r,s={};if("object"!=typeof e||null==e)return s;try{for(var c=o(Object.entries(e)),l=c.next();!l.done;l=c.next()){var d=i(l.value,2),p=d[0],f=d[1];a(p)?u(f)?Array.isArray(f)?s[p]=f.slice():s[p]=f:n.K.warn("Invalid attribute value set for key: "+p):n.K.warn("Invalid attribute key: "+p)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return s}function a(e){return"string"==typeof e&&e.length>0}function u(e){return null==e||(Array.isArray(e)?function(e){var t,r,n;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var a=s.value;if(null!=a){if(!n){if(c(a)){n=typeof a;continue}return!1}if(typeof a!==n)return!1}}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return!0}(e):c(e))}function c(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},6220:(e,t,r)=>{"use strict";r.d(t,{L:()=>i,c:()=>o});var n=(0,r(6470).x)();function o(e){n=e}function i(e){try{n(e)}catch(t){}}},6470:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(928);function o(){return function(e){n.K.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){var t={},r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}})),r=Object.getPrototypeOf(r);return t}(e))}(e))}}},7664:(e,t,r)=>{"use strict";r.d(t,{Dt:()=>g,J3:()=>d,Jt:()=>c,KO:()=>h,PW:()=>f,U:()=>u,Us:()=>p,X_:()=>v,aE:()=>l,i5:()=>a,ji:()=>m,vF:()=>y});var n=r(6383),o=9,i=Math.pow(10,6),s=Math.pow(10,o);function a(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*i)]}function u(){var e=n.t.timeOrigin;if("number"!=typeof e){var t=n.t;e=t.timing&&t.timing.fetchStart}return e}function c(e){return y(a(u()),a("number"==typeof e?e:n.t.now()))}function l(e){if(g(e))return e;if("number"==typeof e)return e<u()?c(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=s),[r,n]}function p(e){var t=o,r=""+"0".repeat(t)+e[1]+"Z",n=r.substr(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function f(e){return e[0]*s+e[1]}function h(e){return 1e3*e[0]+e[1]/1e6}function m(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function v(e){return g(e)||"number"==typeof e||e instanceof Date}function y(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=s&&(r[1]-=s,r[0]+=1),r}},15:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>L,AlwaysOnSampler:()=>k,AnchoredClock:()=>o,BindOnceFuture:()=>J.q,CompositePropagator:()=>C.Y,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>W.qG,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>W.KR,DEFAULT_ENVIRONMENT:()=>W.J9,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>W.Ys,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>W.VH,ExportResultCode:()=>d.I,ParentBasedSampler:()=>F,RPCType:()=>T,RandomIdGenerator:()=>y,SDK_INFO:()=>_.m,TRACE_PARENT_HEADER:()=>N.FX,TRACE_STATE_HEADER:()=>N.C3,TimeoutError:()=>Y,TraceIdRatioBasedSampler:()=>B,TraceState:()=>G.n,TracesSamplerValues:()=>H.J,VERSION:()=>q.q,W3CBaggagePropagator:()=>n.a,W3CTraceContextPropagator:()=>N.jf,_globalThis:()=>h.E,addHrTimes:()=>u.vF,baggageUtils:()=>p,callWithTimeout:()=>K,deleteRPCMetadata:()=>A,getEnv:()=>f.d,getEnvWithoutDefaults:()=>f.v,getRPCMetadata:()=>w,getTimeOrigin:()=>u.U,globalErrorHandler:()=>s.L,hexToBase64:()=>v,hexToBinary:()=>l,hrTime:()=>u.Jt,hrTimeDuration:()=>u.J3,hrTimeToMicroseconds:()=>u.ji,hrTimeToMilliseconds:()=>u.KO,hrTimeToNanoseconds:()=>u.PW,hrTimeToTimeStamp:()=>u.Us,internal:()=>Q,isAttributeKey:()=>i.sy,isAttributeValue:()=>i.Do,isTimeInput:()=>u.X_,isTimeInputHrTime:()=>u.Dt,isTracingSuppressed:()=>j.Ll,isUrlIgnored:()=>z.d,isWrapped:()=>Z,loggingErrorHandler:()=>a.x,merge:()=>V.T,millisToHrTime:()=>u.i5,otperformance:()=>b.t,parseEnvironment:()=>W.Ds,parseTraceParent:()=>N.j_,sanitizeAttributes:()=>i.FT,setGlobalErrorHandler:()=>s.c,setRPCMetadata:()=>O,suppressTracing:()=>j.hE,timeInputToHrTime:()=>u.aE,unrefTimer:()=>I.g,unsuppressTracing:()=>j.yy,urlMatches:()=>z.j});var n=r(926),o=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}(),i=r(551),s=r(6220),a=r(6470),u=r(7664);function c(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function l(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var o=c(e.charCodeAt(n)),i=c(e.charCodeAt(n+1));t[r++]=o<<4|i}return t}var d=r(3420),p=r(315),f=r(3580),h=r(5580),m=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},g=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};function v(e){return btoa(String.fromCharCode.apply(String,g([],m(l(e)),!1)))}var y=function(){this.generateTraceId=S(16),this.generateSpanId=S(8)},E=Array(32);function S(e){return function(){for(var t=0;t<2*e;t++)E[t]=Math.floor(16*Math.random())+48,E[t]>=58&&(E[t]+=39);return String.fromCharCode.apply(null,E.slice(0,2*e))}}var T,b=r(6383),_=r(9511),I=r(6869),C=r(3135),N=r(9588),R=(0,r(5834).Y)("OpenTelemetry SDK Context Key RPC_METADATA");function O(e,t){return e.setValue(R,t)}function A(e){return e.deleteValue(R)}function w(e){return e.getValue(R)}!function(e){e.HTTP="http"}(T||(T={}));var M,x=r(1227),L=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:x.U.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),k=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:x.U.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),D=r(8570),P=r(7228),U=r(8726),F=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,s.L)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new k),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new k,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new L,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new k,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new L}return e.prototype.shouldSample=function(e,t,r,n,o,i){var s=D.g.getSpanContext(e);return s&&(0,P.BM)(s)?s.isRemote?s.traceFlags&U.r.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):s.traceFlags&U.r.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),B=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,P.jN)(t)&&this._accumulate(t)<this._upperBound?x.U.RECORD_AND_SAMPLED:x.U.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}(),j=r(8397),G=r(8329),W=r(851),V=r(2820),H=r(9290),X=(M=function(e,t){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},M(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Y=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return X(t,e),t}(Error);function K(e,t){var r,n=new Promise((function(e,n){r=setTimeout((function(){n(new Y("Operation timed out."))}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}),(function(e){throw clearTimeout(r),e}))}var z=r(7402);function Z(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var J=r(1269),q=r(8923),$=r(6339);var Q={_export:function(e,t){return new Promise((function(r){$.D.with((0,j.hE)($.D.active()),(function(){e.export(t,(function(e){r(e)}))}))}))}}},3580:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,v:()=>s});var n=r(851),o=r(5580);function i(){var e=(0,n.Ds)(o.E);return Object.assign({},n.J9,e)}function s(){return(0,n.Ds)(o.E)}},5580:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{}},6383:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var n=performance},9511:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n,o=r(8923),i=r(5364),s=((n={})[i.d_]="opentelemetry",n[i.QG]="browser",n[i.Ft]=i.L7,n[i.AX]=o.q,n)},6869:(e,t,r)=>{"use strict";function n(e){}r.d(t,{g:()=>n})},3135:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(928),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((function(e){return"function"==typeof e.fields?e.fields():[]})).reduce((function(e,t){return e.concat(t)}),[])))}return e.prototype.inject=function(e,t,r){var i,s;try{for(var a=o(this._propagators),u=a.next();!u.done;u=a.next()){var c=u.value;try{c.inject(e,t,r)}catch(l){n.K.warn("Failed to inject with "+c.constructor.name+". Err: "+l.message)}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce((function(e,o){try{return o.extract(e,t,r)}catch(i){n.K.warn("Failed to inject with "+o.constructor.name+". Err: "+i.message)}return e}),e)},e.prototype.fields=function(){return this._fields.slice()},e}()},8329:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});var n="[_0-9a-z-*/]",o=new RegExp("^(?:"+("[a-z]"+n+"{0,255}")+"|"+("[a-z0-9]"+n+"{0,240}@[a-z]"+n+"{0,13}")+")$"),i=/^[ -~]{0,255}[!-~]$/,s=/,|=/;var a=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce((function(t,r){return t.push(r+"="+e.get(r)),t}),[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((function(e,t){var r=t.trim(),n=r.indexOf("=");if(-1!==n){var a=r.slice(0,n),u=r.slice(n+1,t.length);(function(e){return o.test(e)})(a)&&function(e){return i.test(e)&&!s.test(e)}(u)&&e.set(a,u)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},9588:(e,t,r)=>{"use strict";r.d(t,{C3:()=>c,FX:()=>u,j_:()=>d,jf:()=>p});var n=r(8570),o=r(7228),i=r(8726),s=r(8397),a=r(8329),u="traceparent",c="tracestate",l=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function d(e){var t=l.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}var p=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.g.getSpanContext(e);if(a&&!(0,s.Ll)(e)&&(0,o.BM)(a)){var l="00-"+a.traceId+"-"+a.spanId+"-0"+Number(a.traceFlags||i.r.NONE).toString(16);r.set(t,u,l),a.traceState&&r.set(t,c,a.traceState.serialize())}},e.prototype.extract=function(e,t,r){var o=r.get(t,u);if(!o)return e;var i=Array.isArray(o)?o[0]:o;if("string"!=typeof i)return e;var s=d(i);if(!s)return e;s.isRemote=!0;var l=r.get(t,c);if(l){var p=Array.isArray(l)?l.join(","):l;s.traceState=new a.n("string"==typeof p?p:void 0)}return n.g.setSpanContext(e,s)},e.prototype.fields=function(){return[u,c]},e}()},8397:(e,t,r)=>{"use strict";r.d(t,{Ll:()=>s,hE:()=>o,yy:()=>i});var n=(0,r(5834).Y)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function o(e){return e.setValue(n,!0)}function i(e){return e.deleteValue(n)}function s(e){return!0===e.getValue(n)}},1269:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=function(){function e(){var e=this;this._promise=new Promise((function(t,r){e._resolve=t,e._reject=r}))}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,i([this._that],o(r),!1))).then((function(e){return t._deferred.resolve(e)}),(function(e){return t._deferred.reject(e)}))}catch(s){this._deferred.reject(s)}}return this._deferred.promise},e}()},851:(e,t,r)=>{"use strict";r.d(t,{Ds:()=>b,J9:()=>g,KR:()=>p,VH:()=>m,Ys:()=>h,qG:()=>f});var n=r(6740),o=r(9290),i=",",s=["OTEL_SDK_DISABLED"];function a(e){return s.indexOf(e)>-1}var u=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function c(e){return u.indexOf(e)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}var p=1/0,f=128,h=128,m=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.n.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:f,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:p,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:f,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:h,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:o.J.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function v(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function y(e,t,r,n,o){if(void 0===n&&(n=-1/0),void 0===o&&(o=1/0),void 0!==r[e]){var i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function E(e,t,r,n){void 0===n&&(n=i);var o=r[e];"string"==typeof o&&(t[e]=o.split(n).map((function(e){return e.trim()})))}var S={ALL:n.n.ALL,VERBOSE:n.n.VERBOSE,DEBUG:n.n.DEBUG,INFO:n.n.INFO,WARN:n.n.WARN,ERROR:n.n.ERROR,NONE:n.n.NONE};function T(e,t,r){var n=r[e];if("string"==typeof n){var o=S[n.toUpperCase()];null!=o&&(t[e]=o)}}function b(e){var t={};for(var r in g){var n=r;if("OTEL_LOG_LEVEL"===n)T(n,t,e);else if(a(n))v(n,t,e);else if(c(n))y(n,t,e);else if(d(n))E(n,t,e);else{var o=e[n];null!=o&&(t[n]=String(o))}}return t}},2820:(e,t,r)=>{"use strict";r.d(t,{T:()=>v});var n,o,i="[object Object]",s="[object Null]",a="[object Undefined]",u=Function.prototype.toString,c=u.call(Object),l=(n=Object.getPrototypeOf,o=Object,function(e){return n(o(e))}),d=Object.prototype,p=d.hasOwnProperty,f=Symbol?Symbol.toStringTag:void 0,h=d.toString;function m(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||function(e){if(null==e)return void 0===e?a:s;return f&&f in Object(e)?function(e){var t=p.call(e,f),r=e[f],n=!1;try{e[f]=void 0,n=!0}catch(i){}var o=h.call(e);n&&(t?e[f]=r:delete e[f]);return o}(e):function(e){return h.call(e)}(e)}(e)!==i)return!1;var t=l(e);if(null===t)return!0;var r=p.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)===c}var g=20;function v(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=E(r,e.shift(),0,n);return r}function y(e){return T(e)?e.slice():e}function E(e,t,r,n){var o;if(void 0===r&&(r=0),!(r>g)){if(r++,I(e)||I(t)||b(t))o=y(t);else if(T(e)){if(o=e.slice(),T(t))for(var i=0,s=t.length;i<s;i++)o.push(y(t[i]));else if(_(t))for(i=0,s=(a=Object.keys(t)).length;i<s;i++){o[u=a[i]]=y(t[u])}}else if(_(e))if(_(t)){if(!function(e,t){if(!m(e)||!m(t))return!1;return!0}(e,t))return t;o=Object.assign({},e);var a;for(i=0,s=(a=Object.keys(t)).length;i<s;i++){var u,c=t[u=a[i]];if(I(c))void 0===c?delete o[u]:o[u]=c;else{var l=o[u],d=c;if(S(e,u,n)||S(t,u,n))delete o[u];else{if(_(l)&&_(d)){var p=n.get(l)||[],f=n.get(d)||[];p.push({obj:e,key:u}),f.push({obj:t,key:u}),n.set(l,p),n.set(d,f)}o[u]=E(o[u],c,r,n)}}}}else o=t;return o}}function S(e,t,r){for(var n=r.get(e[t])||[],o=0,i=n.length;o<i;o++){var s=n[o];if(s.key===t&&s.obj===e)return!0}return!1}function T(e){return Array.isArray(e)}function b(e){return"function"==typeof e}function _(e){return!I(e)&&!T(e)&&!b(e)&&"object"==typeof e}function I(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}},9290:(e,t,r)=>{"use strict";var n;r.d(t,{J:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},7402:(e,t,r)=>{"use strict";r.d(t,{d:()=>i,j:()=>o});var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function o(e,t){return"string"==typeof t?e===t:!!e.match(t)}function i(e,t){var r,i;if(!t)return!1;try{for(var s=n(t),a=s.next();!a.done;a=s.next()){if(o(e,a.value))return!0}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return!1}},8923:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});var n="1.25.1"},7680:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FetchInstrumentation:()=>T});var n,o=r(8570),i=r(6339),s=r(9663),a=r(87),u=r(6789),c=r(2469),l=r(7402),d=r(7664),p=r(7376),f=r(7913);!function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"}(n||(n={}));var h,m,g=r(3108),v="0.52.1",y=r(5580),E=(h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},h(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),S="object"==typeof process&&"node"===(null===(m=process.release)||void 0===m?void 0:m.name),T=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,"@opentelemetry/instrumentation-fetch",v,t)||this;return r.component="fetch",r.version=v,r.moduleName=r.component,r._usedResources=new WeakSet,r._tasksCount=0,r}return E(t,e),t.prototype.init=function(){},t.prototype._addChildSpan=function(e,t){var r=this.tracer.startSpan("CORS Preflight",{startTime:t[p.S.FETCH_START]},o.g.setSpan(i.D.active(),e));this.getConfig().ignoreNetworkEvents||f.lx(r,t),r.end(t[p.S.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(e,t){var r=f.en(t.url);e.setAttribute(g.LZ1,t.status),null!=t.statusText&&e.setAttribute(n.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(g.oMZ,r.host),e.setAttribute(g.BM2,r.protocol.replace(":","")),"undefined"!=typeof navigator&&e.setAttribute(g.kXj,navigator.userAgent)},t.prototype._addHeaders=function(e,t){if(!f.n4(t,this.getConfig().propagateTraceHeaderCorsUrls)){var r={};return s.u.inject(i.D.active(),r),void(Object.keys(r).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(e instanceof Request)s.u.inject(i.D.active(),e.headers,{set:function(e,t,r){return e.set(t,"string"==typeof r?r:String(r))}});else if(e.headers instanceof Headers)s.u.inject(i.D.active(),e.headers,{set:function(e,t,r){return e.set(t,"string"==typeof r?r:String(r))}});else if(e.headers instanceof Map)s.u.inject(i.D.active(),e.headers,{set:function(e,t,r){return e.set(t,"string"==typeof r?r:String(r))}});else{r={};s.u.inject(i.D.active(),r),e.headers=Object.assign({},r,e.headers||{})}},t.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(e,t){var r;if(void 0===t&&(t={}),!l.d(e,this.getConfig().ignoreUrls)){var o=(t.method||"GET").toUpperCase(),i="HTTP "+o;return this.tracer.startSpan(i,{kind:a.M.CLIENT,attributes:(r={},r[n.COMPONENT]=this.moduleName,r[g.ACM]=o,r[g.aVl]=e,r)})}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._findResourceAndAddNetworkEvents=function(e,t,r){var n=t.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}var o=f.RX(t.spanUrl,t.startTime,r,n,this._usedResources,"fetch");if(o.mainRequest){var i=o.mainRequest;this._markResourceAsUsed(i);var s=o.corsPreFlightRequest;s&&(this._addChildSpan(e,s),this._markResourceAsUsed(s)),this.getConfig().ignoreNetworkEvents||f.lx(e,i)}},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._endSpan=function(e,t,r){var n=this,o=d.i5(Date.now()),i=d.Jt();this._addFinalSpanAttributes(e,r),setTimeout((function(){var r;null===(r=t.observer)||void 0===r||r.disconnect(),n._findResourceAndAddNetworkEvents(e,t,i),n._tasksCount--,n._clearResources(),e.end(o)}),300)},t.prototype._patchConstructor=function(){var e=this;return function(t){var r=e;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=this,a=f.en(e[0]instanceof Request?e[0].url:String(e[0])).href,u=e[0]instanceof Request?e[0]:e[1]||{},c=r._createSpan(a,u);if(!c)return t.apply(this,e);var l=r._prepareSpanData(a);function d(e,t){r._applyAttributesAfterFetch(e,u,t),r._endSpan(e,l,{status:t.status||0,statusText:t.message,url:a})}function p(e,t){r._applyAttributesAfterFetch(e,u,t),t.status>=200&&t.status<400?r._endSpan(e,l,t):r._endSpan(e,l,{status:t.status,statusText:t.statusText,url:a})}function h(e,t,r){try{var n=r.clone(),o=r.clone(),i=n.body;if(i){var s=i.getReader(),a=function(){s.read().then((function(t){t.done?p(e,o):a()}),(function(t){d(e,t)}))};a()}else p(e,r)}finally{t(r)}}function m(e,t,r){try{d(e,r)}finally{t(r)}}return new Promise((function(e,n){return i.D.with(o.g.setSpan(i.D.active(),c),(function(){return r._addHeaders(u,a),r._tasksCount++,t.apply(s,u instanceof Request?[u]:[a,u]).then(h.bind(s,c,e),m.bind(s,c,n))}))}))}}},t.prototype._applyAttributesAfterFetch=function(e,t,r){var n=this,o=this.getConfig().applyCustomAttributesOnSpan;o&&(0,u._W)((function(){return o(e,t,r)}),(function(e){e&&n._diag.error("applyCustomAttributesOnSpan",e)}),!0)},t.prototype._prepareSpanData=function(e){var t=d.Jt(),r=[];if("function"!=typeof PerformanceObserver)return{entries:r,startTime:t,spanUrl:e};var n=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){"fetch"===t.initiatorType&&t.name===e&&r.push(t)}))}));return n.observe({entryTypes:["resource"]}),{entries:r,observer:n,startTime:t,spanUrl:e}},t.prototype.enable=function(){S?this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()"):((0,u.UW)(fetch)&&(this._unwrap(y.E,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(y.E,"fetch",this._patchConstructor()))},t.prototype.disable=function(){S||(this._unwrap(y.E,"fetch"),this._usedResources=new WeakSet)},t}(c.w)},1642:(e,t,r)=>{"use strict";r.r(t),r.d(t,{XMLHttpRequestInstrumentation:()=>S});var n,o=r(9663),i=r(6339),s=r(8570),a=r(87),u=r(6789),c=r(2469),l=r(6383),d=r(7402),p=r(7664),f=r(3108),h=r(7913),m=r(7376);!function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(n||(n={}));var g,v="0.52.1";!function(e){e.HTTP_STATUS_TEXT="http.status_text"}(g||(g={}));var y,E=(y=function(e,t){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},y(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),S=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,"@opentelemetry/instrumentation-xml-http-request",v,t)||this;return r.component="xml-http-request",r.version=v,r.moduleName=r.component,r._tasksCount=0,r._xhrMem=new WeakMap,r._usedResources=new WeakSet,r}return E(t,e),t.prototype.init=function(){},t.prototype._addHeaders=function(e,t){var r=(0,h.en)(t).href;if(!(0,h.n4)(r,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};return o.u.inject(i.D.active(),n),void(Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var s={};o.u.inject(i.D.active(),s),Object.keys(s).forEach((function(t){e.setRequestHeader(t,String(s[t]))}))},t.prototype._addChildSpan=function(e,t){var r=this;i.D.with(s.g.setSpan(i.D.active(),e),(function(){var e=r.tracer.startSpan("CORS Preflight",{startTime:t[m.S.FETCH_START]});r.getConfig().ignoreNetworkEvents||(0,h.lx)(e,t),e.end(t[m.S.RESPONSE_END])}))},t.prototype._addFinalSpanAttributes=function(e,t,r){if("string"==typeof r){var n=(0,h.en)(r);void 0!==t.status&&e.setAttribute(f.LZ1,t.status),void 0!==t.statusText&&e.setAttribute(g.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(f.oMZ,n.host),e.setAttribute(f.BM2,n.protocol.replace(":","")),e.setAttribute(f.kXj,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(e,t){var r=this,n=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof n&&(0,u._W)((function(){return n(e,t)}),(function(e){e&&r._diag.error("applyCustomAttributesOnSpan",e)}),!0)},t.prototype._addResourceObserver=function(e,t){var r=this._xhrMem.get(e);r&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(r.createdResources={observer:new PerformanceObserver((function(e){var n=e.getEntries(),o=(0,h.en)(t);n.forEach((function(e){"xmlhttprequest"===e.initiatorType&&e.name===o.href&&r.createdResources&&r.createdResources.entries.push(e)}))})),entries:[]},r.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(l.t.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(e,t,r,n,o){if(r&&n&&o&&e.createdResources){var i=e.createdResources.entries;i&&i.length||(i=l.t.getEntriesByType("resource"));var s=(0,h.RX)((0,h.en)(r).href,n,o,i,this._usedResources);if(s.mainRequest){var a=s.mainRequest;this._markResourceAsUsed(a);var u=s.corsPreFlightRequest;u&&(this._addChildSpan(t,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||(0,h.lx)(t,a)}}},t.prototype._cleanPreviousSpanInformation=function(e){var t=this._xhrMem.get(e);if(t){var r=t.callbackToRemoveEvents;r&&r(),this._xhrMem.delete(e)}},t.prototype._createSpan=function(e,t,r){var o;if(!(0,d.d)(t,this.getConfig().ignoreUrls)){var i=r.toUpperCase(),s=this.tracer.startSpan(i,{kind:a.M.CLIENT,attributes:(o={},o[f.ACM]=r,o[f.aVl]=(0,h.en)(t).toString(),o)});return s.addEvent(n.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:s,spanUrl:t}),s}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._patchOpen=function(){var e=this;return function(t){var r=e;return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[0],i=e[1];return r._createSpan(this,i,o),t.apply(this,e)}}},t.prototype._patchSend=function(){var e=this;function t(t,r){var n=e._xhrMem.get(r);if(n){n.status=r.status,n.statusText=r.statusText,e._xhrMem.delete(r),n.span&&e._applyAttributesAfterXHR(n.span,r);var o=(0,p.Jt)(),i=Date.now();setTimeout((function(){!function(t,r,n,o){var i=r.callbackToRemoveEvents;"function"==typeof i&&i();var s=r.span,a=r.spanUrl,u=r.sendStartTime;s&&(e._findResourceAndAddNetworkEvents(r,s,a,u,n),s.addEvent(t,o),e._addFinalSpanAttributes(s,r,a),s.end(o),e._tasksCount--),e._clearResources()}(t,n,o,i)}),300)}}function r(){t(n.EVENT_ERROR,this)}function o(){t(n.EVENT_ABORT,this)}function a(){t(n.EVENT_TIMEOUT,this)}function u(){this.status<299?t(n.EVENT_LOAD,this):t(n.EVENT_ERROR,this)}return function(t){return function(){for(var c=this,l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=e._xhrMem.get(this);if(!f)return t.apply(this,l);var h=f.span,m=f.spanUrl;return h&&m&&i.D.with(s.g.setSpan(i.D.active(),h),(function(){e._tasksCount++,f.sendStartTime=(0,p.Jt)(),h.addEvent(n.METHOD_SEND),c.addEventListener("abort",o),c.addEventListener("error",r),c.addEventListener("load",u),c.addEventListener("timeout",a),f.callbackToRemoveEvents=function(){!function(t){t.removeEventListener("abort",o),t.removeEventListener("error",r),t.removeEventListener("load",u),t.removeEventListener("timeout",a);var n=e._xhrMem.get(t);n&&(n.callbackToRemoveEvents=void 0)}(c),f.createdResources&&f.createdResources.observer.disconnect()},e._addHeaders(c,m),e._addResourceObserver(c,m)})),t.apply(this,l)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),(0,u.UW)(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),(0,u.UW)(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(c.w)},978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>a.w,InstrumentationNodeModuleDefinition:()=>u,InstrumentationNodeModuleFile:()=>l,isWrapped:()=>d.UW,registerInstrumentations:()=>s,safeExecuteInTheMiddle:()=>d._W,safeExecuteInTheMiddleAsync:()=>d.d0});var n=r(8570),o=r(7782),i=r(7845);function s(e){var t,r,s=e.tracerProvider||n.g.getTracerProvider(),a=e.meterProvider||o.q.getMeterProvider(),u=e.loggerProvider||i.TD.getLoggerProvider(),c=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return function(e,t,r,n){for(var o=0,i=e.length;o<i;o++){var s=e[o];t&&s.setTracerProvider(t),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}(c,s,a,u),function(){!function(e){e.forEach((function(e){return e.disable()}))}(c)}}var a=r(2469),u=function(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]},c=r(928);var l=function(e,t,r,n){var o;this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(o=e,c.K.warn("Path normalization is not implemented for this platform. To silence this warning, ensure no node-specific instrumentations are loaded, and node-specific types (e.g. InstrumentationNodeModuleFile), are not used in a browser context)"),o)},d=r(6789)},2469:(e,t,r)=>{"use strict";r.d(t,{w:()=>p});var n,o=r(928),i=r(8570),s=r(7782),a=r(7845),u=r(6372),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},l=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=u.wrap,this._unwrap=u.unwrap,this._massWrap=u.massWrap,this._massUnwrap=u.massUnwrap,this._config=c({enabled:!0},r),this._diag=o.K.createComponentLogger({namespace:e}),this._tracer=i.g.getTracer(e,t),this._meter=s.q.getMeter(e,t),this._logger=a.TD.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=c({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(o){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},o)}},e}(),d=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;return o._config.enabled&&o.enable(),o}return d(t,e),t}(l)},6789:(e,t,r)=>{"use strict";r.d(t,{UW:()=>a,_W:()=>i,d0:()=>s});var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function i(e,t,r){var n,o;try{o=e()}catch(i){n=i}finally{if(t(n,o),n&&!r)throw n;return o}}function s(e,t,r){return n(this,void 0,void 0,(function(){var n,i,s;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),[4,e()];case 1:return i=o.sent(),[3,4];case 2:return s=o.sent(),n=s,[3,4];case 3:if(t(n,i),n&&!r)throw n;return[2,i];case 4:return[2]}}))}))}function a(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}},3499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AWSXRAY_TRACE_ID_HEADER:()=>a,AWSXRayPropagator:()=>u});var n=r(8570),o=r(7228),i=r(8726),s=r(7007),a="x-amzn-trace-id",u=function(){function e(){}return e.prototype.inject=function(e,t,r){var s,u=null===(s=n.g.getSpan(e))||void 0===s?void 0:s.spanContext();if(u&&(0,o.BM)(u)){var c=u.traceId,l="Root=1-"+c.substring(0,8)+"-"+c.substring(8)+";Parent="+u.spanId+";Sampled="+((i.r.SAMPLED&u.traceFlags)===i.r.SAMPLED?"1":"0");r.set(t,a,l)}},e.prototype.extract=function(e,t,r){var i=this.getSpanContextFromHeader(t,r);return(0,o.BM)(i)?n.g.setSpan(e,n.g.wrapSpanContext(i)):e},e.prototype.fields=function(){return[a]},e.prototype.getSpanContextFromHeader=function(t,r){var n=r.keys(t).find((function(e){return e.toLowerCase()===a}));if(!n)return s.Rr;var i=r.get(t,n);if(!i||"string"!=typeof i)return s.Rr;for(var u,c=0,l=s.AE,d=s.fQ,p=null;c<i.length;){var f=i.indexOf(";",c);f>=0?(u=i.substring(c,f).trim(),c=f+1):(u=i.substring(c).trim(),c=i.length);var h=u.indexOf("="),m=u.substring(h+1);u.startsWith("Root")?l=e._parseTraceId(m):u.startsWith("Parent")?d=e._parseSpanId(m):u.startsWith("Sampled")&&(p=e._parseTraceFlag(m))}if(null===p)return s.Rr;var g={traceId:l,spanId:d,traceFlags:p,isRemote:!0};return(0,o.BM)(g)?g:s.Rr},e._parseTraceId=function(e){if(35!==e.length)return s.AE;if(!e.startsWith("1"))return s.AE;if("-"!==e.charAt(1)||"-"!==e.charAt(10))return s.AE;var t=e.substring(2,10)+e.substring(11,35);return(0,o.jN)(t)?t:s.AE},e._parseSpanId=function(e){return(0,o.Lc)(e)?e:s.fQ},e._parseTraceFlag=function(e){return"0"===e?i.r.NONE:"1"===e?i.r.SAMPLED:null},e}()},6810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{B3InjectEncoding:()=>_,B3Propagator:()=>C,B3_CONTEXT_HEADER:()=>u,X_B3_FLAGS:()=>f,X_B3_PARENT_SPAN_ID:()=>p,X_B3_SAMPLED:()=>d,X_B3_SPAN_ID:()=>l,X_B3_TRACE_ID:()=>c});var n=r(8397),o=r(8726),i=r(8570),s=r(7228),a=(0,r(5834).Y)("OpenTelemetry Context Key B3 Debug Flag"),u="b3",c="x-b3-traceid",l="x-b3-spanid",d="x-b3-sampled",p="x-b3-parentspanid",f="x-b3-flags",h=new Set([!0,"true","True","1",1]),m=new Set([!1,"false","False","0",0]);function g(e,t,r){return function(e){return Array.isArray(e)?e[0]:e}(t.get(e,r))}function v(e,t){return"1"===g(e,t,f)?"1":void 0}var y=function(){function e(){}return e.prototype.inject=function(e,t,r){var u=i.g.getSpanContext(e);if(u&&(0,s.BM)(u)&&!(0,n.Ll)(e)){var p=e.getValue(a);r.set(t,c,u.traceId),r.set(t,l,u.spanId),"1"===p?r.set(t,f,p):void 0!==u.traceFlags&&r.set(t,d,(o.r.SAMPLED&u.traceFlags)===o.r.SAMPLED?"1":"0")}},e.prototype.extract=function(e,t,r){var n,u=function(e,t){var r=g(e,t,c);return"string"==typeof r?r.padStart(32,"0"):""}(t,r),p=function(e,t){var r=g(e,t,l);return"string"==typeof r?r:""}(t,r),f=function(e,t){var r=g(e,t,d);return"1"===v(e,t)||h.has(r)?o.r.SAMPLED:void 0===r||m.has(r)?o.r.NONE:void 0}(t,r),y=v(t,r);return(0,s.jN)(u)&&(0,s.Lc)(p)&&((n=f)===o.r.SAMPLED||n===o.r.NONE)?(e=e.setValue(a,y),i.g.setSpanContext(e,{traceId:u,spanId:p,isRemote:!0,traceFlags:f})):e},e.prototype.fields=function(){return[c,l,f,d,p]},e}(),E=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},S=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,T="0".repeat(16),b=new Set(["d","1"]);var _,I=function(){function e(){}return e.prototype.inject=function(e,t,r){var o=i.g.getSpanContext(e);if(o&&(0,s.BM)(o)&&!(0,n.Ll)(e)){var c=e.getValue(a)||1&o.traceFlags,l=o.traceId+"-"+o.spanId+"-"+c;r.set(t,u,l)}},e.prototype.extract=function(e,t,r){var n=r.get(t,u),c=Array.isArray(n)?n[0]:n;if("string"!=typeof c)return e;var l=c.match(S);if(!l)return e;var d=E(l,4),p=d[1],f=d[2],h=d[3],m=function(e){return 32===e.length?e:""+T+e}(p);if(!(0,s.jN)(m)||!(0,s.Lc)(f))return e;var g=function(e){return e&&b.has(e)?o.r.SAMPLED:o.r.NONE}(h);return"d"===h&&(e=e.setValue(a,h)),i.g.setSpanContext(e,{traceId:m,spanId:f,isRemote:!0,traceFlags:g})},e.prototype.fields=function(){return[u]},e}();!function(e){e[e.SINGLE_HEADER=0]="SINGLE_HEADER",e[e.MULTI_HEADER=1]="MULTI_HEADER"}(_||(_={}));var C=function(){function e(e){void 0===e&&(e={}),this._b3MultiPropagator=new y,this._b3SinglePropagator=new I,e.injectEncoding===_.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}return e.prototype.inject=function(e,t,r){(0,n.Ll)(e)||this._inject(e,t,r)},e.prototype.extract=function(e,t,r){var n=r.get(t,u);return(Array.isArray(n)?n[0]:n)?this._b3SinglePropagator.extract(e,t,r):this._b3MultiPropagator.extract(e,t,r)},e.prototype.fields=function(){return this._fields},e}()},298:(e,t,r)=>{"use strict";r.d(t,{u:()=>O,X:()=>h});var n=r(928),o=r(8570),i=r(6339),s=r(9663),a=r(2820),u=r(3580),c=r(3135),l=r(9588),d=r(926),p=r(5364),f=r(9511);var h,m=function(){return m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},g=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},v=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},y=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},E=function(){function e(e,t){var r,o=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==t?void 0:t.then((function(e){return o._attributes=Object.assign({},o._attributes,e),o.asyncAttributesPending=!1,e}),(function(e){return n.K.debug("a resource's async attributes promise rejected: %s",e),o.asyncAttributesPending=!1,{}}))}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[p.Ze]="unknown_service",t[p.Ft]=f.m[p.Ft],t[p.d_]=f.m[p.d_],t[p.AX]=f.m[p.AX],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&n.K.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return g(this,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.merge=function(t){var r,n=this;if(!t)return this;var o=m(m({},this._syncAttributes),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then((function(e){var r,o=y(e,2),i=o[0],s=o[1];return m(m(m(m({},n._syncAttributes),i),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes),s)}));return new e(o,i)},e.EMPTY=new e({}),e}(),S=r(5611),T=r(5946),b=r(6220),_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},I=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var n=_(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.forceFlush())}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e){Promise.all(r).then((function(){e()})).catch((function(t){(0,b.L)(t||new Error("MultiSpanProcessor: forceFlush failed")),e()}))}))},e.prototype.onStart=function(e,t){var r,n;try{for(var o=_(this._spanProcessors),i=o.next();!i.done;i=o.next()){i.value.onStart(e,t)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=_(this._spanProcessors),o=n.next();!o.done;o=n.next()){o.value.onEnd(e)}}catch(i){t={error:i}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=_(this._spanProcessors),o=n.next();!o.done;o=n.next()){var i=o.value;r.push(i.shutdown())}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise((function(e,t){Promise.all(r).then((function(){e()}),t)}))},e}(),C=r(7498),N=r(8797),R=r(1314);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(h||(h={}));var O=function(){function e(e){var t;void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=(0,a.T)({},(0,T.K)(),(0,R.r)(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:E.empty(),this.resource=E.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var o=new N.p(n);this.activeSpanProcessor=o}else this.activeSpanProcessor=new C.m}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new S.k({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((function(e){return n.K.error("Error while trying to shutdown current span processor",e)})),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new I(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),o.g.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&i.D.setGlobalContextManager(e.contextManager),e.propagator&&s.u.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((function(t){return new Promise((function(r){var n,o=setTimeout((function(){r(new Error("Span processor did not completed within timeout period of "+e+" ms")),n=h.timeout}),e);t.forceFlush().then((function(){clearTimeout(o),n!==h.timeout&&(n=h.resolved,r(n))})).catch((function(e){clearTimeout(o),n=h.error,r(e)}))}))}));return new Promise((function(e,r){Promise.all(t).then((function(t){var n=t.filter((function(e){return e!==h.resolved}));n.length>0?r(n):e()})).catch((function(e){return r([e])}))}))},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,u.d)().OTEL_PROPAGATORS)),r=t.map((function(t){var r=e._getPropagator(t);return r||n.K.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),r})).reduce((function(e,t){return t&&e.push(t),e}),[]);return 0===r.length?void 0:1===t.length?r[0]:new c.Y({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=(0,u.d)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||n.K.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new l.jf}],["baggage",function(){return new d.a}]]),e._registeredExporters=new Map,e}()},4977:(e,t,r)=>{"use strict";var n;r.d(t,{U:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},8281:(e,t,r)=>{"use strict";r.d(t,{D:()=>p});var n=r(1820),o=r(928),i=r(6383),s=r(7664),a=r(551),u=r(3108),c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},d=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},p=function(){function e(e,t,r,o,a,u,c,l,d,p){void 0===c&&(c=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:n.Q.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=u,this.kind=a,this.links=c;var f=Date.now();this._performanceStartTime=i.t.now(),this._performanceOffset=f-(this._performanceStartTime+(0,s.U)()),this._startTimeProvided=null!=l,this.startTime=this._getTime(null!=l?l:f),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=p&&this.setAttributes(p),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(o.K.warn("Invalid attribute key: "+e),this):(0,a.Do)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(o.K.warn("Invalid attribute value set for key: "+e),this)},e.prototype.setAttributes=function(e){var t,r;try{for(var n=c(Object.entries(e)),o=n.next();!o.done;o=n.next()){var i=l(o.value,2),s=i[0],a=i[1];this.setAttribute(s,a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return o.K.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&o.K.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,s.X_)(t)&&((0,s.X_)(r)||(r=t),t=void 0);var n=(0,a.FT)(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,d([],l(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){this._isSpanEnded()?o.K.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,s.J3)(this.startTime,this.endTime),this._duration[0]<0&&(o.K.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&o.K.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(e){if("number"==typeof e&&e<i.t.now())return(0,s.Jt)(e+this._performanceOffset);if("number"==typeof e)return(0,s.i5)(e);if(e instanceof Date)return(0,s.i5)(e.getTime());if((0,s.Dt)(e))return e;if(this._startTimeProvided)return(0,s.i5)(Date.now());var t=i.t.now()-this._performanceStartTime;return(0,s.vF)(this.startTime,(0,s.i5)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var r={};"string"==typeof e?r[u.WTV]=e:e&&(e.code?r[u.qvI]=e.code.toString():e.name&&(r[u.qvI]=e.name),e.message&&(r[u.WTV]=e.message),e.stack&&(r[u.Wji]=e.stack)),r[u.qvI]||r[u.WTV]?this.addEvent("exception",r,t):o.K.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&o.K.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(o.K.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map((function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e})):e},e}()},5611:(e,t,r)=>{"use strict";r.d(t,{k:()=>m});var n=r(6339),o=r(8570),i=r(928),s=r(7007),a=r(87),u=r(1227),c=r(8726),l=r(8397),d=r(551),p=r(8281),f=r(1314),h=r(90),m=function(){function e(e,t,r){this._tracerProvider=r;var n=(0,f.f)(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new h.m,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){var f,h,m;void 0===t&&(t={}),void 0===r&&(r=n.D.active()),t.root&&(r=o.g.deleteSpan(r));var g=o.g.getSpan(r);if((0,l.Ll)(r))return i.K.debug("Instrumentation suppressed, returning Noop Span"),o.g.wrapSpanContext(s.Rr);var v,y,E,S=null==g?void 0:g.spanContext(),T=this._idGenerator.generateSpanId();S&&o.g.isSpanContextValid(S)?(v=S.traceId,y=S.traceState,E=S.spanId):v=this._idGenerator.generateTraceId();var b=null!==(f=t.kind)&&void 0!==f?f:a.M.INTERNAL,_=(null!==(h=t.links)&&void 0!==h?h:[]).map((function(e){return{context:e.context,attributes:(0,d.FT)(e.attributes)}})),I=(0,d.FT)(t.attributes),C=this._sampler.shouldSample(r,v,e,b,I,_);y=null!==(m=C.traceState)&&void 0!==m?m:y;var N={traceId:v,spanId:T,traceFlags:C.decision===u.U.RECORD_AND_SAMPLED?c.r.SAMPLED:c.r.NONE,traceState:y};if(C.decision===u.U.NOT_RECORD)return i.K.debug("Recording is off, propagating context in a non-recording span"),o.g.wrapSpanContext(N);var R=(0,d.FT)(Object.assign(I,C.attributes));return new p.D(this,r,e,N,b,E,_,t.startTime,void 0,R)},e.prototype.startActiveSpan=function(e,t,r,i){var s,a,u;if(!(arguments.length<2)){2===arguments.length?u=t:3===arguments.length?(s=t,u=r):(s=t,a=r,u=i);var c=null!=a?a:n.D.active(),l=this.startSpan(e,s,c),d=o.g.setSpan(c,l);return n.D.with(d,u,void 0,l)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}()},5946:(e,t,r)=>{"use strict";r.d(t,{K:()=>f,V:()=>h});var n=r(928),o=r(3580),i=r(9290),s=r(6375),a=r(1934),u=r(356),c=r(5751),l=(0,o.d)(),d=i.J.AlwaysOn,p=1;function f(){return{sampler:h(l),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,o.d)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.d)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,o.d)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,o.d)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,o.d)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function h(e){switch(void 0===e&&(e=(0,o.d)()),e.OTEL_TRACES_SAMPLER){case i.J.AlwaysOn:return new a.t;case i.J.AlwaysOff:return new s._;case i.J.ParentBasedAlwaysOn:return new u.N({root:new a.t});case i.J.ParentBasedAlwaysOff:return new u.N({root:new s._});case i.J.TraceIdRatio:return new c.a(m(e));case i.J.ParentBasedTraceIdRatio:return new u.N({root:new c.a(m(e))});default:return n.K.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+d+'".'),new a.t}}function m(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return n.K.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+p+"."),p;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(n.K.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+p+"."),p):t<0||t>1?(n.K.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+p+"."),p):t}},7498:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}()},3901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>b._,AlwaysOnSampler:()=>_.t,BasicTracerProvider:()=>o.u,BatchSpanProcessor:()=>i.p,ConsoleSpanExporter:()=>l,ForceFlushState:()=>o.X,InMemorySpanExporter:()=>f,NoopSpanProcessor:()=>T.m,ParentBasedSampler:()=>I.N,RandomIdGenerator:()=>s.m,SamplingDecision:()=>N.U,SimpleSpanProcessor:()=>S,Span:()=>R.D,TraceIdRatioBasedSampler:()=>C.a,Tracer:()=>n.k});var n=r(5611),o=r(298),i=r(8797),s=r(90),a=r(7664),u=r(3420),c=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,a.ji)(e.startTime),duration:(0,a.ji)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,n;try{for(var o=c(e),i=o.next();!i.done;i=o.next()){var s=i.value;console.dir(this._exportInfo(s),{depth:3})}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}if(t)return t({code:u.I.SUCCESS})},e}(),d=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},p=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},f=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:u.I.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,p([],d(e),!1)),setTimeout((function(){return t({code:u.I.SUCCESS})}),0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}(),h=r(8726),m=r(1269),g=r(15),v=r(6220),y=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},E=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},S=function(){function e(e){this._exporter=e,this._shutdownOnce=new m.q(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return y(this,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,r,n=this;if(!this._shutdownOnce.isCalled&&0!=(e.spanContext().traceFlags&h.r.SAMPLED)){var o=function(){return g.internal._export(n._exporter,[e]).then((function(e){var t;e.code!==u.I.SUCCESS&&(0,v.L)(null!==(t=e.error)&&void 0!==t?t:new Error("SimpleSpanProcessor: span export failed (status "+e+")"))})).catch((function(e){(0,v.L)(e)}))};if(e.resource.asyncAttributesPending){var i=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then((function(){return null!=i&&n._unresolvedExports.delete(i),o()}),(function(e){return(0,v.L)(e)}));null!=i&&this._unresolvedExports.add(i)}else o()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}(),T=r(7498),b=r(6375),_=r(1934),I=r(356),C=r(5751),N=r(4977),R=r(8281)},90:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=function(){this.generateTraceId=i(16),this.generateSpanId=i(8)},o=Array(32);function i(e){return function(){for(var t=0;t<2*e;t++)o[t]=Math.floor(16*Math.random())+48,o[t]>=58&&(o[t]+=39);return String.fromCharCode.apply(null,o.slice(0,2*e))}}},8797:(e,t,r)=>{"use strict";r.d(t,{p:()=>m});var n,o=r(928),i=r(8726),s=r(6339),a=r(3580),u=r(1269),c=r(8397),l=r(3420),d=r(6220),p=r(6869),f=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=(0,a.d)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new u.q(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(o.K.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&i.r.SAMPLED)&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then((function(){return e.onShutdown()})).then((function(){return e._flushAll()})).then((function(){return e._exporter.shutdown()}))},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&o.K.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(o.K.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise((function(t,r){for(var n=[],o=0,i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize);o<i;o++)n.push(e._flushOneBatch());Promise.all(n).then((function(){t()})).catch(r)}))},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((function(t,r){var n=setTimeout((function(){r(new Error("Timeout"))}),e._exportTimeoutMillis);s.D.with((0,c.hE)(s.D.active()),(function(){var o;e._finishedSpans.length<=e._maxExportBatchSize?(o=e._finishedSpans,e._finishedSpans=[]):o=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var i=function(){return e._exporter.export(o,(function(e){var o;clearTimeout(n),e.code===l.I.SUCCESS?t():r(null!==(o=e.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))},s=null,a=0,u=o.length;a<u;a++){var c=o[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=s||(s=[]),s.push(c.resource.waitForAsyncAttributes()))}null===s?i():Promise.all(s).then(i,(function(e){(0,d.L)(e),r(e)}))}))}))},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally((function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())})).catch((function(t){e._isExporting=!1,(0,d.L)(t)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout((function(){return t()}),this._scheduledDelayMillis),(0,p.g)(this._timer))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),h=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),m=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.onInit(r),n}return h(t,e),t.prototype.onInit=function(e){var t=this;!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(f)},6375:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(4977),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.U.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},1934:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});var n=r(4977),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.U.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},356:(e,t,r)=>{"use strict";r.d(t,{N:()=>c});var n=r(8570),o=r(7228),i=r(8726),s=r(6220),a=r(6375),u=r(1934),c=function(){function e(e){var t,r,n,o;this._root=e.root,this._root||((0,s.L)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new u.t),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new u.t,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new a._,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new u.t,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new a._}return e.prototype.shouldSample=function(e,t,r,s,a,u){var c=n.g.getSpanContext(e);return c&&(0,o.BM)(c)?c.isRemote?c.traceFlags&i.r.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,s,a,u):this._remoteParentNotSampled.shouldSample(e,t,r,s,a,u):c.traceFlags&i.r.SAMPLED?this._localParentSampled.shouldSample(e,t,r,s,a,u):this._localParentNotSampled.shouldSample(e,t,r,s,a,u):this._root.shouldSample(e,t,r,s,a,u)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},5751:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var n=r(7228),o=r(4977),i=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.jN)(t)&&this._accumulate(t)<this._upperBound?o.U.RECORD_AND_SAMPLED:o.U.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},1314:(e,t,r)=>{"use strict";r.d(t,{f:()=>s,r:()=>a});var n=r(5946),o=r(3580),i=r(851);function s(e){var t={sampler:(0,n.V)()},r=(0,n.K)(),o=Object.assign({},r,t,e);return o.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),o}function a(e){var t,r,n,s,a,u,c,l,d,p,f,h,m=Object.assign({},e.spanLimits),g=(0,o.v)();return m.attributeCountLimit=null!==(u=null!==(a=null!==(s=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==s?s:g.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:g.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==u?u:i.qG,m.attributeValueLengthLimit=null!==(h=null!==(f=null!==(p=null!==(l=null===(c=e.spanLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==l?l:null===(d=e.generalLimits)||void 0===d?void 0:d.attributeValueLengthLimit)&&void 0!==p?p:g.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==f?f:g.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==h?h:i.KR,Object.assign({},e,{spanLimits:m})}},7376:(e,t,r)=>{"use strict";var n;r.d(t,{S:()=>n}),function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(n||(n={}))},5173:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>f.AlwaysOffSampler,AlwaysOnSampler:()=>f.AlwaysOnSampler,BasicTracerProvider:()=>f.BasicTracerProvider,BatchSpanProcessor:()=>f.BatchSpanProcessor,ConsoleSpanExporter:()=>f.ConsoleSpanExporter,ForceFlushState:()=>f.ForceFlushState,InMemorySpanExporter:()=>f.InMemorySpanExporter,NoopSpanProcessor:()=>f.NoopSpanProcessor,ParentBasedSampler:()=>f.ParentBasedSampler,PerformanceTimingNames:()=>d.S,RandomIdGenerator:()=>f.RandomIdGenerator,SamplingDecision:()=>f.SamplingDecision,SimpleSpanProcessor:()=>f.SimpleSpanProcessor,Span:()=>f.Span,StackContextManager:()=>u,TraceIdRatioBasedSampler:()=>f.TraceIdRatioBasedSampler,Tracer:()=>f.Tracer,WebTracerProvider:()=>l,addSpanNetworkEvent:()=>p.M4,addSpanNetworkEvents:()=>p.lx,getElementXPath:()=>p.Hr,getResource:()=>p.RX,hasKey:()=>p.wH,normalizeUrl:()=>p.D5,parseUrl:()=>p.en,shouldPropagateTraceHeaders:()=>p.n4,sortResources:()=>p.rg});var n,o=r(298),i=r(5834),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},a=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},u=function(){function e(){this._enabled=!1,this._currentContext=i.I}return e.prototype._bindFunction=function(e,t){void 0===e&&(e=i.I);var r=this,n=function(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r.with(e,(function(){return t.apply(n,o)}))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t},e.prototype.disable=function(){return this._currentContext=i.I,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=i.I),this},e.prototype.with=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];var u=this._currentContext;this._currentContext=e||i.I;try{return t.call.apply(t,a([r],s(n),!1))}finally{this._currentContext=u}},e}(),c=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return r}return c(t,e),t.prototype.register=function(t){void 0===t&&(t={}),void 0===t.contextManager&&(t.contextManager=new u),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},t}(o.u),d=r(7376),p=r(7913),f=r(3901)},7913:(e,t,r)=>{"use strict";r.d(t,{D5:()=>m,Hr:()=>g,M4:()=>c,RX:()=>f,en:()=>h,lx:()=>l,n4:()=>v,rg:()=>d,wH:()=>u});var n,o=r(7376),i=r(7664),s=r(7402),a=r(3108);function u(e,t){return t in e}function c(e,t,r,n){var i=void 0,s=void 0;u(r,t)&&"number"==typeof r[t]&&(i=r[t]);var a=n||o.S.FETCH_START;if(u(r,a)&&"number"==typeof r[a]&&(s=r[a]),void 0!==i&&void 0!==s&&i>=s)return e.addEvent(t,i),e}function l(e,t){c(e,o.S.FETCH_START,t),c(e,o.S.DOMAIN_LOOKUP_START,t),c(e,o.S.DOMAIN_LOOKUP_END,t),c(e,o.S.CONNECT_START,t),u(t,"name")&&t.name.startsWith("https:")&&c(e,o.S.SECURE_CONNECTION_START,t),c(e,o.S.CONNECT_END,t),c(e,o.S.REQUEST_START,t),c(e,o.S.RESPONSE_START,t),c(e,o.S.RESPONSE_END,t);var r=t[o.S.ENCODED_BODY_SIZE];void 0!==r&&e.setAttribute(a.ynx,r);var n=t[o.S.DECODED_BODY_SIZE];void 0!==n&&r!==n&&e.setAttribute(a.ljJ,n)}function d(e){return e.slice().sort((function(e,t){var r=e[o.S.FETCH_START],n=t[o.S.FETCH_START];return r>n?1:r<n?-1:0}))}function p(){return"undefined"!=typeof location?location.origin:void 0}function f(e,t,r,n,s,a){void 0===s&&(s=new WeakSet);var u=h(e),c=function(e,t,r,n,s,a){var u=(0,i.PW)(t),c=(0,i.PW)(r),l=n.filter((function(t){var r=(0,i.PW)((0,i.aE)(t[o.S.FETCH_START])),n=(0,i.PW)((0,i.aE)(t[o.S.RESPONSE_END]));return t.initiatorType.toLowerCase()===(a||"xmlhttprequest")&&t.name===e&&r>=u&&n<=c}));l.length>0&&(l=l.filter((function(e){return!s.has(e)})));return l}(e=u.toString(),t,r,n,s,a);if(0===c.length)return{mainRequest:void 0};if(1===c.length)return{mainRequest:c[0]};var l=d(c);if(u.origin!==p()&&l.length>1){var f=l[0],m=function(e,t,r){for(var n,s=(0,i.PW)(r),a=(0,i.PW)((0,i.aE)(t)),u=e[1],c=e.length,l=1;l<c;l++){var d=e[l],p=(0,i.PW)((0,i.aE)(d[o.S.FETCH_START])),f=s-(0,i.PW)((0,i.aE)(d[o.S.RESPONSE_END]));p>=a&&(!n||f<n)&&(n=f,u=d)}return u}(l,f[o.S.RESPONSE_END],r),g=f[o.S.RESPONSE_END];return m[o.S.FETCH_START]<g&&(m=f,f=void 0),{corsPreFlightRequest:f,mainRequest:m}}return{mainRequest:c[0]}}function h(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var t=(n||(n=document.createElement("a")),n);return t.href=e,t}function m(e){return h(e).href}function g(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var r=function(e,t){var r=e.nodeType,n=function(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var r=Array.from(e.parentNode.childNodes);if(r=r.filter((function(r){var n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName})),r.length>=1)return r.indexOf(e)+1;return 0}(e),o="";if(r===Node.ELEMENT_NODE){var i=e.getAttribute("id");if(t&&i)return'//*[@id="'+i+'"]';o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return"/"+o+"["+n+"]";return"/"+o}(e,t);if(t&&r.indexOf("@id")>0)return r;var n="";return e.parentNode&&(n+=g(e.parentNode,!1)),n+=r}function v(e,t){var r=t||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),h(e).origin===p()||r.some((function(t){return(0,s.j)(e,t)}))}},5053:(e,t,r)=>{"use strict";function n(e){for(var t={},r=e.length,n=0;n<r;n++){var o=e[n];o&&(t[String(o).toUpperCase().replace(/[-.]/g,"_")]=o)}return t}r.d(t,{i:()=>n})},5364:(e,t,r)=>{"use strict";r.d(t,{AX:()=>p,Ft:()=>d,L7:()=>h,QG:()=>u,Ze:()=>c,d_:()=>l});r(5053);var n="process.runtime.name",o="service.name",i="telemetry.sdk.name",s="telemetry.sdk.language",a="telemetry.sdk.version",u=n,c=o,l=i,d=s,p=a,f="webjs",h=f},3108:(e,t,r)=>{"use strict";r.d(t,{ACM:()=>v,BM2:()=>S,LZ1:()=>T,WTV:()=>m,Wji:()=>g,aVl:()=>y,kXj:()=>b,ljJ:()=>I,oMZ:()=>E,qvI:()=>h,ynx:()=>_});r(5053);var n="exception.type",o="exception.message",i="exception.stacktrace",s="http.method",a="http.url",u="http.host",c="http.scheme",l="http.status_code",d="http.user_agent",p="http.response_content_length",f="http.response_content_length_uncompressed",h=n,m=o,g=i,v=s,y=a,E=u,S=c,T=l,b=d,_=p,I=f},9180:function(e,t,r){var n,o,i;!function(s,a){"use strict";o=[r(9829)],void 0===(i="function"==typeof(n=function(e){var t=/(^|@)\S+:\d+/,r=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(r))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(r)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=r.match(/ (\(.+\)$)/);r=n?r.replace(n[0],""):r;var o=this.extractLocation(n?n[1]:r),i=n&&r||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new e({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=t.match(r),o=n&&n[1]?n[1]:void 0,i=this.extractLocation(t.replace(r,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],i=2,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new e({fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera10:function(t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],i=0,s=n.length;i<s;i+=2){var a=r.exec(n[i]);a&&o.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[i]}))}return o},parseOpera11:function(r){return r.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var r,n=t.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(r=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new e({functionName:s,args:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?n.apply(t,o):n)||(e.exports=i)}()},6372:e=>{"use strict";function t(e){return"function"==typeof e}var r=console.error.bind(console);function n(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&&e.logger&&(t(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function i(e,o,i){if(e&&e[o]){if(!i)return r("no wrapper function"),void r((new Error).stack);if(t(e[o])&&t(i)){var s=e[o],a=i(s,o);return n(a,"__original",s),n(a,"__unwrap",(function(){e[o]===a&&n(e,o,s)})),n(a,"__wrapped",!0),n(e,o,a),a}r("original object and wrapper must be functions")}else r("no original function "+o+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=i,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=s,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):r("must provide one or more functions to unwrap on modules")},e.exports=o},9829:function(e,t){var r,n,o;!function(i,s){"use strict";n=[],void 0===(o="function"==typeof(r=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function r(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],s=["args"],a=["evalOrigin"],u=n.concat(o,i,s,a);function c(e){if(e)for(var r=0;r<u.length;r++)void 0!==e[u[r]]&&this["set"+t(u[r])](e[u[r]])}c.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof c)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new c(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},c.fromString=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),o=e.substring(t+1,r).split(","),i=e.substring(r+1);if(0===i.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),a=s[1],u=s[2],l=s[3];return new c({functionName:n,args:o||void 0,fileName:a,lineNumber:u||void 0,columnNumber:l||void 0})};for(var l=0;l<n.length;l++)c.prototype["get"+t(n[l])]=r(n[l]),c.prototype["set"+t(n[l])]=function(e){return function(t){this[e]=Boolean(t)}}(n[l]);for(var d=0;d<o.length;d++)c.prototype["get"+t(o[d])]=r(o[d]),c.prototype["set"+t(o[d])]=function(t){return function(r){if(!e(r))throw new TypeError(t+" must be a Number");this[t]=Number(r)}}(o[d]);for(var p=0;p<i.length;p++)c.prototype["get"+t(i[p])]=r(i[p]),c.prototype["set"+t(i[p])]=function(e){return function(t){this[e]=String(t)}}(i[p]);return c})?r.apply(t,n):r)||(e.exports=o)}()},5929:(e,t,r)=>{"use strict";function n(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var s=e.apply(t,r);function a(e){n(s,o,i,a,u,"next",e)}function u(e){n(s,o,i,a,u,"throw",e)}a(void 0)}))}}r.r(t),r.d(t,{default:()=>o})},695:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.r(t),r.d(t,{default:()=>s})},8223:(e,t,r)=>{"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}r.r(t),r.d(t,{default:()=>o})},8283:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.r(t),r.d(t,{default:()=>n})},4859:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},6132:(e,t,r)=>{var n=r(8921).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(w){d=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new O(n||[]);return s(i,"_invoke",{value:I(e,r,a)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(w){return{type:"throw",arg:w}}}t.wrap=p;var h={};function m(){}function g(){}function v(){}var y={};d(y,u,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(A([])));S&&S!==r&&i.call(S,u)&&(y=S);var T=v.prototype=m.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,s,a,u){var c=f(e[o],e,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==n(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(c.arg)}var o;s(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}})}function I(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=C(s,r);if(a){if(a===h)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function C(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function A(e){if(e||""===e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}throw new TypeError(n(e)+" is not iterable")}return g.prototype=v,s(T,"constructor",{value:v,configurable:!0}),s(v,"constructor",{value:g,configurable:!0}),g.displayName=d(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},b(_.prototype),d(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new _(p(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(T),d(T,l,"Generator"),d(T,u,(function(){return this})),d(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8921:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7162:(e,t,r)=>{var n=r(6132)();e.exports=n;try{regeneratorRuntime=n}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},1436:(e,t,r)=>{"use strict";t.__esModule=!0,t.Request=void 0,r(3439);var n=r(1344),o=r(4720),i=function(){function e(e){this.requestConfig=e,this.resolvedUrl="",this.resolvedHeaders={},this.init()}var t=e.prototype;return t.init=function(){var e=(0,n.getSdkConfig)(),t=e.proxyUrl,r=e.coralogixDomain,i=e.public_key,s=this.requestConfig,a=s.suffix,u=s.headers,c=""+o.CoralogixDomainsApiUrlMap[r]+a;this.resolvedUrl=t?t+"?"+o.PROXY_CX_FORWARD_PARAMETER+"="+encodeURIComponent(c):c,i&&(u.Authorization="Bearer "+i),this.resolvedHeaders=u},t.send=function(e){return fetch(this.resolvedUrl,{method:"POST",headers:this.resolvedHeaders,body:e}).catch((function(e){return e}))},e}();t.Request=i},8175:(e,t,r)=>{"use strict";t.__esModule=!0,t.getTiming=function(e){if("number"==typeof e)return e;return(0,n.getNowTime)()-(0,o.getSessionManager)().currentPageTimestamp};var n=r(7494),o=r(1344)},6011:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.processBeforeSend=function(e,t){if(null==t||!t.beforeSend)return e;var r=e.text.cx_rum,n=function(e){var t=e.session_context,r=t.user_id,n=t.user_name,i=t.user_email,a=t.user_metadata,u=(e.browser_sdk,e.timestamp,(0,o.default)(e,s));return Object.assign({},u,{session_context:{user_id:r,user_email:i,user_name:n,user_metadata:a}})}(r),u=t.beforeSend(n);if(!function(e){if(null==e)return null;var t=["version_metadata","session_context","page_context","event_context"],r=function(){return t.some((function(t){return!(null!=e&&e[t])}))};if(!(0,i.isObject)(e)||r())return console.warn("CoralogixRum: beforeSend must return null, undefined or a valid event."),null;return e}(u))return null;var c=u,l=c.version_metadata.app_name,d=c.event_context.severity;return Object.assign({},e,{applicationName:l,severity:d,text:{cx_rum:a(u,r)}})};var o=n(r(8283));r(3105);var i=r(9083),s=["session_context","browser_sdk","timestamp"];function a(e,t){return Object.assign({},t,e,{session_context:Object.assign({},t.session_context,e.session_context)})}},9497:(e,t,r)=>{"use strict";r(634),t.__esModule=!0,t.validateAndResolveInitConfig=function(e){var t,r,s;if(!function(e){if(!e)return void console.warn("CoralogixRum: Initialization configuration missing");if(!e.proxyUrl&&!e.public_key)return void console.warn("CoralogixRum: Public key is missing");for(var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.REQUIRED_CONFIG_KEYS);!(t=r()).done;){var i=t.value;if((0,o.isNil)(e[i]))return void console.error('CoralogixRum: Initialization aborted. Please provide the required property "'+i+'".')}return!0}(e))return;var l=e.ignoreUrls,d=e.urlBlueprinters,p=e.proxyUrl,f=[];l&&f.push.apply(f,l),p&&f.push(new RegExp(p));return n.OPTIONS_DEFAULTS.ignoreUrls&&f.push.apply(f,n.OPTIONS_DEFAULTS.ignoreUrls),Object.assign({},n.OPTIONS_DEFAULTS,e,{maskInputTypes:null!=(t=e.maskInputTypes)?t:n.MASK_INPUT_TYPES_DEFAULT,maskClass:null!=(r=e.maskClass)?r:n.MASK_CLASS_DEFAULT,ignoreUrls:f,urlBlueprinters:c(d),sessionSampleRate:null!=(s=e.sessionSampleRate)?s:100,sessionConfig:(0,i.resolveSessionConfig)(e.sessionConfig),sessionRecordingConfig:(0,i.resolveSessionRecordingConfig)(e.sessionRecordingConfig),memoryUsageConfig:u(e.memoryUsageConfig),trackSoftNavigations:!!e.trackSoftNavigations})},r(5735),r(6886),r(7368),r(7950),r(8233),r(3105);var n=r(4720),o=r(49),i=r(3744),s=r(7546);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t;return e?Object.assign({},e,{interval:null!=(t=e.interval)?t:s.MEMORY_USAGE_DEFAULT_INTERVAL}):{enabled:!1}}function c(e){if(!e)return n.OPTIONS_DEFAULTS.urlBlueprinters;var t={pageUrlBlueprinters:[],networkUrlBlueprinters:[]},r=function(e){var r,n,o=e||{},i=o.pageUrlBlueprinters,s=o.networkUrlBlueprinters;i&&(r=t.pageUrlBlueprinters).push.apply(r,i);s&&(n=t.networkUrlBlueprinters).push.apply(n,s)};return r(e),n.OPTIONS_DEFAULTS.urlBlueprinters&&r(n.OPTIONS_DEFAULTS.urlBlueprinters),t}},4720:(e,t,r)=>{"use strict";t.__esModule=!0,t.UUID_REGEX=t.SDK_CONFIG_KEY=t.SCHEDULE_DELAY_MILLIS=t.RUM_INTERNAL_DATA_KEY=t.REQUIRED_CONFIG_KEYS=t.PROXY_CX_FORWARD_PARAMETER=t.PROTOCOL_SEPARATOR=t.PARAMS_SEPARATOR=t.PAGE_URL_LABEL_PROVIDERS_KEY=t.OPTIONS_DEFAULTS=t.NETWORK_URL_LABEL_PROVIDERS_KEY=t.NANOID_REGEX=t.MAX_INTERACTION_ELEMENT_SIZE=t.MAX_EXPORT_BATCH_SIZE=t.MAX_CHARACTERS=t.MASK_INPUT_TYPES_DEFAULT=t.MASK_CLASS_DEFAULT=t.MASKED_TEXT=t.INSTRUMENTATIONS=t.ID_MASK_KEY=t.HASH_SEPARATOR=t.CoralogixDomainsApiUrlMap=t.CoralogixAttributes=t.CX_MAPPED_SPAN=t.CORALOGIX_RECORDING_URL_SUFFIX=t.CORALOGIX_LOGS_URL_SUFFIX=t.BASE_PATH=void 0,r(7368),r(7950),r(8233);var n=r(1990),o=r(5108),i=r(9295),s=r(440),a=r(4752),u=r(371),c=r(8419),l=r(1855),d=r(7410),p=r(7494),f=r(4481),h=r(9262),m=r(6578),g=r(7546),v=r(1188),y=r(8491),E=r(6084),S="/browser/v1beta/logs";t.CORALOGIX_LOGS_URL_SUFFIX=S;var T="/sessionrecording";t.CORALOGIX_RECORDING_URL_SUFFIX=T;t.MAX_EXPORT_BATCH_SIZE=50;t.MAX_INTERACTION_ELEMENT_SIZE=1024;t.MAX_CHARACTERS=1024;var b=2*p.millisecondsPerSecond;t.SCHEDULE_DELAY_MILLIS=b;t.REQUIRED_CONFIG_KEYS=["application","version","coralogixDomain"];t.SDK_CONFIG_KEY="sdkConfig";var _="{id}";t.ID_MASK_KEY=_;var I=/[0-9a-fA-F-]{36}/g;t.UUID_REGEX=I;var C=/^[a-zA-Z0-9-_]{21}$/;t.NANOID_REGEX=C;t.PAGE_URL_LABEL_PROVIDERS_KEY="PAGE_URL_LABEL_PROVIDERS";t.NETWORK_URL_LABEL_PROVIDERS_KEY="NETWORK_URL_LABEL_PROVIDERS";t.RUM_INTERNAL_DATA_KEY="rumInternalData";t.MASKED_TEXT="***";t.MASK_CLASS_DEFAULT="cx-mask";t.MASK_INPUT_TYPES_DEFAULT=["password","email","tel"];var N=[{pattern:new RegExp(I),replacement:_},{pattern:new RegExp(C),replacement:_}],R={pageUrlBlueprinters:[function(e){return(0,d.replacePatternsInUrl)({patterns:N,url:e})}]},O={ignoreUrls:[new RegExp(S),new RegExp(T)],user_context:{user_id:"",user_name:""},labels:{},urlBlueprinters:R,collectIPData:!0};t.OPTIONS_DEFAULTS=O;var A=[{Instrument:n.CoralogixErrorInstrumentation,confKey:n.ERROR_INSTRUMENTATION_NAME,disable:!1},{Instrument:o.CoralogixFetchInstrumentation,confKey:"fetch",disable:!1},{Instrument:i.CoralogixXhrInstrumentation,confKey:"xhr",disable:!1},{Instrument:s.CoralogixCustomLogInstrumentation,confKey:"custom",disable:!1},{Instrument:m.CoralogixUserInteractionInstrumentation,confKey:"interactions",disable:!1},{Instrument:a.CoralogixWebVitalsInstrumentation,confKey:u.WEB_VITALS_INSTRUMENTATION_NAME,disable:!1},{Instrument:c.CoralogixLongTaskInstrumentation,confKey:u.LONG_TASKS_INSTRUMENTATION_NAME,disable:!1},{Instrument:l.CoralogixResourcesInstrumentation,confKey:u.RESOURCES_INSTRUMENTATION_NAME,disable:!1},{Instrument:f.CoralogixInternalInstrumentation,confKey:u.INTERNAL_INSTRUMENTATION_NAME,disable:!1},{Instrument:h.CoralogixDOMInstrumentation,confKey:u.DOM_INSTRUMENTATION_NAME,disable:!1},{Instrument:E.CoralogixCustomMeasurementInstrumentation,confKey:u.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME,disable:!1},{Instrument:g.CoralogixMemoryUsageInstrumentation,confKey:g.MEMORY_USAGE_INSTRUMENTATION_NAME,disable:!1},{Instrument:v.CoralogixScreenshotInstrumentation,confKey:y.SCREENSHOT_INSTRUMENTATION_NAME,disable:!1}];t.INSTRUMENTATIONS=A;var w={USER_AGENT:"user_agent",LOCATION_HREF:"location_href",EVENT_TYPE:"event_type",SEVERITY:"severity",APPLICATION_CONTEXT:"application_context",USER_CONTEXT:"user_context",CUSTOM_MEASUREMENT_CONTEXT:"custom_measurement_context",MEMORY_USAGE_CONTEXT:"memory_usage_context",COUNTRY:"country",SOURCE:"source",ERROR:n.ErrorAttributes,LOG:"cx_log",CUSTOM_LABELS:"custom_labels",ENVIRONMENT:"environment",INTERACTION_EVENT_NAME:"interaction_event_name",ELEMENT_INNER_TEXT:"element_inner_text",ELEMENT_INNER_HTML:"element_inner_html",ELEMENT_ID:"element_id",ELEMENT_CLASSES:"element_classes",TARGET_XPATH:"target_xpath",TARGET_ELEMENT:"target_element",TARGET_ELEMENT_TYPE:"target_element_type",TIMESTAMP:"timestamp",INTERNAL:"internal",PAGE_CONTEXT:"page_context",IS_NAVIGATION_EVENT:"is_navigation_event",SCREENSHOT_CONTEXT:"screenshot_context"};t.CoralogixAttributes=w;t.CoralogixDomainsApiUrlMap={EU1:"https://ingress.eu1.rum-ingress-coralogix.com",EU2:"https://ingress.eu2.rum-ingress-coralogix.com",US1:"https://ingress.us1.rum-ingress-coralogix.com",US2:"https://ingress.us2.rum-ingress-coralogix.com",AP1:"https://ingress.ap1.rum-ingress-coralogix.com",AP2:"https://ingress.ap2.rum-ingress-coralogix.com",AP3:"https://ingress.ap3.rum-ingress-coralogix.com",STAGING:"https://ingress.staging.rum-ingress-coralogix.com"};t.PROXY_CX_FORWARD_PARAMETER="cxforward";t.CX_MAPPED_SPAN="cx_mapped_span";t.BASE_PATH="/";t.HASH_SEPARATOR="#";t.PARAMS_SEPARATOR="?";t.PROTOCOL_SEPARATOR="://"},1393:(e,t,r)=>{"use strict";t.__esModule=!0,t.shouldDropEvent=function(e,t){if(function(e){var t=e||{},r=t.event_context,o=t.error_context;return r.type===n.CoralogixEventType.ERROR&&r.source===i.ErrorSource.DOCUMENT&&!(null!=o&&o.error_message)}(e))return t.debug&&console.warn("Document error without message dropped."),!0;if(function(e,t){if(!e.error_context||null==t||!t.length)return!1;var r=e.error_context.error_message||"";return(0,o.stringMatchesSomePattern)(r,t)}(e,t.ignoreErrors))return t.debug&&console.warn("Ignored error dropped."),!0;return!1};var n=r(7421),o=r(7410),i=r(1990)},1344:(e,t,r)=>{"use strict";t.__esModule=!0,t.clearMemoryFrom=function(e){e.forEach((function(e){delete window[e]}))},t.getSdkConfig=function(){return window[n.SDK_CONFIG_KEY]},t.getSessionManager=function(){return window[o.SESSION_MANAGER_KEY]},t.getSessionRecorder=function(){return window[o.SESSION_RECORDER_KEY]},t.getSnapshotManager=function(){return window[i.SNAPSHOT_MANAGER_KEY]};var n=r(4720),o=r(207),i=r(1310)},440:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.LogSource=t.CoralogixCustomLogInstrumentation=t.CUSTOM_INSTRUMENTATION_VERSION=void 0;var o=n(r(8223)),i=r(978),s=r(4720),a=r(7421),u=r(1344),c=r(7410);t.CUSTOM_INSTRUMENTATION_VERSION="1";var l=function(e){return e.CODE="code",e}({});t.LogSource=l;var d=function(e){function t(t){var r,n;return(n=e.call(this,a.CoralogixEventType.LOG,"1",t)||this).stringifyCustomLogData=null==(r=(0,u.getSdkConfig)())?void 0:r.stringifyCustomLogData,n}(0,o.default)(t,e);var r=t.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.log=function(e,t,r){var n=this.tracer.startSpan(a.CoralogixEventType.LOG);n.setAttribute(s.CoralogixAttributes.EVENT_TYPE,a.CoralogixEventType.LOG),n.setAttribute(s.CoralogixAttributes.SOURCE,l.CODE),n.setAttribute(s.CoralogixAttributes.SEVERITY,e),n.setAttribute(s.CoralogixAttributes.LOG,JSON.stringify({severity:e,message:t,data:this.stringifyCustomLogData?JSON.stringify(r,(0,c.getCircularReplacer)()):r})),n.end()},t}(i.InstrumentationBase);t.CoralogixCustomLogInstrumentation=d},9262:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixDOMInstrumentation=void 0;var o=n(r(8223)),i=r(978),s=r(371),a=r(4720),u=r(7421),c=function(e){function t(t){var r;return(r=e.call(this,s.DOM_INSTRUMENTATION_NAME,s.DOM_INSTRUMENTATION_VERSION,t)||this).visibilityChangeHandler=function(){if(document.hidden){var e=r.tracer.startSpan(s.DOM_INSTRUMENTATION_NAME);e.setAttribute(a.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.DOM),e.end()}},r}(0,o.default)(t,e);var r=t.prototype;return r.registerToDOMEvents=function(){document.addEventListener("visibilitychange",this.visibilityChangeHandler)},r.unregisterFromDOMEvents=function(){document.removeEventListener("visibilitychange",this.visibilityChangeHandler)},r.init=function(){},r.disable=function(){this.unregisterFromDOMEvents()},r.enable=function(){var e=this;setTimeout((function(){e.registerToDOMEvents()}))},t}(i.InstrumentationBase);t.CoralogixDOMInstrumentation=c},1990:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.ErrorSource=t.ErrorAttributes=t.ERROR_INSTRUMENTATION_VERSION=t.ERROR_INSTRUMENTATION_NAME=t.CoralogixErrorInstrumentation=void 0;var o=n(r(8223));r(9529),r(1235);var i=r(5173),s=r(978),a=r(6372),u=r(4720),c=r(7421),l=r(7001),d=r(7410),p="errors";t.ERROR_INSTRUMENTATION_NAME=p;t.ERROR_INSTRUMENTATION_VERSION="1";var f={TYPE:"error_type",STACK:"error_stack",MESSAGE:"error_message"};t.ErrorAttributes=f;var h=function(e){return e.CONSOLE="console",e.WINDOW="window",e.UNHANDLED_REJECTION="unhandledrejection",e.DOCUMENT="document",e.CAPTURED="captured",e}({});t.ErrorSource=h;function m(e,t){var r=t.stack,n=!(null==r||!r.includes("at "));t&&n&&e.setAttribute(f.STACK,r.substring(0,4096))}var g=function(e){return function(t){e.report(h.WINDOW,t)}},v=function(e){return function(t){e.report(h.UNHANDLED_REJECTION,t.reason)}},y=function(e){return function(t){e.report(h.DOCUMENT,t)}};function E(e){e.setAttribute(u.CoralogixAttributes.EVENT_TYPE,c.CoralogixEventType.ERROR),e.setAttribute(u.CoralogixAttributes.SEVERITY,l.CoralogixLogSeverity.Error)}var S=function(e){function t(t){var r;return(r=e.call(this,p,"1",t)||this).ignoreErrors=void 0,r.parseErrorObject=function(e){var t;return null!=(t=null==e?void 0:e.message)?t:JSON.stringify(e,(0,d.getCircularReplacer)())},r.ignoreErrors=t.ignoreErrors,r}(0,o.default)(t,e);var r=t.prototype;return r.init=function(){},r.enable=function(){var e;(0,a.wrap)(console,"error",(e=this,function(t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.report(h.CONSOLE,n),t.apply(e,n)}})),window.addEventListener("error",g(this)),window.addEventListener("unhandledrejection",v(this)),document.documentElement.addEventListener("error",y(this),{capture:!0})},r.disable=function(){(0,a.unwrap)(console,"error"),window.removeEventListener("error",g(this)),window.removeEventListener("unhandledrejection",v(this)),document.documentElement.removeEventListener("error",y(this),{capture:!0})},r.report=function(e,t){var r=this;if(!(t instanceof Array&&0===t.length))switch(!0){case t instanceof Error:this.reportError(e,t);break;case t instanceof ErrorEvent:this.reportErrorEvent(e,t);break;case t instanceof Event:this.reportEvent(e,t);break;case"string"==typeof t:this.reportString(e,t);break;case t instanceof Array:var n=t.find((function(e){return e instanceof Error})),o=t.map((function(e){return"string"==typeof e?e:r.parseErrorObject(e)})).join(" ");this.reportString(e,o,n);break;default:this.reportString(e,"string"==typeof t?t:this.getPossibleEventMessage(t))}},r.reportError=function(e,t){var r=t.message,n=t.name,o=this.tracer.startSpan("error"),i=r.split("\n")[0];E(o),o.setAttribute(u.CoralogixAttributes.SOURCE,e),o.setAttribute(f.TYPE,n),o.setAttribute(f.MESSAGE,i),m(o,t),o.end()},r.reportString=function(e,t,r){var n=this.tracer.startSpan(e);E(n),n.setAttribute(u.CoralogixAttributes.SOURCE,e),n.setAttribute(f.MESSAGE,null==t?void 0:t.substring(0,1024)),r&&m(n,r),n.end()},r.reportErrorEvent=function(e,t){var r=t.error,n=t.message,o=null!=r?r:n;this.report(e,o)},r.reportEvent=function(e,t){if(t.target){var r=this.tracer.startSpan(e);E(r),r.setAttribute(u.CoralogixAttributes.SOURCE,e),t.target&&(r.setAttribute("target_element",t.target.tagName),r.setAttribute("target_xpath",(0,i.getElementXPath)(t.target,!0)),r.setAttribute("target_src",t.target.src)),r.end()}},r.getPossibleEventMessage=function(e){var t=e||{},r=t.message,n=t.statusMessage;return r&&"string"==typeof r?r:n&&"string"==typeof n?n:JSON.stringify(e)},t}(s.InstrumentationBase);t.CoralogixErrorInstrumentation=S},4481:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.INTERNAL_INSTRUMENTATION_VERSION=t.CoralogixInternalInstrumentation=void 0,r(7368),r(7950),r(8233);var o=n(r(8223)),i=r(978),s=r(4720),a=r(7001),u=r(7421),c=r(1344),l=r(9083);t.INTERNAL_INSTRUMENTATION_VERSION="1";var d=function(e){function t(t){return e.call(this,u.CoralogixEventType.INTERNAL,"1",t)||this}(0,o.default)(t,e);var r=t.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.reportInternalEvent=function(e,t){void 0===t&&(t="");var r,n=this.tracer.startSpan(u.CoralogixEventType.INTERNAL);switch(n.setAttribute(s.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.INTERNAL),n.setAttribute(s.CoralogixAttributes.SEVERITY,a.CoralogixLogSeverity.Info),e){case"init":var o=(0,l.omit)((0,c.getSdkConfig)(),"public_key","coralogixDomain");r=this.stringifyConfig(o);break;case"recording-start":default:break;case"recording-stop":r=t}n.setAttribute(s.CoralogixAttributes.INTERNAL,JSON.stringify({event:e,data:r})),n.end()},r.stringifyConfig=function(e){return JSON.stringify(e,(function(e,t){return t instanceof RegExp?t.toString():t}))},t}(i.InstrumentationBase);t.CoralogixInternalInstrumentation=d},8419:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixLongTaskInstrumentation=void 0,r(3105),r(5371);var o=n(r(8223)),i=r(978),s=r(371),a=r(7421),u=r(4720),c=r(7410),l=function(e){function t(t){var r;return(r=e.call(this,s.LONG_TASKS_INSTRUMENTATION_NAME,s.LONG_TASK_INSTRUMENTATION_VERSION,t)||this).longTaskObserver=void 0,c.supportedPerformanceTypes.has(a.PerformanceTypes.LongTask)?r.registerToLongTasks():console.warn("Coralogix Browser SDK - browser doesnt support longtask events"),r}(0,o.default)(t,e);var r=t.prototype;return r.registerToLongTasks=function(){var e=this;this.longTaskObserver=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){return e.createSpanFromLongTask(t)}))})),this.longTaskObserver.observe({type:a.PerformanceTypes.LongTask,buffered:!0})},r.createSpanFromLongTask=function(e){var t=this.tracer.startSpan(a.CoralogixEventType.LONG_TASK),r=Object.assign({},(0,c.deepClone)(e),{id:(0,c.generateUUID)()});e.toJSON&&delete r.toJSON,e.attribution&&delete r.attribution,t.setAttribute(u.CoralogixAttributes.EVENT_TYPE,a.CoralogixEventType.LONG_TASK),t.setAttribute(a.CoralogixEventType.LONG_TASK,JSON.stringify(r)),t.end()},r.enable=function(){},r.disable=function(){var e;null==(e=this.longTaskObserver)||e.disconnect()},r.init=function(){},t}(i.InstrumentationBase);t.CoralogixLongTaskInstrumentation=l},1855:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixResourcesInstrumentation=void 0,r(9529),r(1235),r(3105);var o=n(r(8223)),i=r(978),s=r(371),a=r(7421),u=r(4720),c=r(7410),l=r(259),d=r(1938),p=r(1344),f=r(3739),h=function(e){function t(t){var r,n;return(n=e.call(this,s.RESOURCES_INSTRUMENTATION_NAME,s.RESOURCES_INSTRUMENTATION_VERSION,t)||this).resourcesObserver=void 0,n.ignoreUrls=null==(r=(0,p.getSdkConfig)())?void 0:r.ignoreUrls,c.supportedPerformanceTypes.has(a.PerformanceTypes.Resource)?n.registerToResources():console.warn("Coralogix Browser SDK - browser doesnt support resource events"),n}(0,o.default)(t,e);var r=t.prototype;return r.registerToResources=function(){var e=this;this.resourcesObserver=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){if(e.isProcessableResourceEntry(t)){var r=e.mapResource(t);e.createSpanFromResource(r)}}))})),this.resourcesObserver.observe({type:a.PerformanceTypes.Resource,buffered:!0})},r.isProcessableResourceEntry=function(e){var t=![d.ResourceInitiatorTypes.Xhr,d.ResourceInitiatorTypes.Fetch].includes(e.initiatorType),r=!this.isResourceIgnored(e.name);return t&&r},r.isResourceIgnored=function(e){var t;return!(!e||null==(t=this.ignoreUrls)||!t.length)&&(0,f.isPatternMatch)(e,this.ignoreUrls,"ignoreUrls")},r.mapResource=function(e){var t=e.name,r=e.initiatorType;switch(!0){case(0,l.resourceInitiatorTypeIs)(r,[d.ResourceInitiatorTypes.Beacon])||(0,c.valueEndWithOrInclude)(t,s.OTHER_EXTENSIONS):r=d.ResourceInitiatorTypes.Other;break;case r!==d.ResourceInitiatorTypes.Css&&(0,c.valueEndWithOrInclude)(t,s.CSS_EXTENSIONS):r=d.ResourceInitiatorTypes.Css;break;case r!==d.ResourceInitiatorTypes.Script&&(0,c.valueEndWithOrInclude)(t,s.SCRIPT_EXTENSIONS):r=d.ResourceInitiatorTypes.Script;break;case r!==d.ResourceInitiatorTypes.Img&&(0,c.valueEndWithOrInclude)(t,s.IMG_EXTENSIONS):r=d.ResourceInitiatorTypes.Img;break;case t.includes(s.FONTS_URL)||(0,c.valueEndWithOrInclude)(t,s.FONT_EXTENSIONS):r=d.ResourceInitiatorTypes.Font;break;case r!==d.ResourceInitiatorTypes.Iframe&&(0,c.valueEndWithOrInclude)(t,s.DOC_EXTENSIONS):r=d.ResourceInitiatorTypes.Doc;break;case(0,l.resourceInitiatorTypeIs)(r,[d.ResourceInitiatorTypes.Video,d.ResourceInitiatorTypes.Audio,d.ResourceInitiatorTypes.Track])||(0,c.valueEndWithOrInclude)(t,s.MEDIA_EXTENSIONS):r=d.ResourceInitiatorTypes.Media}return Object.assign({},(0,c.deepClone)(e),{initiatorType:r})},r.createSpanFromResource=function(e){var t,r=this.tracer.startSpan(s.RESOURCES_INSTRUMENTATION_NAME);r.setAttribute(u.CoralogixAttributes.EVENT_TYPE,a.CoralogixEventType.RESOURCES);var n=Object.assign({},(0,c.deepClone)(e),{name:null==(t=e.name)?void 0:t.slice(0,u.MAX_CHARACTERS)});r.setAttribute(s.RESOURCES_INSTRUMENTATION_NAME,JSON.stringify(n)),r.end()},r.enable=function(){},r.disable=function(){var e;null==(e=this.resourcesObserver)||e.disconnect()},r.init=function(){},t}(i.InstrumentationBase);t.CoralogixResourcesInstrumentation=h},4752:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixWebVitalsInstrumentation=void 0,r(5735),r(6886);var o=n(r(8223)),i=r(978),s=r(1104),a=r(4720),u=r(7421),c=r(9083),l=r(371),d=r(7410),p=r(1344),f=n(r(3960)),h=function(e){function t(t){var r;return(r=e.call(this,l.WEB_VITALS_INSTRUMENTATION_NAME,l.WEB_VITALS_INSTRUMENTATION_VERSION,t)||this).metrics=void 0,r.observers=[],r.isSoftNavsEnabled=(0,p.getSdkConfig)().trackSoftNavigations,r.onReport=function(e){if(e){"FCP"===e.name&&r.registerToTBTMetric();var t=r.tracer.startSpan(u.CoralogixEventType.WEB_VITALS),n=e.entries?(0,c.omit)(e,"entries"):e;"INP"===(n=(0,c.omit)(n,"attribution.navigationEntry")).name&&(n=(0,c.omit)(n,"attribution.interactionTargetElement")),t.setAttribute(a.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.WEB_VITALS),t.setAttribute(l.WEB_VITALS_INSTRUMENTATION_NAME,JSON.stringify(n,(0,d.getCircularReplacer)())),t.end()}},r.metrics=(0,c.isEmpty)(t.metrics)?l.ALL_WEB_VITALS_METRICS:t.metrics,r.registerToCoreWebVitalMetrics(),r.registerToCalculatedWebVitalMetrics(),r.isSoftNavsEnabled&&r.registerToSoftNavigations(),r}(0,o.default)(t,e);var r=t.prototype;return r.registerToCoreWebVitalMetrics=function(){var e=this.isSoftNavsEnabled&&d.supportedPerformanceTypes.has(u.PerformanceTypes.SoftNavigation);this.metrics.fid&&(0,s.onFID)(this.onReport),this.metrics.cls&&(0,s.onCLS)(this.onReport,{reportSoftNavs:e}),this.metrics.lcp&&(0,s.onLCP)(this.onReport,{reportSoftNavs:e}),this.metrics.fcp&&(0,s.onFCP)(this.onReport,{reportSoftNavs:e}),this.metrics.inp&&(0,s.onINP)(this.onReport,{reportSoftNavs:e}),this.metrics.ttfb&&(0,s.onTTFB)(this.onReport,{reportSoftNavs:e})},r.registerToSoftNavigations=function(){var e=this;if(d.supportedPerformanceTypes.has(u.PerformanceTypes.SoftNavigation)){var t=new PerformanceObserver((function(t){var r;t.getEntries().forEach((function(t){var n=t.duration,o=t.name,i=t.startTime,s=t.navigationId;r={name:"SN",id:(0,d.generateWebVitalUniqueID)(),value:n,url:o,navigationType:"soft-navigation",navigationId:s,startTime:i},e.onReport(r)}))}));this.observers.push(t),t.observe({type:u.PerformanceTypes.SoftNavigation,buffered:!0})}else console.warn("Coralogix Browser SDK - browser doesnt support soft navigation events")},r.registerToCalculatedWebVitalMetrics=function(){this.metrics.lt&&(d.supportedPerformanceTypes.has(u.PerformanceTypes.Navigation)?this.calculateLoadingPageTime():console.warn("Coralogix Browser SDK - browser doesnt support navigation events"))},r.registerToTBTMetric=function(){this.metrics.tbt&&(d.supportedPerformanceTypes.has(u.PerformanceTypes.LongTask)?this.calculateAllTotalBlockingTime():console.warn("Coralogix Browser SDK - browser doesnt support TBT events"))},r.calculateLoadingPageTime=function(){var e=this,t=new PerformanceObserver((function(t){var r;t.getEntries().forEach((function(t){var n=t,o=n.duration,i=n.name,s=n.type,a=n.activationStart,u=n.domComplete,c=n.domContentLoadedEventEnd,l=n.domContentLoadedEventStart,p=n.domInteractive,f=n.loadEventEnd,h=n.loadEventStart,m=n.redirectCount,g=n.unloadEventStart,v=n.unloadEventEnd;r={name:"LT",id:(0,d.generateWebVitalUniqueID)(),value:o,url:i,navigationType:s,activationStart:a,domComplete:u,domContentLoadedEventEnd:c,domContentLoadedEventStart:l,domInteractive:p,loadEventEnd:f,loadEventStart:h,redirectCount:m,unloadEventStart:g,unloadEventEnd:v},o&&e.onReport(r)}))}));this.observers.push(t),t.observe({type:u.PerformanceTypes.Navigation,buffered:!0})},r.calculateAllTotalBlockingTime=function(){var e,t=this,r=new PerformanceObserver((function(t){var r,n,o=(0,d.calculateTotalBlockingTime)(t.getEntries());e={name:"TBT",id:(0,d.generateWebVitalUniqueID)(),rating:(0,d.rateForTBTMetricValue)(o),value:(null!=(r=null==(n=e)?void 0:n.value)?r:0)+o}}));this.observers.push(r),r.observe({type:u.PerformanceTypes.LongTask,buffered:!0}),f.default.getFirstConsistentlyInteractive().then((function(n){var o;n&&(t.onReport(e),t.onReport({name:"TTI",value:n,id:(0,d.generateWebVitalUniqueID)()}),r.disconnect(),null==(o=window.__tti)||null==(o=o.o)||o.disconnect())}))},r.enable=function(){},r.disable=function(){this.observers.forEach((function(e){return e.disconnect()}))},r.init=function(){},t}(i.InstrumentationBase);t.CoralogixWebVitalsInstrumentation=h},5055:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixCustomMeasurementInstrumentation=void 0;var o=n(r(8223)),i=r(978),s=r(371),a=r(7421),u=r(4720),c=function(e){function t(t){return e.call(this,s.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME,s.CUSTOM_MEASUREMENT_INSTRUMENTATION_VERSION,t)||this}(0,o.default)(t,e);var r=t.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.createCustomMeasurement=function(e,t,r){var n=this.tracer.startSpan(s.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME);n[u.CoralogixAttributes.EVENT_TYPE]=a.CoralogixEventType.CUSTOM_MEASUREMENT,n[u.CoralogixAttributes.CUSTOM_MEASUREMENT_CONTEXT]={name:e,value:t},Object.keys(r||{}).length>0&&n.setAttribute(u.CoralogixAttributes.CUSTOM_LABELS,JSON.stringify(r)),n.end()},t}(i.InstrumentationBase);t.CoralogixCustomMeasurementInstrumentation=c},7083:(e,t)=>{"use strict";t.__esModule=!0},6084:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(7083);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||(t[e]=n[e]))}));var o=r(8454);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||(t[e]=o[e]))}));var i=r(5055);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||(t[e]=i[e]))}))},8454:(e,t,r)=>{"use strict";t.__esModule=!0,t.TimeMeasurementTracker=void 0,r(5735),r(6886),r(5794);var n=r(1344),o=function(){function e(){this.measurements=new Map}var t=e.prototype;return t.startMeasurement=function(e,t){this.checkAndResetIfSessionExpired(),!this.measurements.has(e)&&e.trim()?this.measurements.set(e,{startTime:Date.now(),labels:t}):this.logDebug('Invalid or duplicate key: "'+e+'".')},t.getMeasurement=function(e){if(this.checkAndResetIfSessionExpired(),this.measurements.has(e)&&e.trim()){var t=this.measurements.get(e),r=t.startTime,n=t.labels;return this.measurements.delete(e),{duration:Date.now()-r,labels:n}}this.logDebug('Invalid or duplicate key: "'+e+'".')},t.checkAndResetIfSessionExpired=function(){(0,n.getSessionManager)().isIdleActive&&this.measurements.clear()},t.logDebug=function(e){(0,n.getSdkConfig)().debug&&console.debug("Coralogix Browser SDK - "+e)},e}();t.TimeMeasurementTracker=o},371:(e,t)=>{"use strict";t.__esModule=!0,t.WEB_VITALS_INSTRUMENTATION_VERSION=t.WEB_VITALS_INSTRUMENTATION_NAME=t.SCRIPT_EXTENSIONS=t.RESOURCES_INSTRUMENTATION_VERSION=t.RESOURCES_INSTRUMENTATION_NAME=t.OTHER_EXTENSIONS=t.MEDIA_EXTENSIONS=t.LONG_TASK_INSTRUMENTATION_VERSION=t.LONG_TASKS_INSTRUMENTATION_NAME=t.LONGTASK_DURATION=t.INTERNAL_INSTRUMENTATION_NAME=t.IMG_EXTENSIONS=t.FONT_EXTENSIONS=t.FONTS_URL=t.DOM_INSTRUMENTATION_VERSION=t.DOM_INSTRUMENTATION_NAME=t.DOC_EXTENSIONS=t.CUSTOM_MEASUREMENT_INSTRUMENTATION_VERSION=t.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME=t.CSS_EXTENSIONS=t.ALL_WEB_VITALS_METRICS=void 0;t.WEB_VITALS_INSTRUMENTATION_NAME="web_vitals";t.WEB_VITALS_INSTRUMENTATION_VERSION="1.0.0";t.LONG_TASK_INSTRUMENTATION_VERSION="1.0.0";t.LONG_TASKS_INSTRUMENTATION_NAME="long_tasks";t.RESOURCES_INSTRUMENTATION_NAME="resources";t.RESOURCES_INSTRUMENTATION_VERSION="1.0.0";t.DOM_INSTRUMENTATION_NAME="dom";t.DOM_INSTRUMENTATION_VERSION="1.0.0";t.CUSTOM_MEASUREMENT_INSTRUMENTATION_NAME="custom_measurement";t.CUSTOM_MEASUREMENT_INSTRUMENTATION_VERSION="1.0.0";t.ALL_WEB_VITALS_METRICS={lcp:!0,fid:!0,cls:!0,fcp:!0,inp:!0,ttfb:!0,tbt:!0,lt:!0};t.LONGTASK_DURATION=50;t.INTERNAL_INSTRUMENTATION_NAME="internal";t.FONTS_URL="fonts.googleapis.com";t.CSS_EXTENSIONS=[".css"];t.OTHER_EXTENSIONS=[".wasm",".manifest"];t.SCRIPT_EXTENSIONS=[".js",".mjs"];t.MEDIA_EXTENSIONS=[".mp3",".mp4",".wav",".ogg",".webm",".avi"];t.DOC_EXTENSIONS=[".pdf",".doc",".docx",".ppt",".pptx",".xls",".xlsx",".csv",".html"];t.FONT_EXTENSIONS=[".woff",".woff2",".ttf",".otf",".eot"];t.IMG_EXTENSIONS=[".svg",".jpg",".png",".jpeg",".bmp",".webp"]},259:(e,t)=>{"use strict";t.__esModule=!0,t.resourceInitiatorTypeIs=function(e,t){return t.some((function(t){return t===e}))}},1938:(e,t)=>{"use strict";t.__esModule=!0,t.ResourceInitiatorTypes=void 0;var r=function(e){return e.Media="media",e.Script="script",e.Css="css",e.Beacon="beacon",e.Img="img",e.Font="font",e.Doc="doc",e.Xhr="xmlhttprequest",e.Fetch="fetch",e.Iframe="iframe",e.Video="video",e.Audio="audio",e.Track="track",e.Other="other",e}({});t.ResourceInitiatorTypes=r},717:(e,t,r)=>{"use strict";r(8233),r(7950),r(634);var n=r(4859);t.__esModule=!0,t.CoralogixMemoryUsageInstrumentation=void 0;var o=n(r(7162));r(3439),r(5735),r(6886);var i=n(r(5929)),s=n(r(8223)),a=r(978),u=r(9628),c=r(1344),l=r(7421),d=r(4720),p=r(4698);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){(0,s.default)(r,e);var t=r.prototype;function r(t){var r;return(r=e.call(this,u.MEMORY_USAGE_INSTRUMENTATION_NAME,u.MEMORY_USAGE_INSTRUMENTATION_VERSION,t)||this).timeoutId=void 0,r.memoryUsageInterval=(0,c.getSdkConfig)().memoryUsageConfig.interval,r}return t.disable=function(){this.clearMeasurementsInterval()},t.enable=function(){this.startTrackingMemoryUsage()},t.init=function(){},t.startTrackingMemoryUsage=function(){var e=this;this.clearMeasurementsInterval(),this.createMemorySample().then((function(){return e.runMemoryMeasurements()}))},t.createMemorySample=function(){var e=(0,i.default)(o.default.mark((function e(){var t,r,n,i,s,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,performance.measureUserAgentSpecificMemory();case 3:for(t=e.sent,r=(0,p.mapMemoryUsageEntries)(t),n=f(r);!(i=n()).done;)s=i.value,(a=this.tracer.startSpan(u.MEMORY_USAGE_INSTRUMENTATION_NAME))[d.CoralogixAttributes.EVENT_TYPE]=l.CoralogixEventType.MEMORY_USAGE,a[d.CoralogixAttributes.MEMORY_USAGE_CONTEXT]=s,a.end();e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("Memory usage measurement failed",e.t0),this.clearMeasurementsInterval();case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t.runMemoryMeasurements=function(){var e=this;this.timeoutId=setTimeout((function(){return e.measureMemoryUsage()}),this.memoryUsageInterval)},t.measureMemoryUsage=function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createMemorySample();case 2:this.runMemoryMeasurements();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.clearMeasurementsInterval=function(){this.timeoutId&&clearTimeout(this.timeoutId)},r}(a.InstrumentationBase);t.CoralogixMemoryUsageInstrumentation=m},7546:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(9628);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||(t[e]=n[e]))}));var o=r(5210);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||(t[e]=o[e]))}));var i=r(4698);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||(t[e]=i[e]))}));var s=r(717);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||(t[e]=s[e]))}))},9628:(e,t)=>{"use strict";t.__esModule=!0,t.MEMORY_USAGE_INSTRUMENTATION_VERSION=t.MEMORY_USAGE_INSTRUMENTATION_NAME=t.MEMORY_USAGE_DEFAULT_INTERVAL=void 0;t.MEMORY_USAGE_INSTRUMENTATION_NAME="memory_usage";t.MEMORY_USAGE_INSTRUMENTATION_VERSION="1.0.0";t.MEMORY_USAGE_DEFAULT_INTERVAL=3e5},5210:(e,t)=>{"use strict";t.__esModule=!0},4698:(e,t,r)=>{"use strict";r(8233),r(7950),r(634),t.__esModule=!0,t.isMeasureUserAgentSpecificMemoryAllowed=function(){if(!window.crossOriginIsolated)return console.debug("Coralogix Browser SDK - measureUserAgentSpecificMemory() is only available in cross-origin-isolated pages."),!1;if(!performance.measureUserAgentSpecificMemory)return console.debug("Coralogix Browser SDK - measureUserAgentSpecificMemory() is not available in this browser"),!1;return!0},t.mapMemoryUsageEntries=function(e){for(var t,r=(0,n.generateUUID)(),i={uuid:r,isParent:!0,bytes:e.bytes},s=[],a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.breakdown);!(t=a()).done;){var u=t.value;u.bytes>0&&s.push({uuid:r,bytes:u.bytes,attribution:u.attribution,types:u.types.sort().join(", ")})}return[i].concat(s)},r(5735),r(6886),r(3430);var n=r(7410);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},5108:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.FetchSource=t.CoralogixFetchInstrumentation=void 0;var o=n(r(7162));r(3439),r(5735),r(1804);var i=n(r(5929)),s=n(r(8223)),a=r(7680),u=r(4720),c=r(7421),l=r(7001),d=r(3815),p=r(7410),f=r(7405),h=r(1344),m=r(7717),g=r(3646),v=function(e){return e.FETCH="fetch",e}({});t.FetchSource=v;var y=function(e){function t(t){var r;return(0,d.propagateTraceHeaderCorsUrls)(t),t.applyCustomAttributesOnSpan=function(e,t,n){r.setNetworkSpanAttributes(e,t,n)},(r=e.call(this,t)||this).networkDataManager=new f.NetworkDataManager,r.headersManager=new m.HeadersManager,r}(0,s.default)(t,e);var r=t.prototype;return r.setNetworkSpanAttributes=function(){var e=(0,i.default)(o.default.mark((function e(t,r,n){var i,s,a,d,f,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.status,a=(0,h.getSdkConfig)(),d=a.networkExtraConfig,f=t.attributes["http.url"]||"",!(m=this.networkDataManager.resolveConfigForUrl(f,d))){e.next=9;break}return e.next=7,this.setRequestAttributes(t,r,m);case 7:return e.next=9,this.setResponseAttributes(t,n,m);case 9:t.setAttributes(((i={})[u.CoralogixAttributes.SEVERITY]=(0,p.isNetworkError)(s)?l.CoralogixLogSeverity.Error:l.CoralogixLogSeverity.Info,i[u.CoralogixAttributes.EVENT_TYPE]=c.CoralogixEventType.NETWORK_REQUEST,i[u.CoralogixAttributes.SOURCE]=v.FETCH,i));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),r.setRequestAttributes=function(){var e=(0,i.default)(o.default.mark((function e(t,r,n){var i,s,a,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.reqHeaders,s=n.collectReqPayload,e.prev=1,!s){e.next=8;break}return e.next=5,this.networkDataManager.stringifyRequestBody(r);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=void 0;case 9:a=e.t0,u=null!=i&&i.length?this.headersManager.filterHeaders(r.headers,i):void 0,a&&(t[g.NetworkInstrumentationAttributes.REQUEST_PAYLOAD]=a),null!=u&&u.size&&(t[g.NetworkInstrumentationAttributes.REQUEST_HEADERS]=Object.fromEntries(u)),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),(0,h.getSdkConfig)().debug&&console.debug("Error setting request attributes on span:",e.t1);case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(t,r,n){return e.apply(this,arguments)}}(),r.setResponseAttributes=function(){var e=(0,i.default)(o.default.mark((function e(t,r,n){var i,s,a,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.resHeaders,s=n.collectResPayload,!(r instanceof Response)){e.next=19;break}if(e.prev=2,!s){e.next=9;break}return e.next=6,this.networkDataManager.stringifyResponseBody(r);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=void 0;case 10:a=e.t0,u=null!=i&&i.length?this.headersManager.filterHeaders(r.headers,i):void 0,a&&(t[g.NetworkInstrumentationAttributes.RESPONSE_PAYLOAD]=a),null!=u&&u.size&&(t[g.NetworkInstrumentationAttributes.RESPONSE_HEADERS]=Object.fromEntries(u)),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),(0,h.getSdkConfig)().debug&&console.debug("Error setting request attributes on span:",e.t1);case 19:case"end":return e.stop()}}),e,this,[[2,16]])})));return function(t,r,n){return e.apply(this,arguments)}}(),t}(a.FetchInstrumentation);t.CoralogixFetchInstrumentation=y},9295:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.XHRSource=t.CoralogixXhrInstrumentation=void 0,r(5735),r(1804);var o=n(r(8223)),i=r(1642),s=r(4720),a=r(7421),u=r(7001),c=r(7410),l=r(3815),d=r(7405),p=r(1344),f=r(7717),h=r(3646),m=function(e){return e.XHR="xhr",e}({});t.XHRSource=m;var g=function(e){function t(t){var r;return(0,l.propagateTraceHeaderCorsUrls)(t),t.applyCustomAttributesOnSpan=function(e,t){r.setNetworkSpanAttributes(e,t)},(r=e.call(this,t)||this).networkDataManager=new d.NetworkDataManager,r.headersManager=new f.HeadersManager,r}(0,o.default)(t,e);var r=t.prototype;return r.setNetworkSpanAttributes=function(e,t){var r,n=t.status,o=(0,p.getSdkConfig)().networkExtraConfig,i=this.networkDataManager.resolveConfigForUrl(t.responseURL,o);e.setAttributes(((r={})[s.CoralogixAttributes.SEVERITY]=(0,c.isNetworkError)(n)?u.CoralogixLogSeverity.Error:u.CoralogixLogSeverity.Info,r[s.CoralogixAttributes.EVENT_TYPE]=a.CoralogixEventType.NETWORK_REQUEST,r[s.CoralogixAttributes.SOURCE]=m.XHR,r)),i&&this.setResponseAttributes(e,t,i)},r.setResponseAttributes=function(e,t,r){var n=r.resHeaders,o=r.collectResPayload?this.networkDataManager.truncateIfExceedsLimit(t.responseText):void 0,i=null!=n&&n.length?this.headersManager.filterHeaders(t.getAllResponseHeaders(),n):void 0;o&&(e[h.NetworkInstrumentationAttributes.RESPONSE_PAYLOAD]=o),null!=i&&i.size&&(e[h.NetworkInstrumentationAttributes.RESPONSE_HEADERS]=Object.fromEntries(i))},t}(i.XMLHttpRequestInstrumentation);t.CoralogixXhrInstrumentation=g},7717:(e,t,r)=>{"use strict";t.__esModule=!0,t.HeadersManager=void 0,r(5735),r(6886),r(7950),r(8319),r(5794);var n=function(){function e(){}var t=e.prototype;return t.filterHeaders=function(e,t){if(void 0===t&&(t=[]),!e)return new Map;var r=this.normalizeHeaders(e),n=new Map;return t.forEach((function(e){var t=e.toLowerCase();r.has(t)&&n.set(e,r.get(t))})),n},t.normalizeHeaders=function(e){if("string"==typeof e)return this.normalizeHeadersFromString(e);var t=new Headers(e),r=new Map;return t.forEach((function(e,t){r.set(t.toLowerCase(),e)})),r},t.normalizeHeadersFromString=function(e){var t=new Map;return e?(e.trim().split(/\r\n/).forEach((function(e){var r=e.split(": ",2),n=r[0],o=r[1];n&&o&&t.set(n.trim().toLowerCase(),o.trim())})),t):t},e}();t.HeadersManager=n},7405:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.NetworkDataManager=void 0;var o=n(r(7162)),i=n(r(5929));r(5735),r(6886),r(3439),r(8233),r(7368),r(7950),r(5794);var s=r(4720),a=function(){function e(){var e=this;this.responseBodyParsers=new Map([[u.Json,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,t.json();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.stringify.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[u.TextPlain,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[u.TextHtml,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[u.TextCss,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[u.TextJavascript,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[u.Xml,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[u.FormData,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]]),this.requestBodySerializers=new Map([[c.String,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[c.Blob,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.text());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[c.FormData,function(){var t=(0,i.default)(o.default.mark((function t(r){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.serializeFormData(r));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()],[c.URLSearchParams,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.toString());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()],[c.JsonObject,function(){var e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]])}var t=e.prototype;return t.resolveConfigForUrl=function(e,t){return void 0===t&&(t=[]),t.find((function(t){var r=t.url;return r===e||r instanceof RegExp&&r.test(e)}))},t.stringifyRequestBody=function(){var e=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.body){e.next=2;break}return e.abrupt("return","");case 2:return e.next=4,this.serializeRequestBody(t.body);case 4:return r=e.sent,e.abrupt("return",this.truncateIfExceedsLimit(r));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.stringifyResponseBody=function(){var e=(0,i.default)(o.default.mark((function e(t){var r,n,i,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.headers.get("content-type")||"",n=r.split(";")[0].trim(),i=this.responseBodyParsers.get(n)){e.next=5;break}return e.abrupt("return","");case 5:return e.next=7,i(t);case 7:return s=e.sent,e.abrupt("return",this.truncateIfExceedsLimit(s));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.truncateIfExceedsLimit=function(e){return e.length>s.MAX_CHARACTERS?void 0:e},t.serializeRequestBody=function(){var e=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.requestBodySerializers.get(t.constructor.name))){e.next=7;break}return e.next=4,r(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.serializeFormData=function(e){var t="";return e.forEach((function(e,r){t+=r+": "+e+"\n"})),t.trim()},e}();t.NetworkDataManager=a;var u=function(e){return e.Json="application/json",e.TextPlain="text/plain",e.TextHtml="text/html",e.TextCss="text/css",e.TextJavascript="application/javascript",e.Xml="application/xml",e.FormData="multipart/form-data",e}(u||{}),c=function(e){return e.String="String",e.Blob="Blob",e.FormData="FormData",e.URLSearchParams="URLSearchParams",e.JsonObject="JsonObject",e.Unknown="Unknown",e}(c||{})},3646:(e,t)=>{"use strict";t.__esModule=!0,t.NetworkInstrumentationAttributes=void 0;t.NetworkInstrumentationAttributes={REQUEST_HEADERS:"request_headers",RESPONSE_HEADERS:"response_headers",RESPONSE_PAYLOAD:"response_payload",REQUEST_PAYLOAD:"request_payload"}},1188:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixScreenshotInstrumentation=void 0;var o=n(r(8223)),i=r(978),s=r(7421),a=r(4720),u=r(7001),c=r(1344),l=r(8491),d=function(e){function t(t){return e.call(this,l.SCREENSHOT_INSTRUMENTATION_NAME,l.SCREENSHOT_INSTRUMENTATION_VERSION,t)||this}(0,o.default)(t,e);var r=t.prototype;return r.init=function(){},r.disable=function(){},r.enable=function(){},r.screenshot=function(e,t){if((0,c.getSessionRecorder)()){var r=this.tracer.startSpan(s.CoralogixEventType.SCREENSHOT);r.setAttribute(a.CoralogixAttributes.EVENT_TYPE,s.CoralogixEventType.SCREENSHOT),r.setAttribute(a.CoralogixAttributes.SEVERITY,u.CoralogixLogSeverity.Info),r[a.CoralogixAttributes.SCREENSHOT_CONTEXT]={id:e,description:t},r.end()}},t}(i.InstrumentationBase);t.CoralogixScreenshotInstrumentation=d},8491:(e,t)=>{"use strict";t.__esModule=!0,t.SCREENSHOT_INSTRUMENTATION_VERSION=t.SCREENSHOT_INSTRUMENTATION_NAME=void 0;t.SCREENSHOT_INSTRUMENTATION_NAME="screenshot";t.SCREENSHOT_INSTRUMENTATION_VERSION="1.0.0"},6578:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.USER_INTERACTION_INSTRUMENTATION_VERSION=t.USER_INTERACTION_INSTRUMENTATION_NAME=t.DEFAULT_INSTRUMENTED_EVENTS=t.CoralogixUserInteractionInstrumentation=void 0,r(3105);var o,i=n(r(8223)),s=r(978),a=r(4720),u=r(7421),c=r(7518),l=r(1344),d=r(4307),p="user-interaction";t.USER_INTERACTION_INSTRUMENTATION_NAME=p;t.USER_INTERACTION_INSTRUMENTATION_VERSION="1";var f=((o={})[c.DOM_EVENT.CLICK]=!0,o);t.DEFAULT_INSTRUMENTED_EVENTS=f;var h=function(e){function t(t){var r;return(r=e.call(this,p,"1",t)||this).handler=function(e){},r.stop=function(){},r}(0,i.default)(t,e);var r=t.prototype;return r.enable=function(){var e,t=this;this.handler=function(e){var r=t.tracer.startSpan(p),n=e.target,o=(0,l.getSdkConfig)(),i=n.id,s=n.type,c=n.className,f=n.nodeName,h=(0,d.extractMaskedOrTextContent)(n,o);r.setAttribute(a.CoralogixAttributes.EVENT_TYPE,u.CoralogixEventType.USER_INTERACTION),r.setAttribute(a.CoralogixAttributes.INTERACTION_EVENT_NAME,e.type),n&&n instanceof HTMLElement&&[[a.CoralogixAttributes.ELEMENT_ID,i],[a.CoralogixAttributes.ELEMENT_CLASSES,c],[a.CoralogixAttributes.TARGET_ELEMENT_TYPE,s],[a.CoralogixAttributes.ELEMENT_INNER_TEXT,null==h?void 0:h.slice(0,a.MAX_INTERACTION_ELEMENT_SIZE)],[a.CoralogixAttributes.TARGET_ELEMENT,f]].forEach((function(e){var t=e[0],n=e[1];r.setAttribute(t,n)})),r.end()};var r=Object.assign({},f,null==(e=this._config)?void 0:e.events),n=Object.entries(r).filter((function(e){e[0];return e[1]})).map((function(e){return e[0]}));this.stop=(0,c.addEventListeners)(document,n,this.handler,{capture:!0,passive:!0}).stop},r.disable=function(){this.stop()},r.init=function(){},t}(s.InstrumentationBase);t.CoralogixUserInteractionInstrumentation=h},4307:(e,t,r)=>{"use strict";t.__esModule=!0,t.extractMaskedOrTextContent=function(e,t){if(!e)return"";var r=s(e,o);return r?function(e,t){if(u(e,t.maskInputTypes,t.maskClass)||a(e,t.maskClass,o))return n.MASKED_TEXT;if(function(e,t){return e.children?Array.from(e.children).find((function(e){return u(e,t.maskInputTypes,t.maskClass)})):null}(e,t))return n.MASKED_TEXT;return function(e){if(e instanceof HTMLInputElement)return e.value||"";return"innerText"in e?e.innerText:""}(e)}(r,t):""},r(9529),r(1235),r(7368),r(7950),r(8233);var n=r(4720),o=5,i=["BUTTON","LABEL","A","INPUT","OPTION"];function s(e,t){return!e||t<=0?null:i.includes(e.nodeName)?e:s(e.parentElement,t-1)}function a(e,t,r){return void 0===r&&(r=o),!(!e||r<=0)&&(!!c(e.className,t)||a(e.parentElement,t,r-1))}function u(e,t,r){return!!e&&(function(e,t){if(e instanceof HTMLInputElement){var r=e.type||"text";return t.includes(r)}return!1}(e,t)||c(e.className,r))}function c(e,t){return t instanceof RegExp?t.test(e):"string"==typeof e&&e.includes(t)}},1262:(e,t,r)=>{"use strict";t.__esModule=!0,t.reportInternalEvent=void 0;var n=r(7410),o=r(371);t.reportInternalEvent=function(e,t){var r=(0,n.getInternalRumData)(o.INTERNAL_INSTRUMENTATION_NAME);null==r||r.reportInternalEvent(e,t)}},3815:(e,t)=>{"use strict";t.__esModule=!0,t.propagateTraceHeaderCorsUrls=void 0;t.propagateTraceHeaderCorsUrls=function(e){var t,r=e.traceParentInHeader,n=null==r||null==(t=r.options)?void 0:t.propagateTraceHeaderCorsUrls;null!=r&&r.enabled&&n&&(e.propagateTraceHeaderCorsUrls=n)}},1218:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixWebTracerProvider=void 0;var o=n(r(8223)),i=function(e){function t(){return e.apply(this,arguments)||this}return(0,o.default)(t,e),t}(r(5173).WebTracerProvider);t.CoralogixWebTracerProvider=i},6567:(e,t,r)=>{"use strict";t.__esModule=!0,t.CxCustomSampler=void 0;var n=r(3901),o=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD}},e}();t.CxCustomSampler=o},6279:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.handlePropagators=function(e,t){return p.apply(this,arguments)};var o=n(r(7162)),i=n(r(5929));r(3439);var s=r(7421),a=r(2521),u=r(3739),c=r(15),l=r(6810),d=r(3499);function p(){return(p=(0,i.default)(o.default.mark((function e(t,r){var n,i,s,a,u,p,h,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=(n=t.traceParentInHeader)&&n.enabled&&(s=[],a=(null==(i=t.traceParentInHeader)?void 0:i.options)||{},u=a.propagateB3TraceHeader,(p=a.propagateAwsXrayTraceHeader)||u||(s=[].concat(s,[new c.W3CBaggagePropagator,new c.W3CTraceContextPropagator])),p&&s.push(new d.AWSXRayPropagator),u&&(h=u.singleHeader,m=u.multiHeader,h&&s.push(new l.B3Propagator),m&&s.push(new l.B3Propagator({injectEncoding:l.B3InjectEncoding.MULTI_HEADER}))),r.register({propagator:new f(t,new c.CompositePropagator({propagators:s}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){function e(e,t){this.config=e,this.internalPropagator=t}var t=e.prototype;return t.extract=function(e,t,r){return this.internalPropagator.extract(e,t,r)},t.fields=function(){return this.internalPropagator.fields()},t.inject=function(e,t,r){var n,o=null==(n=this.config.traceParentInHeader)||null==(n=n.options)?void 0:n.allowedTracingUrls;if(o){var i=a.trace.getSpan(e).attributes[s.OtelNetworkAttrs.URL];(0,u.isPatternMatch)(i,o,"allowedTracingUrls")&&this.internalPropagator.inject(e,t,r)}else this.internalPropagator.inject(e,t,r)},e}()},5221:(e,t,r)=>{"use strict";t.__esModule=!0,t.CoralogixExporter=void 0,r(671),r(3439);var n=r(4720),o=r(207),i=r(15),s=r(1344),a=r(9703),u=r(1436),c=r(3744),l=r(7784),d=function(){function e(){var e=this;this.isActive=!0,this.sdkConfig=(0,s.getSdkConfig)(),this.request=new u.Request({suffix:n.CORALOGIX_LOGS_URL_SUFFIX,headers:{"Content-Type":"application/json"}}),this.batchTimeDelay=o.BATCH_TIME_DELAY,this.invokeLogRequest=function(t,r){null!=t&&t.length&&e.request.send(JSON.stringify({logs:t,skip_enrichment_with_ip:!e.sdkConfig.collectIPData})).then((function(){r&&((0,s.getSessionManager)().cachedLogsSent=!0)}))}}var t=e.prototype;return t.export=function(e,t){if((0,l.isProcessorShouldStop)(this.isActive))t({code:i.ExportResultCode.SUCCESS});else{var r=e.reduce((function(e,t){return t[n.CX_MAPPED_SPAN]&&e.push(t[n.CX_MAPPED_SPAN]),e}),[]);(0,c.isSessionWithError)()?this.handleSessionWithError(r):this.invokeLogRequest(r),t({code:i.ExportResultCode.SUCCESS})}},t.handleSessionWithError=function(e){var t=this,r=(0,s.getSessionManager)(),n=r.maxRumEventsForSessionWithError,i=r.instrumentationsToSend,u=r.sessionHasError,c=[];e=e.reduce((function(e,t){return i&&i[t.text.cx_rum.event_context.type]?c.push(t):e.push(t),e}),[]),this.invokeLogRequest(c);var l=window.cachedLogs=[].concat(window.cachedLogs||[],e),d=l.length;if(d>n&&!u)this.clearCachedDataForSessionWithError();else if(u)if(d>a.MAX_RUM_EVENTS_PER_REQUEST){for(var p=[],f=0;f<d;f+=a.MAX_RUM_EVENTS_PER_REQUEST)p.push(l.slice(f,f+a.MAX_RUM_EVENTS_PER_REQUEST));p.forEach((function(e){setTimeout((function(){return t.invokeLogRequest(e,!0)}),t.batchTimeDelay),t.batchTimeDelay+=o.BATCH_TIME_DELAY})),this.clearCachedDataForSessionWithError()}else this.invokeLogRequest(l,!0),this.clearCachedDataForSessionWithError()},t.clearCachedDataForSessionWithError=function(){window.cachedLogs=[],this.batchTimeDelay=o.BATCH_TIME_DELAY},t.shutdown=function(){return this.isActive=!1,Promise.resolve()},e}();t.CoralogixExporter=d},2928:(e,t,r)=>{"use strict";t.__esModule=!0,t.CoralogixNavigationProcessor=void 0,r(3439);var n=r(4720),o=r(7410),i=r(1344),s=function(){function e(){}var t=e.prototype;return t.forceFlush=function(){return Promise.resolve()},t.onEnd=function(e){},t.onStart=function(e){var t=(0,o.resolvePageContext)(location.href);if(t){e[n.CoralogixAttributes.PAGE_CONTEXT]=t;var r=(0,i.getSessionManager)().currentPageFragment,s=t.page_fragments;r!==s&&((0,i.getSessionManager)().updateCurrentPage(s),e[n.CoralogixAttributes.IS_NAVIGATION_EVENT]=!0)}},t.shutdown=function(){return Promise.resolve()},e}();t.CoralogixNavigationProcessor=s},2365:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.CoralogixSnapshotSpanProcessor=void 0;var o=n(r(8283));r(3439);var i=r(4720),s=r(7421),a=r(1344),u=r(7001),c=r(7784),l=r(7494),d=["timestamp"],p=function(){function e(){this.isActive=!0}var t=e.prototype;return t.forceFlush=function(){return Promise.resolve()},t.onEnd=function(e){if(!(0,c.isProcessorShouldStop)(this.isActive)&&e[i.CX_MAPPED_SPAN]){var t=e[i.CX_MAPPED_SPAN];this.isSnapshotPrepared(e)?this.createSnapshot(t):t.text.cx_rum.isSnapshotEvent=!1}},t.onStart=function(e,t){},t.shutdown=function(){return this.isActive=!1,Promise.resolve()},t.createSnapshot=function(e){var t=(0,a.getSnapshotManager)().currentSnapshot,r=(t.timestamp,(0,o.default)(t,d));e.text.cx_rum.isSnapshotEvent=!0,e.text.cx_rum.snapshot_context=r},t.isSnapshotPrepared=function(e){var t,r=e.attributes,n=r[i.CoralogixAttributes.TIMESTAMP],o=r[i.CoralogixAttributes.EVENT_TYPE],c=r[i.CoralogixAttributes.SEVERITY],d=!1,p=(0,a.getSnapshotManager)(),f=p.fragmentsState,h=p.updateSnapshot,m=p.currentSnapshot,g=p.isSnapshotSentDueToRecording,v=m.timestamp,y=m.actionCount,E=m.errorCount,S=e[i.CoralogixAttributes.PAGE_CONTEXT];return S&&!f.has(S.page_fragments)&&(f.add(S.page_fragments),h({timestamp:(0,l.getNowTime)(),viewCount:f.size}),d=!0),c===u.CoralogixLogSeverity.Error&&(h({timestamp:(0,l.getNowTime)(),errorCount:E+1}),d=!0),null!=(t=(0,a.getSessionRecorder)())&&t.getSessionHasRecording()&&!g&&(h({timestamp:(0,l.getNowTime)(),hasRecording:!0}),(0,a.getSnapshotManager)().isSnapshotSentDueToRecording=!0,d=!0),o===s.CoralogixEventType.DOM&&(h({timestamp:(0,l.getNowTime)()}),d=!0),o===s.CoralogixEventType.SCREENSHOT&&h({hasScreenshot:!0}),n-v>=l.millisecondsPerMinute&&(h({timestamp:(0,l.getNowTime)()}),d=!0),o===s.CoralogixEventType.USER_INTERACTION&&h({actionCount:y+1}),d},e}();t.CoralogixSnapshotSpanProcessor=p},3183:(e,t,r)=>{"use strict";t.__esModule=!0,t.CoralogixSpanAttributesProcessor=void 0,r(3105),r(3439);var n=r(4720),o=r(7494),i=function(){function e(e){var t;this.labels=((t={})[n.CoralogixAttributes.CUSTOM_LABELS]="{}",t),e&&(this.labels=e)}var t=e.prototype;return t.setCustomLabels=function(e){this.labels[n.CoralogixAttributes.CUSTOM_LABELS]=JSON.stringify(null!=e?e:{})},t.setInternalLabels=function(e){var t;this.labels=Object.assign(((t={})[n.CoralogixAttributes.CUSTOM_LABELS]=this.labels[n.CoralogixAttributes.CUSTOM_LABELS],t),e?this.stringifyValues(e):{})},t.getLabels=function(){return JSON.parse(JSON.stringify(this.labels))},t.getCustomLabels=function(){return JSON.parse(this.labels[n.CoralogixAttributes.CUSTOM_LABELS])},t.getInternalLabels=function(){var e=Object.assign({},this.labels);return delete e[n.CoralogixAttributes.CUSTOM_LABELS],e},t.getUserContext=function(){var e=this.labels[n.CoralogixAttributes.USER_CONTEXT];return e?JSON.parse(""+e):void 0},t.forceFlush=function(){return Promise.resolve()},t.onStart=function(e){e.setAttribute(n.CoralogixAttributes.TIMESTAMP,(0,o.getNowTime)()),e.setAttribute(n.CoralogixAttributes.USER_AGENT,navigator.userAgent),e.setAttributes(this.labels)},t.onEnd=function(){},t.shutdown=function(){return Promise.resolve()},t.stringifyValues=function(e){var t={};for(var r in e)t[r]="string"==typeof e[r]?e[r]:JSON.stringify(e[r]);return t},e}();t.CoralogixSpanAttributesProcessor=i},8792:(e,t,r)=>{"use strict";r(8233),r(7950),r(634);var n=r(4859);t.__esModule=!0,t.CoralogixSpanMapProcessor=void 0,r(3439),r(3105),r(5735),r(6886);var o=r(7421),i=r(4720),s=r(7001),a=r(5241),u=r(7410),c=n(r(9180)),l=r(371),d=r(1344),p=r(1393),f=r(6011),h=r(7784),m=r(7494),g=r(3646);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E=function(){function e(){this.sdkConfig=(0,d.getSdkConfig)(),this.isActive=!0}var t=e.prototype;return t.onEnd=function(e){var t,r;if(!(0,h.isProcessorShouldStop)(this.isActive)){var n=(0,d.getSessionManager)(),o=n.onlySessionWithErrorMode,a=n.getPrevSession,u=n.getSession,c=n.setSession,l=u()||c(),m=!(null==(t=(0,d.getSessionRecorder)())||!t.getSessionHasRecording()),g=!(null==(r=(0,d.getSessionRecorder)())||!r.getSessionHasScreenshot()),v=this._mapToCxSpan(e,l,a(),m,g,o);if(!(0,p.shouldDropEvent)(v.text.cx_rum,this.sdkConfig)){var y=(0,f.processBeforeSend)(v,this.sdkConfig);if(y){var E=y.severity===s.CoralogixLogSeverity.Error,S=(0,d.getSessionManager)().sessionHasError;o&&(E||S)&&((0,d.getSessionManager)().sessionHasError=!0,y.text.cx_rum.session_context.hasError=!0),e[i.CX_MAPPED_SPAN]=y}}}},t.onStart=function(){},t.shutdown=function(){return this.isActive=!1,Promise.resolve()},t.forceFlush=function(){return Promise.resolve(void 0)},t._mapToCxSpan=function(e,t,r,n,c,l){var d,p,f=t||{},h=f.sessionId,g=f.sessionCreationDate,v=r||{},y=v.sessionId,E=v.sessionCreationDate,S=v.hasRecording,T=v.hasScreenshot,b=e.attributes,_=e.startTime,I=e.parentSpanId,C=e.name,N=e.endTime,R=e.status,O=e.duration,A=e.kind,w=JSON.parse(b[i.CoralogixAttributes.USER_CONTEXT]),M=JSON.parse(b[i.CoralogixAttributes.APPLICATION_CONTEXT]),x=M.application,L=M.version,k=b[i.CoralogixAttributes.EVENT_TYPE]||e[i.CoralogixAttributes.EVENT_TYPE],D=this._getEventTypeContext(b,k,e),P=e.spanContext(),U=P.spanId,F=P.traceId,B=Object.assign({},null==(d=e.resource)?void 0:d.attributes,{"service.name":x}),j=JSON.parse(b[i.CoralogixAttributes.CUSTOM_LABELS]),G=!(null==D||null==(p=D.error_context)||!p.original_stacktrace),W={app_name:x,app_version:L},V=(null==b?void 0:b[i.CoralogixAttributes.SEVERITY])||s.CoralogixLogSeverity.Info,H=b[i.CoralogixAttributes.TIMESTAMP]||(0,m.getNowTime)();H<g&&(H=(0,m.getNowTime)());var X={version_metadata:W,applicationName:x,subsystemName:"cx_rum",isErrorWithStacktrace:G,severity:V,timestamp:H,text:{cx_rum:Object.assign({platform:"browser",timestamp:H},D,{browser_sdk:{version:a.SDK_VERSION},version_metadata:W,session_context:Object.assign({},w,{session_id:h,session_creation_date:g,prev_session:y?{session_id:y,session_creation_date:E,hasRecording:S,hasScreenshot:T}:void 0,hasRecording:n,hasScreenshot:c,user_agent:b[i.CoralogixAttributes.USER_AGENT]},(0,u.parseUserAgent)(b[i.CoralogixAttributes.USER_AGENT]),{onlyWithErrorMode:l}),page_context:e[i.CoralogixAttributes.PAGE_CONTEXT],isNavigationEvent:!!e[i.CoralogixAttributes.IS_NAVIGATION_EVENT],event_context:{type:k,source:b[i.CoralogixAttributes.SOURCE],severity:V},labels:j,spanId:U,traceId:F,environment:b[i.CoralogixAttributes.ENVIRONMENT]||""})}};return k===o.CoralogixEventType.NETWORK_REQUEST&&(X.instrumentation_data={otelSpan:{spanId:U,traceId:F,parentSpanId:I,name:C,attributes:Object.assign({},(0,u.flattenAttributes)(b),this.resolveLabels(X.text.cx_rum)),startTime:_,endTime:N,status:R,kind:A,duration:O},otelResource:{attributes:B}}),this.resolveContextFromSpan(X,e,k),X.text.cx_rum.labels=this.resolveLabels(X.text.cx_rum),X},t.resolveContextFromSpan=function(e,t,r){switch(r){case o.CoralogixEventType.CUSTOM_MEASUREMENT:e.text.cx_rum.custom_measurement_context=t[i.CoralogixAttributes.CUSTOM_MEASUREMENT_CONTEXT];break;case o.CoralogixEventType.MEMORY_USAGE:e.text.cx_rum.memory_usage_context=t[i.CoralogixAttributes.MEMORY_USAGE_CONTEXT];break;case o.CoralogixEventType.SCREENSHOT:e.text.cx_rum.screenshot_context=t[i.CoralogixAttributes.SCREENSHOT_CONTEXT]}},t._getEventTypeContext=function(e,t,r){switch(t){case o.CoralogixEventType.ERROR:var n,s=e[i.CoralogixAttributes.ERROR.MESSAGE],a=void 0;if(e[i.CoralogixAttributes.ERROR.STACK])a=null==(n=c.default.parse({stack:e[i.CoralogixAttributes.ERROR.STACK],message:s,name:""}))?void 0:n.map((function(e){return{fileName:e.fileName,columnNumber:e.columnNumber,lineNumber:e.lineNumber,functionName:e.functionName}}));return{error_context:{error_type:e[i.CoralogixAttributes.ERROR.TYPE],error_message:s,original_stacktrace:a}};case o.CoralogixEventType.NETWORK_REQUEST:var d,p=e[o.OtelNetworkAttrs.URL],f=(0,u.applyUrlBluePrinters)({url:p,blueprinters:null==(d=this.sdkConfig.urlBlueprinters)?void 0:d.networkUrlBlueprinters});return{network_request_context:{method:e[o.OtelNetworkAttrs.METHOD],status_code:e[o.OtelNetworkAttrs.STATUS_CODE],url:p,url_blueprint:f,fragments:(0,u.getUrlFragments)(f),host:e[o.OtelNetworkAttrs.HOST],schema:e[o.OtelNetworkAttrs.SCHEME],status_text:e[o.OtelNetworkAttrs.STATUS_TEXT],duration:(0,u.hrTimeToMilliseconds)(null==r?void 0:r.duration),response_content_length:e[o.OtelNetworkAttrs.RESPONSE_CONTENT_LENGTH],request_headers:r[g.NetworkInstrumentationAttributes.REQUEST_HEADERS],request_payload:r[g.NetworkInstrumentationAttributes.REQUEST_PAYLOAD],response_headers:r[g.NetworkInstrumentationAttributes.RESPONSE_HEADERS],response_payload:r[g.NetworkInstrumentationAttributes.RESPONSE_PAYLOAD]}};case o.CoralogixEventType.LOG:if(e[i.CoralogixAttributes.LOG]){var h=JSON.parse(e[i.CoralogixAttributes.LOG]);return{log_context:{message:h.message,data:null==h?void 0:h.data}}}return{log_context:{message:""}};case o.CoralogixEventType.INTERNAL:var m=JSON.parse(e[i.CoralogixAttributes.INTERNAL])||{};return{internal_context:{event:m.event,data:m.data}};case o.CoralogixEventType.USER_INTERACTION:return{interaction_context:{target_element:e[i.CoralogixAttributes.TARGET_ELEMENT],event_name:e[i.CoralogixAttributes.INTERACTION_EVENT_NAME],target_element_inner_text:e[i.CoralogixAttributes.ELEMENT_INNER_TEXT],element_id:e[i.CoralogixAttributes.ELEMENT_ID],element_classes:e[i.CoralogixAttributes.ELEMENT_CLASSES],target_element_type:e[i.CoralogixAttributes.TARGET_ELEMENT_TYPE]}};case o.CoralogixEventType.WEB_VITALS:return{web_vitals_context:JSON.parse(e[l.WEB_VITALS_INSTRUMENTATION_NAME])};case o.CoralogixEventType.LONG_TASK:return{longtask_context:JSON.parse(e[o.CoralogixEventType.LONG_TASK])};case o.CoralogixEventType.RESOURCES:var v=JSON.parse(e[l.RESOURCES_INSTRUMENTATION_NAME]),y=(0,u.getUrlFragments)(v.name);return{resource_context:Object.assign({},v,{fragments:y})}}return{}},t.resolveLabels=function(e){var t,r=e.labels,n=null==(t=this.sdkConfig)?void 0:t.labelProviders;if(null!=n&&n.length){var o,s=(0,u.getInternalRumData)(i.PAGE_URL_LABEL_PROVIDERS_KEY),a=(0,u.getInternalRumData)(i.NETWORK_URL_LABEL_PROVIDERS_KEY),c=null==(o=e.network_request_context)?void 0:o.fragments,l=Object.assign({},this.getLabelsByLabelProviders(s,e,e.page_context.page_fragments),c?this.getLabelsByLabelProviders(a,e,c):{});r=Object.assign({},r,l)}return r},t.getLabelsByLabelProviders=function(e,t,r){for(var n,o={},i=(0,u.deepClone)(t),s=v(e);!(n=s()).done;){var a=n.value;o=Object.assign({},o,a.providerFunc(r,i))}return o},e}();t.CoralogixSpanMapProcessor=E},7784:(e,t,r)=>{"use strict";t.__esModule=!0,t.isProcessorShouldStop=function(e){var t;return!e||!(null==(t=(0,n.getSessionManager)())||!t.isIdleActive)};var n=r(1344)},7427:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.SessionIdle=void 0;var o=n(r(695)),i=r(7518),s=function(){function e(e){var t=this;this.idleConfig=e,this._isIdleActive=!1,this.stopCallbacks={},this.resetTimeout=function(){null==t.stopCallbacks.clearTimeout||t.stopCallbacks.clearTimeout();var e=setTimeout((function(){t._isIdleActive=!0,t.idleConfig.onIdle()}),t.idleConfig.timeoutDelay);t.stopCallbacks.clearTimeout=function(){return clearTimeout(e)}},this.idlenessEventsHandler=function(){t._isIdleActive&&(t._isIdleActive=!1,t.idleConfig.onActive()),t.resetTimeout()}}var t=e.prototype;return t.startIdleListener=function(){this.resetTimeout(),this.trackActivity()},t.stopIdleListener=function(){Object.values(this.stopCallbacks).forEach((function(e){return e()}))},t.trackActivity=function(){var e,t;null==(e=(t=this.stopCallbacks).removeActivityListeners)||e.call(t);var r=(0,i.addEventListeners)(window,[i.DOM_EVENT.TOUCH_START,i.DOM_EVENT.KEY_DOWN,i.DOM_EVENT.MOUSE_MOVE],this.idlenessEventsHandler,{capture:!0,passive:!0}).stop;this.stopCallbacks.removeActivityListeners=r},(0,o.default)(e,[{key:"isIdleActive",get:function(){return this._isIdleActive}}]),e}();t.SessionIdle=s},207:(e,t,r)=>{"use strict";t.__esModule=!0,t.SESSION_RECORDING_POSTFIX_URL=t.SESSION_RECORDING_NETWORK_ERR0R_MESSAGE=t.SESSION_RECORDING_DEFAULT_HEADERS=t.SESSION_RECORDING_DEFAULT_ERROR_MESSAGE=t.SESSION_RECORDER_SEGMENTS_MAP=t.SESSION_RECORDER_KEY=t.SESSION_MANAGER_KEY=t.SESSION_KEY=t.SESSION_IDLE_TIME=t.SESSION_EXPIRATION_TIME=t.PREV_SESSION_KEY=t.MAX_MUTATIONS_FOR_SESSION_RECORDING=t.MAX_BATCH_TIME_MS=t.DEFAULT_SESSION_CONFIG=t.BATCH_TIME_DELAY=void 0;var n=r(7494);t.MAX_BATCH_TIME_MS=1e4;t.SESSION_RECORDING_DEFAULT_HEADERS={"Content-Encoding":"gzip"};t.SESSION_RECORDING_DEFAULT_ERROR_MESSAGE="Coralogix Browser SDK - Recording is not supported on this platform";t.SESSION_RECORDING_NETWORK_ERR0R_MESSAGE="Coralogix Browser SDK - Error while sending record";t.BATCH_TIME_DELAY=1e3;t.SESSION_RECORDING_POSTFIX_URL="/browser/alpha/sessionrecording";t.SESSION_KEY="rum_session";t.PREV_SESSION_KEY="rum_prev_session";t.MAX_MUTATIONS_FOR_SESSION_RECORDING=5e3;t.DEFAULT_SESSION_CONFIG={sessionSampleRate:100,onlyWithErrorConfig:{enable:!1}};var o=15*n.millisecondsPerMinute;t.SESSION_IDLE_TIME=o;var i=n.MILLISECONDS_PER_HOUR;t.SESSION_EXPIRATION_TIME=i;t.SESSION_MANAGER_KEY="rumSessionManager";t.SESSION_RECORDER_KEY="rumSessionRecorder";t.SESSION_RECORDER_SEGMENTS_MAP="rumSessionRecorderSegmentsMap"},3744:(e,t,r)=>{"use strict";t.__esModule=!0,t.getResolvedSampler=function(e){var t=new a.AlwaysOnSampler,r=e.sessionSampleRate,n=e.sessionConfig,o=e.debug,i=e.sessionRecordingConfig;if(!l(r)||!l(n.sessionSampleRate)){(null==n?void 0:n.alwaysTrackSessionsWithErrors)?n.onlyWithErrorConfig=Object.assign({},n.onlyWithErrorConfig,{enable:!0}):(o&&console.debug("CoralogixRum: Session tracking is disabled due to sampling rate"),t=new u.CxCustomSampler,i&&(i.enable=!1),e.instrumentations=Object.assign({},e.instrumentations,{errors:!1,custom:!1,web_vitals:!1,interactions:!1,long_tasks:!1,resources:!1}))}return t},t.isSamplingOn=l,t.isSessionWithError=void 0,t.resolveSessionConfig=function(e){var t;if(!e)return n.DEFAULT_SESSION_CONFIG;return Object.assign({},e,{sessionSampleRate:null!=(t=e.sessionSampleRate)?t:100,onlyWithErrorConfig:c(e.onlyWithErrorConfig)})},t.resolveSessionRecordingConfig=function(e){var t;return e?Object.assign({},e,{sessionRecordingSampleRate:null!=(t=e.sessionRecordingSampleRate)?t:100}):void 0},r(3105);var n=r(207),o=r(7421),i=r(9703),s=r(1344),a=r(3901),u=r(6567);function c(e){var t,r,n,s;return e?Object.assign({},e,{maxRumEvents:(s=e.maxRumEvents,s?s>i.MAX_RUM_EVENTS?i.MAX_RUM_EVENTS:s:i.DEFAULT_RUM_EVENTS),maxRecordTime:(n=e.maxRecordTime,n?n>i.MAX_MS_RECORD_TIME?i.MAX_MS_RECORD_TIME:n:i.DEFAULT_MS_RECORD_TIME),instrumentationsToSend:null!=(t=e.instrumentationsToSend)?t:(r={},r[o.CoralogixEventType.WEB_VITALS]=!0,r)}):{enable:!1}}function l(e){return e>0&&100*Math.random()<=e}t.isSessionWithError=function(){var e=(0,s.getSessionManager)(),t=e.onlySessionWithErrorMode,r=e.cachedLogsSent;return t&&!r}},8634:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.SessionManager=void 0,r(3105);var o=n(r(695)),i=n(r(8223)),s=r(3938),a=r(1344),u=r(207),c=r(3744),l=r(7410),d=r(7427),p=r(7494),f=function(e){function t(t){var r;return(r=e.call(this,{timeoutDelay:u.SESSION_IDLE_TIME,onIdle:function(){return r.clearSessionWhenIdle()},onActive:function(){return r.setSession(!0)}})||this)._sessionConfig=(0,a.getSdkConfig)().sessionConfig,r.sessionRecorder=void 0,r.activeSession=void 0,r.sessionRecorderConfig=void 0,r._sessionHasError=!1,r._cachedLogsSent=!1,r._currentPageFragment=void 0,r._currentPageTimestamp=(0,p.getNowTime)(),r.getPrevSession=function(){return JSON.parse(window.sessionStorage.getItem(u.PREV_SESSION_KEY))},r.getSession=function(){var e,t=JSON.parse(window.sessionStorage.getItem(u.SESSION_KEY)),n=(0,p.getNowTime)();return t&&(t.sessionExpirationDate>n?e=t:(r.clearSessionWhenIdle(),e=r.setSession(!0))),e},r.setSession=function(e){var t,n;void 0===e&&(e=!1),(null==(t=r._sessionConfig)?void 0:t.keepSessionAfterReload)?r.handleRefreshedSessions():r.createNewSession(),window.sessionStorage.setItem(u.SESSION_KEY,JSON.stringify(r.activeSession));var o,i=(0,a.getSessionRecorder)();(e&&!(null==i||!i.recordingStopDueToTimeout)&&!(null==(n=r.sessionRecorderConfig)||!n.enable)||null!=i&&i.getIsAutoStartRecording())&&(null==(o=r.sessionRecorder)||o.startRecording());return r.activeSession},r.initializeSession(t),r}(0,i.default)(t,e);var r=t.prototype;return r.updateCurrentPage=function(e){this.isIdleActive?this._currentPageFragment=void 0:(this._currentPageFragment=e,this._currentPageTimestamp=(0,p.getNowTime)())},r.getSessionKey=function(){return u.SESSION_KEY},r.getActiveSession=function(){return this.activeSession},r.start=function(){this.startIdleListener(),this.clearPrevSession(),this.setSession()},r.stop=function(){this.stopIdleListener()},r.initializeSession=function(e){(window[u.SESSION_MANAGER_KEY]=this,this.sessionRecorderConfig=e,null!=e&&e.enable)&&((0,c.isSamplingOn)(e.sessionRecordingSampleRate)?this.sessionRecorder=new s.SessionRecorder(this,e):(0,a.getSdkConfig)().debug&&console.debug("Coralogix Browser SDK - Session recording is disabled"))},r.clearSessionWhenIdle=function(){var e;null!=(e=this.sessionRecorder)&&e.getSessionHasRecording()&&(this.sessionRecorder.recordingStopDueToTimeout=!0),this.clearSession()},r.clearPrevSession=function(){window.sessionStorage.removeItem(u.PREV_SESSION_KEY)},r.clearSession=function(){var e,t,r,n;window.sessionStorage.setItem(u.PREV_SESSION_KEY,JSON.stringify(Object.assign({},this.activeSession,{hasRecording:null==(e=this.sessionRecorder)?void 0:e.getSessionHasRecording(),hasScreenshot:null==(t=this.sessionRecorder)?void 0:t.getSessionHasScreenshot()}))),this.clearSessionWithErrorMode(),null==(r=(0,a.getSnapshotManager)())||r.resetSnapshot(),this._currentPageFragment=void 0,null==(n=this.sessionRecorder)||n.stopRecording(),window.sessionStorage.removeItem(u.SESSION_KEY)},r.clearSessionWithErrorMode=function(){this.sessionHasError=!1,this.cachedLogsSent=!1},r.handleRefreshedSessions=function(){this.activeSession=this.getSession();var e,t=JSON.parse(window.sessionStorage.getItem(u.SESSION_RECORDER_SEGMENTS_MAP)||"{}");this.activeSession?null==(e=(0,a.getSessionRecorder)())||e.updateSegmentIndexCounter(t):this.createNewSession()},r.createNewSession=function(){var e=(0,p.getNowTime)();this.activeSession={sessionId:(0,l.generateUUID)(),sessionCreationDate:e,sessionExpirationDate:e+u.SESSION_EXPIRATION_TIME}},(0,o.default)(t,[{key:"currentPageTimestamp",get:function(){return this._currentPageTimestamp}},{key:"currentPageFragment",get:function(){return this._currentPageFragment}},{key:"sessionConfig",get:function(){return this._sessionConfig}},{key:"onlySessionWithErrorMode",get:function(){return this._sessionConfig.onlyWithErrorConfig.enable}},{key:"maxRumEventsForSessionWithError",get:function(){return this._sessionConfig.onlyWithErrorConfig.maxRumEvents||0}},{key:"maxRecordTimeForSessionWithError",get:function(){return this._sessionConfig.onlyWithErrorConfig.maxRecordTime||0}},{key:"instrumentationsToSend",get:function(){return this._sessionConfig.onlyWithErrorConfig.instrumentationsToSend}},{key:"cachedLogsSent",get:function(){return this._cachedLogsSent},set:function(e){this._cachedLogsSent=e}},{key:"sessionHasError",get:function(){return this._sessionHasError},set:function(e){this._sessionHasError=e}}]),t}(d.SessionIdle);t.SessionManager=f},3938:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.SessionRecorder=void 0;var o=n(r(7162));r(3439),r(3105);var i=n(r(5929)),s=n(r(695)),a=r(5349),u=r(207),c=r(1344),l=r(4625),d=r(3017),p=r(1262),f=r(1436),h=r(6522),m=r(7494),g=r(4389),v=function(){function e(e,t){var r,n=this;this.sessionWorker=void 0,this.isAutoStartRecording=!1,this.maxMutations=void 0,this.onlySessionWithErrorMode=!1,this.maxRecordTimeForSessionWithError=void 0,this.recordEvents=[],this.recordEventsForSessionWithError=[[],[]],this.recordRef=void 0,this.recordConfig=void 0,this.segmentIndexCounter={},this.sessionManager=void 0,this.hasRecording=!1,this.hasScreenshot=!1,this.recordingStopped=!1,this.batchingTimeInterval=void 0,this.batchTimeDelay=u.BATCH_TIME_DELAY,this.batchTimeout=void 0,this.isErrorOccurred=!1,this.debugMode=!(null==(r=(0,c.getSdkConfig)())||!r.debug),this._recordingStopDueToTimeout=!1,this.mutationObserver=void 0,this.request=void 0,this.workerManager=void 0,this.isWorkerReady=void 0,this.handleRecordEvent=function(e,t){n.recordingStopped||(n.onlySessionWithErrorMode?n.handleRecordEventForSessionWithError(e,t):n.recordEvents.push(e))},this.prepareRecordEventsBeforeSend=function(){if(n.onlySessionWithErrorMode)n.prepareRecordEventsForSessionWithError();else{if(!n.recordEvents.length)return;n.compressRecordData(n.recordEvents),n.resetBatching()}},this.sendRecordEvents=function(e,t){var r=new FormData,s=n.getMetadata(e,t);r.append("chunk",e.gzipBlob),r.append("metaData",JSON.stringify(s));var a=function(){var e=(0,i.default)(o.default.mark((function e(){var t,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.isErrorOccurred){e.next=7;break}return e.next=4,null==(t=n.request)?void 0:t.send(r);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=void 0;case 8:i=e.t0,n.handleSessionRecordingResponse(i),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),n.handleSessionRecordingResponse(void 0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();t?(n.batchTimeout=setTimeout(a,n.batchTimeDelay),n.batchTimeDelay+=u.BATCH_TIME_DELAY):(a(),n.batchTimeDelay=u.BATCH_TIME_DELAY)},window[u.SESSION_RECORDER_KEY]=this,this.sessionManager=e;var s=e.onlySessionWithErrorMode,a=e.maxRecordTimeForSessionWithError,l=t.maxMutations,d=t.autoStartSessionRecording,p=t.workerUrl;this.onlySessionWithErrorMode=s,this.maxRecordTimeForSessionWithError=a,this.isAutoStartRecording=d,this.maxMutations=null!=l?l:u.MAX_MUTATIONS_FOR_SESSION_RECORDING,this.recordConfig=this.prepareRecordConfig(t),window.Worker?(this.workerManager=new g.WorkerManager,this.initializeSessionWorker(p)):this.debugMode&&console.warn(u.SESSION_RECORDING_DEFAULT_ERROR_MESSAGE)}var t=e.prototype;return t.getSessionHasScreenshot=function(){return this.hasScreenshot},t.getSessionHasRecording=function(){var e;return this.hasRecording&&!!this.segmentIndexCounter[null==(e=this.sessionManager.getActiveSession())?void 0:e.sessionId]},t.updateSegmentIndexCounter=function(e){this.segmentIndexCounter=e},t.getIsAutoStartRecording=function(){return this.isAutoStartRecording},t.startRecording=function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isWorkerReady;case 2:if(this.sessionWorker&&!this.recordRef){e.next=4;break}return e.abrupt("return");case 4:this.debugMode&&console.log("Coralogix Browser SDK - Session recording started"),this.startMutationObserver(),this.resetBatching(),this.hasRecording=!0,this.recordingStopped=!1,this.isErrorOccurred=!1,this.recordingStopDueToTimeout=!1,this.recordRef=(0,l.record)(this.recordConfig),this.startBatchingRecords();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.screenshot=function(e){this.hasScreenshot=!0;var t=this.sessionManager.getActiveSession()||{},r=t.sessionId,n=t.sessionCreationDate,o=(0,d.snapshot)(document,this.recordConfig);o&&this.sessionWorker.postMessage({event:"sendRecordData",records:o,sessionId:r,screenshotId:e,sessionCreationDate:n})},t.stopRecording=function(){this.recordRef&&(this.debugMode&&console.log("Coralogix Browser SDK - Session recording stopped"),this.recordRef(),this.recordRef=void 0,this.recordingStopped=!0,this.hasRecording=!1,this.prepareRecordEventsBeforeSend(),this.clearIntervals(),this.stopMutationObserver())},t.stopMutationObserver=function(){var e;null==(e=this.mutationObserver)||e.disconnect()},t.startMutationObserver=function(){var e=this;this.stopMutationObserver(),this.mutationObserver=new MutationObserver((function(t){if(t.length>e.maxMutations){var r="Coralogix Browser SDK - Recording stopped due to too many mutations "+t.length;console.warn(r),(0,p.reportInternalEvent)("recording-stop",r),e.stopRecording()}})),this.mutationObserver.observe(document,{attributes:!1,attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0})},t.clearIntervals=function(){this.batchingTimeInterval&&clearInterval(this.batchingTimeInterval)},t.prepareRecordConfig=function(e){var t,r=e||{},n=r.excludeDOMOptions,o=r.recordConsoleEvents;return this.recordConfig=Object.assign({},e,{emit:this.handleRecordEvent,checkoutEveryNms:this.onlySessionWithErrorMode?this.maxRecordTimeForSessionWithError:void 0,slimDOMOptions:Object.assign({},n,{script:null==(t=null==n?void 0:n.script)||t}),plugins:o?[(0,h.getRecordConsolePlugin)()]:[]}),this.recordConfig},t.handleRecordEventForSessionWithError=function(e,t){if(!(this.sessionManager.sessionHasError&&!!t&&e.type===a.EventType.FullSnapshot)){!!t&&e.type===a.EventType.Meta&&this.recordEventsForSessionWithError.push([]);var r=this.recordEventsForSessionWithError;r[r.length-1].push(e)}},t.prepareRecordEventsForSessionWithError=function(){var e=this.recordEventsForSessionWithError,t=e.length,r=e[t-2],n=e[t-1];if(this.sessionManager.sessionHasError){var o=r.concat(n);if(!o.length)return;this.compressRecordData(o),this.resetBatching()}else this.recordEventsForSessionWithError=[r,n]},t.compressRecordData=function(e){var t=this.sessionManager.getActiveSession()||{},r=t.sessionId,n=t.sessionCreationDate;this.sessionWorker.postMessage({event:"compressRecordData",records:e,sessionId:r,sessionCreationDate:n})},t.registerToWorkerMessages=function(){var e=this;this.sessionWorker.onmessage=function(t){var r=t.data;switch(r.event){case"sendRecordData":e.sendRecordEvents(r,!1);break;case"splitRecordData":e.sendRecordEvents(r,!0);break;case"stopRecording":e.stopRecording()}}},t.resetBatching=function(){this.onlySessionWithErrorMode?this.recordEventsForSessionWithError=[[],[]]:this.recordEvents=[]},t.getMetadata=function(e,t){var r=e.sessionId,n=e.sessionCreationDate,o=e.screenshotId,i=e.gzipBlob,s=e.chunkIndex,a=e.totalChunks,l=0,d=(0,c.getSdkConfig)().application;return!!o||(this.segmentIndexCounter[r]||(this.segmentIndexCounter[r]=0),l=t?s===a?this.segmentIndexCounter[r]++:this.segmentIndexCounter[r]:this.segmentIndexCounter[r]++,sessionStorage.setItem(u.SESSION_RECORDER_SEGMENTS_MAP,JSON.stringify(this.segmentIndexCounter))),{segmentIndex:l,segmentSize:i.size,segmentTimestamp:(0,m.getNowTime)(),sessionCreationDate:n,sessionId:r,snapshotId:o,application:d,subIndex:null!=s?s:-1}},t.handleSessionRecordingResponse=function(e){null!=e&&e.ok||this.isErrorOccurred?this.isErrorOccurred=!1:(console.warn(u.SESSION_RECORDING_NETWORK_ERR0R_MESSAGE),this.isErrorOccurred=!0,this.stopRecording(),this.batchTimeout&&clearTimeout(this.batchTimeout))},t.startBatchingRecords=function(){this.batchingTimeInterval=setInterval(this.prepareRecordEventsBeforeSend,u.MAX_BATCH_TIME_MS)},t.initializeSessionWorker=function(e){var t=this;this.isWorkerReady=new Promise((function(r,n){t.workerManager.loadAndCreateWorker(e).then((function(e){t.sessionWorker=e,t.isAutoStartRecording&&t.startRecording(),t.request=new f.Request({suffix:u.SESSION_RECORDING_POSTFIX_URL,headers:u.SESSION_RECORDING_DEFAULT_HEADERS}),t.registerToWorkerMessages(),r(!0)})).catch((function(e){t.debugMode&&console.warn("Coralogix Browser SDK - Web worker not created due to: ",e),n(e)}))}))},(0,s.default)(e,[{key:"recordingStopDueToTimeout",get:function(){return this._recordingStopDueToTimeout},set:function(e){this._recordingStopDueToTimeout=e}}]),e}();t.SessionRecorder=v},9703:(e,t,r)=>{"use strict";t.__esModule=!0,t.MAX_RUM_EVENTS_PER_REQUEST=t.MAX_RUM_EVENTS=t.MAX_MS_RECORD_TIME=t.DEFAULT_SESSION_WITH_ERROR_CONFIG=t.DEFAULT_RUM_EVENTS=t.DEFAULT_MS_RECORD_TIME=void 0;var n,o=r(7421);t.MAX_RUM_EVENTS_PER_REQUEST=500;t.MAX_RUM_EVENTS=2e4;t.MAX_MS_RECORD_TIME=6e4;t.DEFAULT_RUM_EVENTS=5e3;t.DEFAULT_MS_RECORD_TIME=1e4;var i={enable:!0,maxRumEvents:5e3,maxRecordTime:1e4,instrumentationsToSend:(n={},n[o.CoralogixEventType.WEB_VITALS]=!0,n)};t.DEFAULT_SESSION_WITH_ERROR_CONFIG=i},4389:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.WorkerManager=void 0;var o=n(r(7162)),i=n(r(5929));r(3439),r(8233),r(5735),r(6886),r(4121),r(523),r(4112);var s=r(1545),a=function(){function e(){}var t=e.prototype;return t.loadAndCreateWorker=function(){var e=(0,i.default)(o.default.mark((function e(t){var r,n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return e.next=4,this.loadWorkerScript(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="("+s.getWorkerString.toString()+")()";case 8:return r=e.t0,n=new Blob([r],{type:"application/javascript"}),i=URL.createObjectURL(n),e.abrupt("return",new Worker(i));case 14:return e.prev=14,e.t1=e.catch(0),console.warn("CoralogixRum: Error creating worker "+e.t1),e.abrupt("return",void 0);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),t.loadWorkerScript=function(){var e=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.getFullWorkerUrl(t));case 3:if((r=e.sent).ok){e.next=7;break}return console.warn("CoralogixRum: Error fetching custom web worker"),e.abrupt("return","");case 7:return e.next=9,r.text();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.warn("CoralogixRum: Error fetching custom web worker"),e.abrupt("return","");case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),t.getFullWorkerUrl=function(e){return e.startsWith("http://")||e.startsWith("https://")?e:""+window.location.origin+e},e}();t.WorkerManager=a},1310:(e,t)=>{"use strict";t.__esModule=!0,t.SNAPSHOT_MANAGER_KEY=t.INITIAL_SNAPSHOT_CONTEXT=void 0;t.SNAPSHOT_MANAGER_KEY="rumSnapshotManager";t.INITIAL_SNAPSHOT_CONTEXT={errorCount:0,viewCount:0,actionCount:0,hasRecording:!1,hasScreenshot:!1}},7277:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.SnapshotManager=void 0,r(3105),r(5735),r(6886);var o=n(r(695)),i=r(1310),s=r(7494),a=function(){function e(){var e=this;this._currentSnapshot=void 0,this._fragmentsState=void 0,this._isSnapshotSentDueToRecording=void 0,this.updateSnapshot=function(t){e._currentSnapshot=Object.assign({},e._currentSnapshot,t)},this.resetSnapshot=function(){e._currentSnapshot=Object.assign({},i.INITIAL_SNAPSHOT_CONTEXT,{timestamp:(0,s.getNowTime)()}),e._fragmentsState=new Set,e._isSnapshotSentDueToRecording=!1},window[i.SNAPSHOT_MANAGER_KEY]=this,this.resetSnapshot()}return(0,o.default)(e,[{key:"fragmentsState",get:function(){return this._fragmentsState}},{key:"currentSnapshot",get:function(){return this._currentSnapshot}},{key:"isSnapshotSentDueToRecording",get:function(){return this._isSnapshotSentDueToRecording},set:function(e){this._isSnapshotSentDueToRecording=e}}]),e}();t.SnapshotManager=a},7518:(e,t,r)=>{"use strict";t.__esModule=!0,t.DOM_EVENT=void 0,t.addEventListener=function(e,t,r,n){return i(e,[t],r,n)},t.addEventListeners=i;var n=r(1374),o=function(e){return e.CLICK="click",e.KEY_DOWN="keydown",e.TOUCH_START="touchstart",e.INPUT="input",e.MOUSE_MOVE="mousemove",e}({});function i(e,t,r,o){var i=void 0===o?{}:o,s=i.once,a=i.capture,u=i.passive,c=s?function(e){p(),r(e)}:r,l=u?{capture:a,passive:u}:a,d=(0,n.getZoneJsOriginalDom)(e,"addEventListener");function p(){var r=(0,n.getZoneJsOriginalDom)(e,"removeEventListener");t.forEach((function(t){return r.call(e,t,c,l)}))}return t.forEach((function(t){return d.call(e,t,c,l)})),{stop:p}}t.DOM_EVENT=o},5040:(e,t,r)=>{"use strict";t.__esModule=!0,t.getGlobalObject=function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{});return e},r(6481)},1374:(e,t,r)=>{"use strict";t.__esModule=!0,t.getZoneJsOriginalDom=function(e,t){var r,o=(0,n.getGlobalObject)();o.Zone&&"function"==typeof o.Zone.__symbol__&&(r=e[o.Zone.__symbol__(t)]);r||(r=e[t]);return r};var n=r(5040)},3960:(e,t,r)=>{"use strict";var n;r(634),r(5735),r(6886),r(3439),r(9529),r(1235),r(3430);var o="undefined"!=typeof window?window:{},i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)};function s(){s=function(){},o.Symbol||(o.Symbol=u)}var a=0;function u(e){return"jscomp_symbol_"+(e||"")+a++}function c(){s();var e=o.Symbol.iterator;e||(e=o.Symbol.iterator=o.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&i(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return l(this)}}),c=function(){}}function l(e){var t=0;return function(e){return c(),e={next:e},e[o.Symbol.iterator]=function(){return this},e}((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))}function d(e){c();var t=e[Symbol.iterator];return t?t.call(e):l(e)}function p(e){if(!(e instanceof Array)){e=d(e);for(var t,r=[];!(t=e.next()).done;)r.push(t.value);e=r}return e}var f=0;var h="img script iframe link audio video source".split(" ");function m(e,t){for(var r=(e=d(e)).next();!r.done;r=e.next())if(r=r.value,t.includes(r.nodeName.toLowerCase())||m(r.children,t))return!0;return!1}function g(e,t){if(2<e.length)return performance.now();for(var r=[],n=(t=d(t)).next();!n.done;n=t.next())n=n.value,r.push({timestamp:n.start,type:"requestStart"}),r.push({timestamp:n.end,type:"requestEnd"});for(n=(t=d(e)).next();!n.done;n=t.next())r.push({timestamp:n.value,type:"requestStart"});for(r.sort((function(e,t){return e.timestamp-t.timestamp})),e=e.length,t=r.length-1;0<=t;t--)switch(n=r[t],n.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return n.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function v(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map((function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],t&&t.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var r=XMLHttpRequest.prototype.send,n=f++;XMLHttpRequest.prototype.send=function(o){for(var i=[],s=0;s<arguments.length;++s)i[s-0]=arguments[s];var a=this;return e(n),this.addEventListener("readystatechange",(function(){4===a.readyState&&t(n)})),r.apply(this,i)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var r=fetch;fetch=function(n){for(var o=[],i=0;i<arguments.length;++i)o[i-0]=arguments[i];return new Promise((function(n,i){var s=f++;e(s),r.apply(null,[].concat(p(o))).then((function(e){t(s),n(e)}),(function(e){t(e),i(e)}))}))}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver((function(t){for(var r=(t=d(t.getEntries())).next();!r.done;r=t.next())if("resource"===(r=r.value).entryType&&(e.b.push({start:r.fetchStart,end:r.responseEnd}),E(e,g(e.g,e.b)+5e3)),"longtask"===r.entryType){var n=r.startTime+r.duration;e.a.push({start:r.startTime,end:n}),E(e,n+5e3)}})),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver((function(t){for(var r=(t=d(t)).next();!r.done;r=t.next())("childList"==(r=r.value).type&&m(r.addedNodes,h)||"attributes"==r.type&&h.includes(r.target.tagName.toLowerCase()))&&e(r)}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function y(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,r=g(e.g,e.b);E(e,Math.max(r+5e3,t))}function E(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout((function(){var t=performance.timing.navigationStart,r=g(e.g,e.b);t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t;if(e.u)var n=e.u;else performance.timing.domContentLoadedEventEnd?n=(n=performance.timing).domContentLoadedEventEnd-n.navigationStart:n=null;var o=performance.now();null===n&&E(e,Math.max(r+5e3,o+1e3));var i=e.a;5e3>o-r?r=null:r=5e3>o-(r=i.length?i[i.length-1].end:t)?null:Math.max(r,n),r&&(e.s(r),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),E(e,performance.now()+1e3)}),t-performance.now()),e.v=t)}v.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise((function(t){e.s=t,"complete"==document.readyState?y(e):window.addEventListener("load",(function(){y(e)}))}))},v.prototype.m=function(e){this.f.set(e,performance.now())},v.prototype.l=function(e){this.f.delete(e)},v.prototype.B=function(){E(this,performance.now()+5e3)},o.Object.defineProperties(v.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(p(this.f.values()))}}});var S={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new v(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};e.exports?e.exports=S:void 0===(n=(function(){return S}).apply(t,[]))||(e.exports=n)},7001:(e,t)=>{"use strict";t.__esModule=!0,t.CoralogixLogSeverity=void 0;var r=function(e){return e[e.Debug=1]="Debug",e[e.Verbose=2]="Verbose",e[e.Info=3]="Info",e[e.Warn=4]="Warn",e[e.Error=5]="Error",e[e.Critical=6]="Critical",e}({});t.CoralogixLogSeverity=r},7421:(e,t)=>{"use strict";t.__esModule=!0,t.UrlType=t.PerformanceTypes=t.OtelNetworkAttrs=t.CoralogixEventType=void 0;var r=function(e){return e.ERROR="error",e.NETWORK_REQUEST="network-request",e.LOG="log",e.USER_INTERACTION="user-interaction",e.WEB_VITALS="web-vitals",e.LONG_TASK="longtask",e.RESOURCES="resources",e.INTERNAL="internal",e.DOM="dom",e.CUSTOM_MEASUREMENT="custom-measurement",e.MEMORY_USAGE="memory-usage",e.SCREENSHOT="screenshot",e}({});t.CoralogixEventType=r;var n=function(e){return e.Resource="resource",e.LongTask="longtask",e.Navigation="navigation",e.SoftNavigation="soft-navigation",e}({});t.PerformanceTypes=n;var o=function(e){return e.METHOD="http.method",e.URL="http.url",e.STATUS_CODE="http.status_code",e.HOST="http.host",e.SCHEME="http.scheme",e.STATUS_TEXT="http.status_text",e.RESPONSE_CONTENT_LENGTH="http.response_content_length",e}({});t.OtelNetworkAttrs=o;var i=function(e){return e.PAGE="page",e.NETWORK_REQUEST="network_request",e}({});t.UrlType=i},8141:(e,t,r)=>{"use strict";r(8233),r(634),t.__esModule=!0,t.applyUrlBluePrinters=f,t.calculateTotalBlockingTime=function(e){return e.reduce((function(e,t){return e+=t.duration-i.LONGTASK_DURATION}),0)},t.deepClone=function(e){return JSON.parse(JSON.stringify(e))},t.flattenAttributes=function(e){for(var t=JSON.parse(e[o.CoralogixAttributes.CUSTOM_LABELS]),r=(0,a.omit)(e,o.CoralogixAttributes.CUSTOM_LABELS),n=0,i=Object.entries(t);n<i.length;n++){var s=i[n],u=s[0],c=s[1];r[u]="string"!=typeof c?JSON.stringify(c):c}return r},t.generateWebVitalUniqueID=function(){return"v3-"+(0,u.getNowTime)()+"-"+(Math.floor(8999999999999*Math.random())+1e12)},t.getCircularReplacer=void 0,t.getInstrumentationConfig=function(e,t,r){if(!1===e)return e;if(void 0===e&&r)return!1;if(!1===(null==e?void 0:e.enabled))return!1;return Object.assign({},t,e)},t.isNetworkError=t.hrTimeToMilliseconds=t.getUrlFragments=void 0,t.parseUserAgent=function(e){for(var t="Unknown",r="Unknown",n="Unknown",o="Unknown",i="Desktop",s=0,a=Object.entries({Chrome:/Chrome\/([\d.]+)/,Firefox:/Firefox\/([\d.]+)/,Safari:/Version\/([\d.]+).*Safari/,Edge:/Edge\/([\d.]+)/,Opera:/Opera\/([\d.]+)/,IE:/Trident.*rv:([\d.]+)/});s<a.length;s++){var u=a[s],c=u[0],l=u[1],d=e.match(l);if(d){t=c,r=d[1]||"Unknown";break}}for(var p=0,f=Object.entries({Windows:/Windows NT ([\d.]+)/,MacOS:/Mac OS X ([\d._]+)/,Linux:/Linux(?: ([\d.]+))?/,iOS:/CPU(?: iPhone)? OS (\d+([._]\d+)*)/,Android:/Android (\d+([._]\d+)*)/});p<f.length;p++){var h=f[p],m=h[0],g=h[1],v=e.match(g);if(v){var y;n=m,o=(null==(y=v[1])||null==(y=y.split("_"))?void 0:y.join("."))||"Unknown";break}}for(var E=0,S=Object.entries({Mobile:/Mobile|Android|iPhone|iPod|BlackBerry|IEMobile|Windows Phone|webOS|Opera Mini/,Tablet:/Tablet|iPad/});E<S.length;E++){var T=S[E],b=T[0],_=T[1];if(e.match(_)){i=b;break}}return{browser:t,browserVersion:r,os:n,osVersion:o,device:i}},t.partition=function(e,t){for(var r,n=[],o=[],i=c(e);!(r=i()).done;){var s=r.value;t(s)?n.push(s):o.push(s)}return[n,o]},t.rateForTBTMetricValue=function(e){switch(!0){case e>600:return"poor";case e>200&&e<=600:return"needs-improvement";default:return"good"}},t.replacePatternsInUrl=function(e){for(var t,r=e.patterns,n=e.url,o=c(r);!(t=o()).done;){var i=t.value,s=i.pattern,a=i.replacement;n=n.replace(s,a)}return n},t.resolvePageContext=function(e){var t,r=f({url:e,blueprinters:null==(t=(0,s.getSdkConfig)().urlBlueprinters)?void 0:t.pageUrlBlueprinters}),n=p(r);return{page_url:e.slice(0,o.MAX_CHARACTERS),page_url_blueprint:r,page_fragments:n,referrer:document.referrer}},t.supportedPerformanceTypes=void 0,t.valueEndWithOrInclude=function(e,t){return t.some((function(t){return e.endsWith(t)||e.includes(t)}))},r(5735),r(6886),r(6708),r(9529),r(1235),r(3105),r(7950),r(8319),r(4112),r(4121),r(523),r(4069),r(671),r(5940);var n,o=r(4720),i=r(371),s=r(1344),a=r(9083),u=r(7494);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=null!=(n=window)&&null!=(n=n.PerformanceObserver)&&n.supportedEntryTypes?new Set(window.PerformanceObserver.supportedEntryTypes):new Set;t.supportedPerformanceTypes=d;t.hrTimeToMilliseconds=function(e){var t=e[0],r=e[1];return 1e3*t+Math.round(r/1e6)};t.isNetworkError=function(e){return!!e&&e>=400};var p=function(e){var t,r;if(!e)return"";var n=(null==(t=e.split(o.PROTOCOL_SEPARATOR))?void 0:t[1])||e,i=null==(r=n.split(o.BASE_PATH))?void 0:r[1];if(null!=i&&i.startsWith(o.HASH_SEPARATOR)){var s=n.split(o.HASH_SEPARATOR)[1].split(o.PARAMS_SEPARATOR)[0].split(o.BASE_PATH);return s.length&&s.shift(),s.join(o.BASE_PATH)||o.BASE_PATH}try{return e.startsWith("blob:")?e:new URL(e).pathname.substring(1)||o.BASE_PATH}catch(a){return console.warn("Coralogix Browser SDK - Error parsing URL",a),e}};t.getUrlFragments=p;function f(e){var t=e.url,r=e.blueprinters,n=t;return null==r||r.forEach((function(e){return n=e(n)})),n}t.getCircularReplacer=function(){var e=new WeakSet;return function(t,r){if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}}},3282:(e,t,r)=>{"use strict";t.__esModule=!0,t.coerceArray=function(e){return(0,n.isNil)(e)?[]:e instanceof Set?[].concat(e):Array.isArray(e)?e:[e]},r(5735),r(6886);var n=r(49)},49:(e,t)=>{"use strict";t.__esModule=!0,t.isNil=function(e){return null==e}},7410:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(228);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||(t[e]=n[e]))}));var o=r(4556);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||(t[e]=o[e]))}));var i=r(8141);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||(t[e]=i[e]))}))},4556:(e,t,r)=>{"use strict";t.__esModule=!0,t.getInternalRumData=function(e){var t;return null==(t=window[n.RUM_INTERNAL_DATA_KEY])?void 0:t[e]},t.saveInternalRumData=function(e,t){window[n.RUM_INTERNAL_DATA_KEY]||(window[n.RUM_INTERNAL_DATA_KEY]={});window[n.RUM_INTERNAL_DATA_KEY][e]=t};var n=r(4720)},9083:(e,t,r)=>{"use strict";var n=r(4859);t.__esModule=!0,t.isEmpty=c,t.isNotEmpty=function(e){return!c(e)},t.isObject=u,t.omit=function(e){void 0===e&&(e={});if((0,i.isNil)(e))return{};for(var t=function e(t,r){var n,i=r[0],s=r.slice(1);if(!t.hasOwnProperty(i))return t;if(!s.length){t[i];return(0,o.default)(t,[i].map(a))}return Object.assign({},t,((n={})[i]=e(t[i],s),n))},r=arguments.length,n=new Array(r>1?r-1:0),u=1;u<r;u++)n[u-1]=arguments[u];return(0,s.coerceArray)(n).reduce((function(e,r){return t(e,r.split("."))}),e)},t.pick=function(e){void 0===e&&(e={});for(var t=function e(t,r){var n,o=r[0],i=r.slice(1);if(t.hasOwnProperty(o)){var s;if(!i.length)return(s={})[o]=t[o],s;var a=e(t[o],i);if(void 0!==a)return(n={})[o]=a,n}},r={},n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return(0,s.coerceArray)(o).forEach((function(n){r=Object.assign({},r,t(e,n.split(".")))})),r},r(3105),r(671),r(5735),r(6886),r(634);var o=n(r(8283)),i=r(49),s=r(3282);function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function u(e){return"object"==typeof e}function c(e){return!!(0,i.isNil)(e)||(e instanceof Set||e instanceof Map?0===e.size:Array.isArray(e)||"string"==typeof e?0===e.length:!!u(e)&&0===Object.keys(e).length)}},3739:(e,t,r)=>{"use strict";t.__esModule=!0,t.isPatternMatch=function(e,t,r){return t.some((function(t){return t instanceof RegExp?t.test(e):"string"==typeof t?(t=t.toLowerCase()).includes(e.toLowerCase()):(r&&console.warn("Coralogix Browser SDK - "+r+" must be from type string | Regex"),!1)}))},r(7368),r(7950),r(8233),r(9529),r(1235)},228:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e}function o(e,t,r){return void 0===r&&(r=!1),!!n(e)&&(function(e){return e instanceof RegExp}(t)?t.test(e):!!n(t)&&(r?e===t:e.includes(t)))}t.__esModule=!0,t.generateUUID=function e(t){return t?(+t^16*Math.random()>>+t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)},t.isMatchingPattern=o,t.stringMatchesSomePattern=function(e,t,r){void 0===t&&(t=[]);void 0===r&&(r=!1);return t.some((function(t){return o(e,t,r)}))},r(7368),r(7950),r(8233),r(9529),r(1235),r(5940)},7494:(e,t)=>{"use strict";t.__esModule=!0,t.MILLISECONDS_PER_HOUR=void 0,t.getNowTime=function(){return(new Date).getTime()},t.millisecondsPerSecond=t.millisecondsPerMinute=void 0;t.millisecondsPerSecond=1e3;t.millisecondsPerMinute=6e4;t.MILLISECONDS_PER_HOUR=36e5},5241:(e,t)=>{"use strict";t.__esModule=!0,t.SDK_VERSION=void 0;t.SDK_VERSION="1.4.6"},1545:(e,t)=>{"use strict";t.__esModule=!0,t.getWorkerString=function(){var e=this,t=1048576;function r(e,t,r,n,o,i,s){void 0===s&&(s="sendRecordData");var a=new Blob([r],{type:"application/octet-stream"});self.postMessage({sessionId:e,sessionCreationDate:t,gzipBlob:a,chunkIndex:n,totalChunks:o,screenshotId:i,event:s})}(function(e,t){try{importScripts(e)}catch(r){try{importScripts(t)}catch(n){self.postMessage({event:"stopRecording"})}}})("https://cdn.rum-ingress-coralogix.com/coralogix/browser/latest/pako_deflate.es5.min.js","https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako_deflate.es5.min.js"),self.onmessage=function(n){var o,i=n.data;o=!!i.screenshotId?JSON.stringify(i.records):JSON.stringify(i.records).slice(1,-1);var s=i.sessionId,a=i.sessionCreationDate,u=i.screenshotId,c=e.pako.gzip(o),l=c.byteLength;if(l>=t)for(var d=Math.ceil(l/t),p=0;p<d;p++){var f=p*t,h=(p+1)*t;r(s,a,c.slice(f,h),p,d-1,u,"splitRecordData")}else r(s,a,c,void 0,void 0,u)},self.onerror=function(e){console.warn("Coralogix Browser SDK - Error from session recording worker:\n",e),self.postMessage({event:"stopRecording"})}}},7111:(e,t,r)=>{"use strict";var n=r(6733),o=r(9821),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},7988:(e,t,r)=>{"use strict";var n=r(2359),o=r(9821),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a constructor")}},8505:(e,t,r)=>{"use strict";var n=r(6733),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},9736:(e,t,r)=>{"use strict";var n=r(95),o=r(2391),i=r(1787).f,s=n("unscopables"),a=Array.prototype;null==a[s]&&i(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},6637:(e,t,r)=>{"use strict";var n=r(966).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7728:(e,t,r)=>{"use strict";var n=r(1321),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},1176:(e,t,r)=>{"use strict";var n=r(5052),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},507:(e,t,r)=>{"use strict";var n=r(7636),o=r(266),i=r(2991),s=r(4960),a=r(1943),u=r(2359),c=r(9646),l=r(2324),d=r(8403),p=r(8830),f=Array;e.exports=function(e){var t=i(e),r=u(this),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m;g&&(m=n(m,h>2?arguments[2]:void 0));var v,y,E,S,T,b,_=p(t),I=0;if(!_||this===f&&a(_))for(v=c(t),y=r?new this(v):f(v);v>I;I++)b=g?m(t[I],I):t[I],l(y,I,b);else for(T=(S=d(t,_)).next,y=r?new this:[];!(E=o(T,S)).done;I++)b=g?s(S,m,[E.value,I],!0):E.value,l(y,I,b);return y.length=I,y}},9540:(e,t,r)=>{"use strict";var n=r(905),o=r(3231),i=r(9646),s=function(e){return function(t,r,s){var a,u=n(t),c=i(u),l=o(s,c);if(e&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},6038:(e,t,r)=>{"use strict";var n=r(4229);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},3143:(e,t,r)=>{"use strict";var n=r(7111),o=r(2991),i=r(9337),s=r(9646),a=TypeError,u=function(e){return function(t,r,u,c){n(r);var l=o(t),d=i(l),p=s(l),f=e?p-1:0,h=e?-1:1;if(u<2)for(;;){if(f in d){c=d[f],f+=h;break}if(f+=h,e?f<0:p<=f)throw a("Reduce of empty array with no initial value")}for(;e?f>=0:p>f;f+=h)f in d&&(c=r(c,d[f],f,l));return c}};e.exports={left:u(!1),right:u(!0)}},9794:(e,t,r)=>{"use strict";var n=r(3231),o=r(9646),i=r(2324),s=Array,a=Math.max;e.exports=function(e,t,r){for(var u=o(e),c=n(t,u),l=n(void 0===r?u:r,u),d=s(a(l-c,0)),p=0;c<l;c++,p++)i(d,p,e[c]);return d.length=p,d}},1909:(e,t,r)=>{"use strict";var n=r(5968);e.exports=n([].slice)},3867:(e,t,r)=>{"use strict";var n=r(9794),o=Math.floor,i=function(e,t){var r=e.length,u=o(r/2);return r<8?s(e,t):a(e,i(n(e,0,u),t),i(n(e,u),t),t)},s=function(e,t){for(var r,n,o=e.length,i=1;i<o;){for(n=i,r=e[i];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==i++&&(e[n]=r)}return e},a=function(e,t,r,n){for(var o=t.length,i=r.length,s=0,a=0;s<o||a<i;)e[s+a]=s<o&&a<i?n(t[s],r[a])<=0?t[s++]:r[a++]:s<o?t[s++]:r[a++];return e};e.exports=i},4960:(e,t,r)=>{"use strict";var n=r(1176),o=r(7281);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(s){o(e,"throw",s)}}},4575:(e,t,r)=>{"use strict";var n=r(95)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(a){}return r}},7079:(e,t,r)=>{"use strict";var n=r(5968),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},1589:(e,t,r)=>{"use strict";var n=r(1601),o=r(6733),i=r(7079),s=r(95)("toStringTag"),a=Object,u="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=a(e),s))?r:u?i(t):"Object"==(n=i(t))&&o(t.callee)?"Arguments":n}},7081:(e,t,r)=>{"use strict";var n=r(8270),o=r(4826),i=r(7933),s=r(1787);e.exports=function(e,t,r){for(var a=o(t),u=s.f,c=i.f,l=0;l<a.length;l++){var d=a[l];n(e,d)||r&&n(r,d)||u(e,d,c(t,d))}}},8127:(e,t,r)=>{"use strict";var n=r(95)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(o){}}return!1}},7528:(e,t,r)=>{"use strict";var n=r(4229);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3684:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},5762:(e,t,r)=>{"use strict";var n=r(7400),o=r(1787),i=r(5358);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5358:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2324:(e,t,r)=>{"use strict";var n=r(9310),o=r(1787),i=r(5358);e.exports=function(e,t,r){var s=n(t);s in e?o.f(e,s,i(0,r)):e[s]=r}},6616:(e,t,r)=>{"use strict";var n=r(6039),o=r(1787);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},4768:(e,t,r)=>{"use strict";var n=r(6733),o=r(1787),i=r(6039),s=r(8400);e.exports=function(e,t,r,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:t;if(n(r)&&i(r,c,a),a.global)u?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(u=!0):delete e[t]}catch(l){}u?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},8312:(e,t,r)=>{"use strict";var n=r(4768);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},8400:(e,t,r)=>{"use strict";var n=r(9859),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9563:(e,t,r)=>{"use strict";var n=r(9821),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+n(t)+" of "+n(e))}},7400:(e,t,r)=>{"use strict";var n=r(4229);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3777:e=>{"use strict";var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},2635:(e,t,r)=>{"use strict";var n=r(9859),o=r(5052),i=n.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},5694:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8865:(e,t,r)=>{"use strict";var n=r(2635)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},2671:(e,t,r)=>{"use strict";var n=r(598).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},8639:(e,t,r)=>{"use strict";var n=r(5189),o=r(8801);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},5189:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},8506:(e,t,r)=>{"use strict";var n=r(598);e.exports=/MSIE|Trident/.test(n)},8983:(e,t,r)=>{"use strict";var n=r(598);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},2023:(e,t,r)=>{"use strict";var n=r(598);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},8801:(e,t,r)=>{"use strict";var n=r(7079);e.exports="undefined"!=typeof process&&"process"==n(process)},263:(e,t,r)=>{"use strict";var n=r(598);e.exports=/web0s(?!.*chrome)/i.test(n)},598:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},6358:(e,t,r)=>{"use strict";var n,o,i=r(9859),s=r(598),a=i.process,u=i.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},9811:(e,t,r)=>{"use strict";var n=r(598).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},3837:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:(e,t,r)=>{"use strict";var n=r(9859),o=r(7933).f,i=r(5762),s=r(4768),a=r(8400),u=r(7081),c=r(6541);e.exports=function(e,t){var r,l,d,p,f,h=e.target,m=e.global,g=e.stat;if(r=m?n:g?n[h]||a(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(f=o(r,l))&&f.value:r[l],!c(m?l:h+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&i(p,"sham",!0),s(r,l,p,e)}}},4229:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},4954:(e,t,r)=>{"use strict";r(7950);var n=r(4745),o=r(4768),i=r(3466),s=r(4229),a=r(95),u=r(5762),c=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var p=a(e),f=!s((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=f&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!f||!h||r){var m=n(/./[p]),g=t(p,""[e],(function(e,t,r,o,s){var a=n(e),u=t.exec;return u===i||u===l.exec?f&&!s?{done:!0,value:m(t,r,o)}:{done:!0,value:a(r,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(l,p,g[1])}d&&u(l[p],"sham",!0)}},3171:(e,t,r)=>{"use strict";var n=r(7188),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},7636:(e,t,r)=>{"use strict";var n=r(4745),o=r(7111),i=r(7188),s=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},7188:(e,t,r)=>{"use strict";var n=r(4229);e.exports=!n((function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},266:(e,t,r)=>{"use strict";var n=r(7188),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},1805:(e,t,r)=>{"use strict";var n=r(7400),o=r(8270),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),u=a&&"something"===(function(){}).name,c=a&&(!n||n&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},3411:(e,t,r)=>{"use strict";var n=r(5968),o=r(7111);e.exports=function(e,t,r){try{return n(o(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(i){}}},4745:(e,t,r)=>{"use strict";var n=r(7079),o=r(5968);e.exports=function(e){if("Function"===n(e))return o(e)}},5968:(e,t,r)=>{"use strict";var n=r(7188),o=Function.prototype,i=o.call,s=n&&o.bind.bind(i,i);e.exports=n?s:function(e){return function(){return i.apply(e,arguments)}}},1333:(e,t,r)=>{"use strict";var n=r(9859),o=r(6733);e.exports=function(e,t){return arguments.length<2?(r=n[e],o(r)?r:void 0):n[e]&&n[e][t];var r}},8830:(e,t,r)=>{"use strict";var n=r(1589),o=r(5300),i=r(9650),s=r(5495),a=r(95)("iterator");e.exports=function(e){if(!i(e))return o(e,a)||o(e,"@@iterator")||s[n(e)]}},8403:(e,t,r)=>{"use strict";var n=r(266),o=r(7111),i=r(1176),s=r(9821),a=r(8830),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(o(r))return i(n(r,e));throw u(s(e)+" is not iterable")}},5300:(e,t,r)=>{"use strict";var n=r(7111),o=r(9650);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},17:(e,t,r)=>{"use strict";var n=r(5968),o=r(2991),i=Math.floor,s=n("".charAt),a=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,p){var f=r+e.length,h=n.length,m=l;return void 0!==d&&(d=o(d),m=c),a(p,m,(function(o,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,f);case"<":c=d[u(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var p=i(l/10);return 0===p?o:p<=h?void 0===n[p-1]?s(a,1):n[p-1]+s(a,1):o}c=n[l-1]}return void 0===c?"":c}))}},9859:function(e){"use strict";var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},8270:(e,t,r)=>{"use strict";var n=r(5968),o=r(2991),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},5977:e=>{"use strict";e.exports={}},4665:e=>{"use strict";e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(r){}}},8385:(e,t,r)=>{"use strict";var n=r(1333);e.exports=n("document","documentElement")},4394:(e,t,r)=>{"use strict";var n=r(7400),o=r(4229),i=r(2635);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},9337:(e,t,r)=>{"use strict";var n=r(5968),o=r(4229),i=r(7079),s=Object,a=n("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a(e,""):s(e)}:s},835:(e,t,r)=>{"use strict";var n=r(6733),o=r(5052),i=r(6540);e.exports=function(e,t,r){var s,a;return i&&n(s=t.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(e,a),e}},8511:(e,t,r)=>{"use strict";var n=r(5968),o=r(6733),i=r(5353),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},6407:(e,t,r)=>{"use strict";var n,o,i,s=r(1180),a=r(9859),u=r(5052),c=r(5762),l=r(8270),d=r(5353),p=r(4399),f=r(5977),h="Object already initialized",m=a.TypeError,g=a.WeakMap;if(s||d.state){var v=d.state||(d.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw m(h);return t.facade=e,v.set(e,t),t},o=function(e){return v.get(e)||{}},i=function(e){return v.has(e)}}else{var y=p("state");f[y]=!0,n=function(e,t){if(l(e,y))throw m(h);return t.facade=e,c(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},1943:(e,t,r)=>{"use strict";var n=r(95),o=r(5495),i=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},6733:(e,t,r)=>{"use strict";var n=r(3777),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},2359:(e,t,r)=>{"use strict";var n=r(5968),o=r(4229),i=r(6733),s=r(1589),a=r(1333),u=r(8511),c=function(){},l=[],d=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=n(p.exec),h=!p.exec(c),m=function(e){if(!i(e))return!1;try{return d(c,l,e),!0}catch(t){return!1}},g=function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(p,u(e))}catch(t){return!0}};g.sham=!0,e.exports=!d||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},6541:(e,t,r)=>{"use strict";var n=r(4229),o=r(6733),i=/#|\.prototype\./,s=function(e,t){var r=u[a(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},9650:e=>{"use strict";e.exports=function(e){return null==e}},5052:(e,t,r)=>{"use strict";var n=r(6733),o=r(3777),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},4231:e=>{"use strict";e.exports=!1},8311:(e,t,r)=>{"use strict";var n=r(5052),o=r(7079),i=r(95)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},9395:(e,t,r)=>{"use strict";var n=r(1333),o=r(6733),i=r(1321),s=r(6969),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,a(e))}},9003:(e,t,r)=>{"use strict";var n=r(7636),o=r(266),i=r(1176),s=r(9821),a=r(1943),u=r(9646),c=r(1321),l=r(8403),d=r(8830),p=r(7281),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,r){var g,v,y,E,S,T,b,_=r&&r.that,I=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),N=!(!r||!r.IS_ITERATOR),R=!(!r||!r.INTERRUPTED),O=n(t,_),A=function(e){return g&&p(g,"normal",e),new h(!0,e)},w=function(e){return I?(i(e),R?O(e[0],e[1],A):O(e[0],e[1])):R?O(e,A):O(e)};if(C)g=e.iterator;else if(N)g=e;else{if(!(v=d(e)))throw f(s(e)+" is not iterable");if(a(v)){for(y=0,E=u(e);E>y;y++)if((S=w(e[y]))&&c(m,S))return S;return new h(!1)}g=l(e,v)}for(T=C?e.next:g.next;!(b=o(T,g)).done;){try{S=w(b.value)}catch(M){p(g,"throw",M)}if("object"==typeof S&&S&&c(m,S))return S}return new h(!1)}},7281:(e,t,r)=>{"use strict";var n=r(266),o=r(1176),i=r(5300);e.exports=function(e,t,r){var s,a;o(e);try{if(!(s=i(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(u){a=!0,s=u}if("throw"===t)throw r;if(a)throw s;return o(s),r}},2247:(e,t,r)=>{"use strict";var n=r(693).IteratorPrototype,o=r(2391),i=r(5358),s=r(4555),a=r(5495),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!c,r)}),s(e,l,!1,!0),a[l]=u,e}},2707:(e,t,r)=>{"use strict";var n=r(3103),o=r(266),i=r(4231),s=r(1805),a=r(6733),u=r(2247),c=r(7567),l=r(6540),d=r(4555),p=r(5762),f=r(4768),h=r(95),m=r(5495),g=r(693),v=s.PROPER,y=s.CONFIGURABLE,E=g.IteratorPrototype,S=g.BUGGY_SAFARI_ITERATORS,T=h("iterator"),b="keys",_="values",I="entries",C=function(){return this};e.exports=function(e,t,r,s,h,g,N){u(r,t,s);var R,O,A,w=function(e){if(e===h&&D)return D;if(!S&&e in L)return L[e];switch(e){case b:case _:case I:return function(){return new r(this,e)}}return function(){return new r(this)}},M=t+" Iterator",x=!1,L=e.prototype,k=L[T]||L["@@iterator"]||h&&L[h],D=!S&&k||w(h),P="Array"==t&&L.entries||k;if(P&&(R=c(P.call(new e)))!==Object.prototype&&R.next&&(i||c(R)===E||(l?l(R,E):a(R[T])||f(R,T,C)),d(R,M,!0,!0),i&&(m[M]=C)),v&&h==_&&k&&k.name!==_&&(!i&&y?p(L,"name",_):(x=!0,D=function(){return o(k,this)})),h)if(O={values:w(_),keys:g?D:w(b),entries:w(I)},N)for(A in O)(S||x||!(A in L))&&f(L,A,O[A]);else n({target:t,proto:!0,forced:S||x},O);return i&&!N||L[T]===D||f(L,T,D,{name:h}),m[t]=D,O}},693:(e,t,r)=>{"use strict";var n,o,i,s=r(4229),a=r(6733),u=r(5052),c=r(2391),l=r(7567),d=r(4768),p=r(95),f=r(4231),h=p("iterator"),m=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):m=!0),!u(n)||s((function(){var e={};return n[h].call(e)!==e}))?n={}:f&&(n=c(n)),a(n[h])||d(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},5495:e=>{"use strict";e.exports={}},9646:(e,t,r)=>{"use strict";var n=r(4237);e.exports=function(e){return n(e.length)}},6039:(e,t,r)=>{"use strict";var n=r(5968),o=r(4229),i=r(6733),s=r(8270),a=r(7400),u=r(1805).CONFIGURABLE,c=r(8511),l=r(6407),d=l.enforce,p=l.get,f=String,h=Object.defineProperty,m=n("".slice),g=n("".replace),v=n([].join),y=a&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),E=String(String).split("String"),S=e.exports=function(e,t,r){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||u&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&s(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var n=d(e);return s(n,"source")||(n.source=v(E,"string"==typeof t?t:"")),e};Function.prototype.toString=S((function(){return i(this)&&p(this).source||c(this)}),"toString")},917:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},4794:(e,t,r)=>{"use strict";var n,o,i,s,a,u=r(9859),c=r(7636),l=r(7933).f,d=r(5795).set,p=r(3358),f=r(2023),h=r(8983),m=r(263),g=r(8801),v=u.MutationObserver||u.WebKitMutationObserver,y=u.document,E=u.process,S=u.Promise,T=l(u,"queueMicrotask"),b=T&&T.value;if(!b){var _=new p,I=function(){var e,t;for(g&&(e=E.domain)&&e.exit();t=_.get();)try{t()}catch(r){throw _.head&&n(),r}e&&e.enter()};f||g||m||!v||!y?!h&&S&&S.resolve?((s=S.resolve(void 0)).constructor=S,a=c(s.then,s),n=function(){a(I)}):g?n=function(){E.nextTick(I)}:(d=c(d,u),n=function(){d(I)}):(o=!0,i=y.createTextNode(""),new v(I).observe(i,{characterData:!0}),n=function(){i.data=o=!o}),b=function(e){_.head||n(),_.add(e)}}e.exports=b},6485:(e,t,r)=>{"use strict";var n=r(7111),o=TypeError,i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw o("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},7272:(e,t,r)=>{"use strict";var n=r(8311),o=TypeError;e.exports=function(e){if(n(e))throw o("The method doesn't accept regular expressions");return e}},47:(e,t,r)=>{"use strict";var n=r(7400),o=r(5968),i=r(266),s=r(4229),a=r(5632),u=r(894),c=r(9195),l=r(2991),d=r(9337),p=Object.assign,f=Object.defineProperty,h=o([].concat);e.exports=!p||s((function(){if(n&&1!==p({b:1},p(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=p({},e)[r]||a(p({},t)).join("")!=o}))?function(e,t){for(var r=l(e),o=arguments.length,s=1,p=u.f,f=c.f;o>s;)for(var m,g=d(arguments[s++]),v=p?h(a(g),p(g)):a(g),y=v.length,E=0;y>E;)m=v[E++],n&&!i(f,g,m)||(r[m]=g[m]);return r}:p},2391:(e,t,r)=>{"use strict";var n,o=r(1176),i=r(219),s=r(3837),a=r(5977),u=r(8385),c=r(2635),l=r(4399),d="prototype",p="script",f=l("IE_PROTO"),h=function(){},m=function(e){return"<"+p+">"+e+"</"+p+">"},g=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(i){}var e,t,r;v="undefined"!=typeof document?document.domain&&n?g(n):(t=c("iframe"),r="java"+p+":",t.style.display="none",u.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):g(n);for(var o=s.length;o--;)delete v[d][s[o]];return v()};a[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[d]=o(e),r=new h,h[d]=null,r[f]=e):r=v(),void 0===t?r:i.f(r,t)}},219:(e,t,r)=>{"use strict";var n=r(7400),o=r(7137),i=r(1787),s=r(1176),a=r(905),u=r(5632);t.f=n&&!o?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),o=u(t),c=o.length,l=0;c>l;)i.f(e,r=o[l++],n[r]);return e}},1787:(e,t,r)=>{"use strict";var n=r(7400),o=r(4394),i=r(7137),s=r(1176),a=r(9310),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=n?i?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var n=l(e,t);n&&n[f]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=a(t),s(r),o)try{return c(e,t,r)}catch(n){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7933:(e,t,r)=>{"use strict";var n=r(7400),o=r(266),i=r(9195),s=r(5358),a=r(905),u=r(9310),c=r(8270),l=r(4394),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=u(t),l)try{return d(e,t)}catch(r){}if(c(e,t))return s(!o(i.f,e,t),e[t])}},8151:(e,t,r)=>{"use strict";var n=r(140),o=r(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},894:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},7567:(e,t,r)=>{"use strict";var n=r(8270),o=r(6733),i=r(2991),s=r(4399),a=r(7528),u=s("IE_PROTO"),c=Object,l=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=i(e);if(n(t,u))return t[u];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},1321:(e,t,r)=>{"use strict";var n=r(5968);e.exports=n({}.isPrototypeOf)},140:(e,t,r)=>{"use strict";var n=r(5968),o=r(8270),i=r(905),s=r(9540).indexOf,a=r(5977),u=n([].push);e.exports=function(e,t){var r,n=i(e),c=0,l=[];for(r in n)!o(a,r)&&o(n,r)&&u(l,r);for(;t.length>c;)o(n,r=t[c++])&&(~s(l,r)||u(l,r));return l}},5632:(e,t,r)=>{"use strict";var n=r(140),o=r(3837);e.exports=Object.keys||function(e){return n(e,o)}},9195:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},6540:(e,t,r)=>{"use strict";var n=r(3411),o=r(1176),i=r(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(s){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},2914:(e,t,r)=>{"use strict";var n=r(266),o=r(6733),i=r(5052),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&o(r=e.toString)&&!i(a=n(r,e)))return a;if(o(r=e.valueOf)&&!i(a=n(r,e)))return a;if("string"!==t&&o(r=e.toString)&&!i(a=n(r,e)))return a;throw s("Can't convert object to primitive value")}},4826:(e,t,r)=>{"use strict";var n=r(1333),o=r(5968),i=r(8151),s=r(894),a=r(1176),u=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?u(t,r(e)):t}},4624:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},8321:(e,t,r)=>{"use strict";var n=r(9859),o=r(4473),i=r(6733),s=r(6541),a=r(8511),u=r(95),c=r(8639),l=r(5189),d=r(4231),p=r(6358),f=o&&o.prototype,h=u("species"),m=!1,g=i(n.PromiseRejectionEvent),v=s("Promise",(function(){var e=a(o),t=e!==String(o);if(!t&&66===p)return!0;if(d&&(!f.catch||!f.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(m=r.then((function(){}))instanceof n))return!0}return!t&&(c||l)&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},4473:(e,t,r)=>{"use strict";var n=r(9859);e.exports=n.Promise},7757:(e,t,r)=>{"use strict";var n=r(1176),o=r(5052),i=r(6485);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},6866:(e,t,r)=>{"use strict";var n=r(4473),o=r(4575),i=r(8321).CONSTRUCTOR;e.exports=i||!o((function(e){n.all(e).then(void 0,(function(){}))}))},6060:(e,t,r)=>{"use strict";var n=r(1787).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},3358:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},8115:(e,t,r)=>{"use strict";var n=r(266),o=r(1176),i=r(6733),s=r(7079),a=r(3466),u=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var c=n(r,e,t);return null!==c&&o(c),c}if("RegExp"===s(e))return n(a,e,t);throw u("RegExp#exec called on incompatible receiver")}},3466:(e,t,r)=>{"use strict";var n,o,i=r(266),s=r(5968),a=r(3326),u=r(895),c=r(5650),l=r(3036),d=r(2391),p=r(6407).get,f=r(2926),h=r(461),m=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=s("".charAt),E=s("".indexOf),S=s("".replace),T=s("".slice),b=(o=/b*/g,i(g,n=/a/,"a"),i(g,o,"a"),0!==n.lastIndex||0!==o.lastIndex),_=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1];(b||I||_||f||h)&&(v=function(e){var t,r,n,o,s,c,l,f=this,h=p(f),C=a(e),N=h.raw;if(N)return N.lastIndex=f.lastIndex,t=i(v,N,C),f.lastIndex=N.lastIndex,t;var R=h.groups,O=_&&f.sticky,A=i(u,f),w=f.source,M=0,x=C;if(O&&(A=S(A,"y",""),-1===E(A,"g")&&(A+="g"),x=T(C,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(C,f.lastIndex-1))&&(w="(?: "+w+")",x=" "+x,M++),r=new RegExp("^(?:"+w+")",A)),I&&(r=new RegExp("^"+w+"$(?!\\s)",A)),b&&(n=f.lastIndex),o=i(g,O?r:f,x),O?o?(o.input=T(o.input,M),o[0]=T(o[0],M),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:b&&o&&(f.lastIndex=f.global?o.index+o[0].length:n),I&&o&&o.length>1&&i(m,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&R)for(o.groups=c=d(null),s=0;s<R.length;s++)c[(l=R[s])[0]]=o[l[1]];return o}),e.exports=v},895:(e,t,r)=>{"use strict";var n=r(1176);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3349:(e,t,r)=>{"use strict";var n=r(266),o=r(8270),i=r(1321),s=r(895),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!i(a,e)?t:n(s,e)}},5650:(e,t,r)=>{"use strict";var n=r(4229),o=r(9859).RegExp,i=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=i||n((function(){return!o("a","y").sticky})),a=i||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},2926:(e,t,r)=>{"use strict";var n=r(4229),o=r(9859).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},461:(e,t,r)=>{"use strict";var n=r(4229),o=r(9859).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8885:(e,t,r)=>{"use strict";var n=r(9650),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},1832:(e,t,r)=>{"use strict";var n=r(1333),o=r(6616),i=r(95),s=r(7400),a=i("species");e.exports=function(e){var t=n(e);s&&t&&!t[a]&&o(t,a,{configurable:!0,get:function(){return this}})}},4555:(e,t,r)=>{"use strict";var n=r(1787).f,o=r(8270),i=r(95)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,i)&&n(e,i,{configurable:!0,value:t})}},4399:(e,t,r)=>{"use strict";var n=r(3036),o=r(1441),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5353:(e,t,r)=>{"use strict";var n=r(9859),o=r(8400),i="__core-js_shared__",s=n[i]||o(i,{});e.exports=s},3036:(e,t,r)=>{"use strict";var n=r(4231),o=r(5353);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.32.0",mode:n?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7942:(e,t,r)=>{"use strict";var n=r(1176),o=r(7988),i=r(9650),s=r(95)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||i(r=n(a)[s])?t:o(r)}},966:(e,t,r)=>{"use strict";var n=r(5968),o=r(3329),i=r(3326),s=r(8885),a=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,d=i(s(t)),p=o(r),f=d.length;return p<0||p>=f?e?"":void 0:(n=u(d,p))<55296||n>56319||p+1===f||(l=u(d,p+1))<56320||l>57343?e?a(d,p):n:e?c(d,p,p+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},7321:(e,t,r)=>{"use strict";var n=r(5968),o=2147483647,i=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",u=RangeError,c=n(s.exec),l=Math.floor,d=String.fromCharCode,p=n("".charCodeAt),f=n([].join),h=n([].push),m=n("".replace),g=n("".split),v=n("".toLowerCase),y=function(e){return e+22+75*(e<26)},E=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},S=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=p(e,r++);if(o>=55296&&o<=56319&&r<n){var i=p(e,r++);56320==(64512&i)?h(t,((1023&o)<<10)+(1023&i)+65536):(h(t,o),r--)}else h(t,o)}return t}(e);var r,n,i=e.length,s=128,c=0,m=72;for(r=0;r<e.length;r++)(n=e[r])<128&&h(t,d(n));var g=t.length,v=g;for(g&&h(t,"-");v<i;){var S=o;for(r=0;r<e.length;r++)(n=e[r])>=s&&n<S&&(S=n);var T=v+1;if(S-s>l((o-c)/T))throw u(a);for(c+=(S-s)*T,s=S,r=0;r<e.length;r++){if((n=e[r])<s&&++c>o)throw u(a);if(n==s){for(var b=c,_=36;;){var I=_<=m?1:_>=m+26?26:_-m;if(b<I)break;var C=b-I,N=36-I;h(t,d(y(I+C%N))),b=l(C/N),_+=36}h(t,d(y(b))),m=E(c,T,v==g),c=0,v++}}c++,s++}return f(t,"")};e.exports=function(e){var t,r,n=[],o=g(m(v(e),s,"."),".");for(t=0;t<o.length;t++)r=o[t],h(n,c(i,r)?"xn--"+S(r):r);return f(n,".")}},9445:(e,t,r)=>{"use strict";var n=r(1805).PROPER,o=r(4229),i=r(1647);e.exports=function(e){return o((function(){return!!i[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||n&&i[e].name!==e}))}},1017:(e,t,r)=>{"use strict";var n=r(5968),o=r(8885),i=r(3326),s=r(1647),a=n("".replace),u=RegExp("^["+s+"]+"),c=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(e){return function(t){var r=i(o(t));return 1&e&&(r=a(r,u,"")),2&e&&(r=a(r,c,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},4860:(e,t,r)=>{"use strict";var n=r(6358),o=r(4229),i=r(9859).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},5795:(e,t,r)=>{"use strict";var n,o,i,s,a=r(9859),u=r(3171),c=r(7636),l=r(6733),d=r(8270),p=r(4229),f=r(8385),h=r(1909),m=r(2635),g=r(7579),v=r(2023),y=r(8801),E=a.setImmediate,S=a.clearImmediate,T=a.process,b=a.Dispatch,_=a.Function,I=a.MessageChannel,C=a.String,N=0,R={},O="onreadystatechange";p((function(){n=a.location}));var A=function(e){if(d(R,e)){var t=R[e];delete R[e],t()}},w=function(e){return function(){A(e)}},M=function(e){A(e.data)},x=function(e){a.postMessage(C(e),n.protocol+"//"+n.host)};E&&S||(E=function(e){g(arguments.length,1);var t=l(e)?e:_(e),r=h(arguments,1);return R[++N]=function(){u(t,void 0,r)},o(N),N},S=function(e){delete R[e]},y?o=function(e){T.nextTick(w(e))}:b&&b.now?o=function(e){b.now(w(e))}:I&&!v?(s=(i=new I).port2,i.port1.onmessage=M,o=c(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(x)?(o=x,a.addEventListener("message",M,!1)):o=O in m("script")?function(e){f.appendChild(m("script"))[O]=function(){f.removeChild(this),A(e)}}:function(e){setTimeout(w(e),0)}),e.exports={set:E,clear:S}},3231:(e,t,r)=>{"use strict";var n=r(3329),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},905:(e,t,r)=>{"use strict";var n=r(9337),o=r(8885);e.exports=function(e){return n(o(e))}},3329:(e,t,r)=>{"use strict";var n=r(917);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4237:(e,t,r)=>{"use strict";var n=r(3329),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},2991:(e,t,r)=>{"use strict";var n=r(8885),o=Object;e.exports=function(e){return o(n(e))}},2066:(e,t,r)=>{"use strict";var n=r(266),o=r(5052),i=r(9395),s=r(5300),a=r(2914),u=r(95),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=s(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},9310:(e,t,r)=>{"use strict";var n=r(2066),o=r(9395);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},1601:(e,t,r)=>{"use strict";var n={};n[r(95)("toStringTag")]="z",e.exports="[object z]"===String(n)},3326:(e,t,r)=>{"use strict";var n=r(1589),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9821:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},1441:(e,t,r)=>{"use strict";var n=r(5968),o=0,i=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},4144:(e,t,r)=>{"use strict";var n=r(4229),o=r(95),i=r(7400),s=r(4231),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),r.delete("a",2),r.delete("b",void 0),s&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(s||!i)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},6969:(e,t,r)=>{"use strict";var n=r(4860);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7137:(e,t,r)=>{"use strict";var n=r(7400),o=r(4229);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},7579:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},1180:(e,t,r)=>{"use strict";var n=r(9859),o=r(6733),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},95:(e,t,r)=>{"use strict";var n=r(9859),o=r(3036),i=r(8270),s=r(1441),a=r(4860),u=r(6969),c=n.Symbol,l=o("wks"),d=u?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return i(l,e)||(l[e]=a&&i(c,e)?c[e]:d("Symbol."+e)),l[e]}},1647:e=>{"use strict";e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},9529:(e,t,r)=>{"use strict";var n=r(3103),o=r(9540).includes,i=r(4229),s=r(9736);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},5735:(e,t,r)=>{"use strict";var n=r(905),o=r(9736),i=r(5495),s=r(6407),a=r(1787).f,u=r(2707),c=r(3684),l=r(4231),d=r(7400),p="Array Iterator",f=s.set,h=s.getterFor(p);e.exports=u(Array,"Array",(function(e,t){f(this,{type:p,target:n(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(g){}},671:(e,t,r)=>{"use strict";var n=r(3103),o=r(3143).left,i=r(6038),s=r(6358);n({target:"Array",proto:!0,forced:!r(8801)&&s>79&&s<83||!i("reduce")},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},3430:(e,t,r)=>{"use strict";var n=r(3103),o=r(5968),i=r(7111),s=r(2991),a=r(9646),u=r(9563),c=r(3326),l=r(4229),d=r(3867),p=r(6038),f=r(2671),h=r(8506),m=r(6358),g=r(9811),v=[],y=o(v.sort),E=o(v.push),S=l((function(){v.sort(void 0)})),T=l((function(){v.sort(null)})),b=p("sort"),_=!l((function(){if(m)return m<70;if(!(f&&f>3)){if(h)return!0;if(g)return g<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:t+n,v:r})}for(v.sort((function(e,t){return t.v-e.v})),n=0;n<v.length;n++)t=v[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:S||!T||!b||!_},{sort:function(e){void 0!==e&&i(e);var t=s(this);if(_)return void 0===e?y(t):y(t,e);var r,n,o=[],l=a(t);for(n=0;n<l;n++)n in t&&E(o,t[n]);for(d(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e)),r=a(o),n=0;n<r;)t[n]=o[n++];for(;n<l;)u(t,n++);return t}})},4173:(e,t,r)=>{"use strict";var n=r(3103),o=r(9859);n({global:!0,forced:o.globalThis!==o},{globalThis:o})},3105:(e,t,r)=>{"use strict";var n=r(3103),o=r(47);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},1804:(e,t,r)=>{"use strict";var n=r(3103),o=r(9003),i=r(2324);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,r){i(t,e,r)}),{AS_ENTRIES:!0}),t}})},6032:(e,t,r)=>{"use strict";var n=r(3103),o=r(266),i=r(7111),s=r(6485),a=r(4624),u=r(9003);n({target:"Promise",stat:!0,forced:r(6866)},{all:function(e){var t=this,r=s.f(t),n=r.resolve,c=r.reject,l=a((function(){var r=i(t.resolve),s=[],a=0,l=1;u(e,(function(e){var i=a++,u=!1;l++,o(r,t,e).then((function(e){u||(u=!0,s[i]=e,--l||n(s))}),c)})),--l||n(s)}));return l.error&&c(l.value),r.promise}})},6135:(e,t,r)=>{"use strict";var n=r(3103),o=r(4231),i=r(8321).CONSTRUCTOR,s=r(4473),a=r(1333),u=r(6733),c=r(4768),l=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&u(s)){var d=a("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},6087:(e,t,r)=>{"use strict";var n,o,i,s=r(3103),a=r(4231),u=r(8801),c=r(9859),l=r(266),d=r(4768),p=r(6540),f=r(4555),h=r(1832),m=r(7111),g=r(6733),v=r(5052),y=r(7728),E=r(7942),S=r(5795).set,T=r(4794),b=r(4665),_=r(4624),I=r(3358),C=r(6407),N=r(4473),R=r(8321),O=r(6485),A="Promise",w=R.CONSTRUCTOR,M=R.REJECTION_EVENT,x=R.SUBCLASSING,L=C.getterFor(A),k=C.set,D=N&&N.prototype,P=N,U=D,F=c.TypeError,B=c.document,j=c.process,G=O.f,W=G,V=!!(B&&B.createEvent&&c.dispatchEvent),H="unhandledrejection",X=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},Y=function(e,t){var r,n,o,i=t.value,s=1==t.state,a=s?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{a?(s||(2===t.rejection&&q(t),t.rejection=1),!0===a?r=i:(d&&d.enter(),r=a(i),d&&(d.exit(),o=!0)),r===e.promise?c(F("Promise-chain cycle")):(n=X(r))?l(n,r,u,c):u(r)):c(i)}catch(p){d&&!o&&d.exit(),c(p)}},K=function(e,t){e.notified||(e.notified=!0,T((function(){for(var r,n=e.reactions;r=n.get();)Y(r,e);e.notified=!1,t&&!e.rejection&&Z(e)})))},z=function(e,t,r){var n,o;V?((n=B.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!M&&(o=c["on"+e])?o(n):e===H&&b("Unhandled promise rejection",r)},Z=function(e){l(S,c,(function(){var t,r=e.facade,n=e.value;if(J(e)&&(t=_((function(){u?j.emit("unhandledRejection",n,r):z(H,r,n)})),e.rejection=u||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},q=function(e){l(S,c,(function(){var t=e.facade;u?j.emit("rejectionHandled",t):z("rejectionhandled",t,e.value)}))},$=function(e,t,r){return function(n){e(t,n,r)}},Q=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw F("Promise can't be resolved itself");var n=X(t);n?T((function(){var r={done:!1};try{l(n,t,$(ee,r,e),$(Q,r,e))}catch(o){Q(r,o,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(o){Q({done:!1},o,e)}}};if(w&&(U=(P=function(e){y(this,U),m(e),l(n,this);var t=L(this);try{e($(ee,t),$(Q,t))}catch(r){Q(t,r)}}).prototype,(n=function(e){k(this,{type:A,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=d(U,"then",(function(e,t){var r=L(this),n=G(E(this,P));return r.parent=!0,n.ok=!g(e)||e,n.fail=g(t)&&t,n.domain=u?j.domain:void 0,0==r.state?r.reactions.add(n):T((function(){Y(n,r)})),n.promise})),o=function(){var e=new n,t=L(e);this.promise=e,this.resolve=$(ee,t),this.reject=$(Q,t)},O.f=G=function(e){return e===P||undefined===e?new o(e):W(e)},!a&&g(N)&&D!==Object.prototype)){i=D.then,x||d(D,"then",(function(e,t){var r=this;return new P((function(e,t){l(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete D.constructor}catch(te){}p&&p(D,U)}s({global:!0,constructor:!0,wrap:!0,forced:w},{Promise:P}),f(P,A,!1,!0),h(A)},3439:(e,t,r)=>{"use strict";r(6087),r(6032),r(6135),r(6767),r(9320),r(2047)},6767:(e,t,r)=>{"use strict";var n=r(3103),o=r(266),i=r(7111),s=r(6485),a=r(4624),u=r(9003);n({target:"Promise",stat:!0,forced:r(6866)},{race:function(e){var t=this,r=s.f(t),n=r.reject,c=a((function(){var s=i(t.resolve);u(e,(function(e){o(s,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},9320:(e,t,r)=>{"use strict";var n=r(3103),o=r(266),i=r(6485);n({target:"Promise",stat:!0,forced:r(8321).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},2047:(e,t,r)=>{"use strict";var n=r(3103),o=r(1333),i=r(4231),s=r(4473),a=r(8321).CONSTRUCTOR,u=r(7757),c=o("Promise"),l=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return u(l&&this===c?s:this,e)}})},7368:(e,t,r)=>{"use strict";var n=r(7400),o=r(9859),i=r(5968),s=r(6541),a=r(835),u=r(5762),c=r(8151).f,l=r(1321),d=r(8311),p=r(3326),f=r(3349),h=r(5650),m=r(6060),g=r(4768),v=r(4229),y=r(8270),E=r(6407).enforce,S=r(1832),T=r(95),b=r(2926),_=r(461),I=T("match"),C=o.RegExp,N=C.prototype,R=o.SyntaxError,O=i(N.exec),A=i("".charAt),w=i("".replace),M=i("".indexOf),x=i("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,k=/a/g,D=/a/g,P=new C(k)!==k,U=h.MISSED_STICKY,F=h.UNSUPPORTED_Y,B=n&&(!P||U||b||_||v((function(){return D[I]=!1,C(k)!=k||C(D)==D||"/a/i"!=C(k,"i")})));if(s("RegExp",B)){for(var j=function(e,t){var r,n,o,i,s,c,h=l(N,this),m=d(e),g=void 0===t,v=[],S=e;if(!h&&m&&g&&e.constructor===j)return e;if((m||l(N,e))&&(e=e.source,g&&(t=f(S))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),S=e,b&&"dotAll"in k&&(n=!!t&&M(t,"s")>-1)&&(t=w(t,/s/g,"")),r=t,U&&"sticky"in k&&(o=!!t&&M(t,"y")>-1)&&F&&(t=w(t,/y/g,"")),_&&(i=function(e){for(var t,r=e.length,n=0,o="",i=[],s={},a=!1,u=!1,c=0,l="";n<=r;n++){if("\\"===(t=A(e,n)))t+=A(e,++n);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:O(L,x(e,n+1))&&(n+=2,u=!0),o+=t,c++;continue;case">"===t&&u:if(""===l||y(s,l))throw new R("Invalid capture group name");s[l]=!0,i[i.length]=[l,c],u=!1,l="";continue}u?l+=t:o+=t}return[o,i]}(e),e=i[0],v=i[1]),s=a(C(e,t),h?this:N,j),(n||o||v.length)&&(c=E(s),n&&(c.dotAll=!0,c.raw=j(function(e){for(var t,r=e.length,n=0,o="",i=!1;n<=r;n++)"\\"!==(t=A(e,n))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+A(e,++n);return o}(e),r)),o&&(c.sticky=!0),v.length&&(c.groups=v)),e!==S)try{u(s,"source",""===S?"(?:)":S)}catch(T){}return s},G=c(C),W=0;G.length>W;)m(j,C,G[W++]);N.constructor=j,j.prototype=N,g(o,"RegExp",j,{constructor:!0})}S("RegExp")},7950:(e,t,r)=>{"use strict";var n=r(3103),o=r(3466);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},8233:(e,t,r)=>{"use strict";var n=r(1805).PROPER,o=r(4768),i=r(1176),s=r(3326),a=r(4229),u=r(3349),c="toString",l=RegExp.prototype[c],d=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),p=n&&l.name!=c;(d||p)&&o(RegExp.prototype,c,(function(){var e=i(this);return"/"+s(e.source)+"/"+s(u(e))}),{unsafe:!0})},6708:(e,t,r)=>{"use strict";var n,o=r(3103),i=r(4745),s=r(7933).f,a=r(4237),u=r(3326),c=r(7272),l=r(8885),d=r(8127),p=r(4231),f=i("".endsWith),h=i("".slice),m=Math.min,g=d("endsWith");o({target:"String",proto:!0,forced:!!(p||g||(n=s(String.prototype,"endsWith"),!n||n.writable))&&!g},{endsWith:function(e){var t=u(l(this));c(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,o=void 0===r?n:m(a(r),n),i=u(e);return f?f(t,i,o):h(t,o-i.length,o)===i}})},1235:(e,t,r)=>{"use strict";var n=r(3103),o=r(5968),i=r(7272),s=r(8885),a=r(3326),u=r(8127),c=o("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},8673:(e,t,r)=>{"use strict";var n=r(966).charAt,o=r(3326),i=r(6407),s=r(2707),a=r(3684),u="String Iterator",c=i.set,l=i.getterFor(u);s(String,"String",(function(e){c(this,{type:u,string:o(e),index:0})}),(function(){var e,t=l(this),r=t.string,o=t.index;return o>=r.length?a(void 0,!0):(e=n(r,o),t.index+=e.length,a(e,!1))}))},4069:(e,t,r)=>{"use strict";var n=r(266),o=r(4954),i=r(1176),s=r(9650),a=r(4237),u=r(3326),c=r(8885),l=r(5300),d=r(6637),p=r(8115);o("match",(function(e,t,r){return[function(t){var r=c(this),o=s(t)?void 0:l(t,e);return o?n(o,t,r):new RegExp(t)[e](u(r))},function(e){var n=i(this),o=u(e),s=r(t,n,o);if(s.done)return s.value;if(!n.global)return p(n,o);var c=n.unicode;n.lastIndex=0;for(var l,f=[],h=0;null!==(l=p(n,o));){var m=u(l[0]);f[h]=m,""===m&&(n.lastIndex=d(o,a(n.lastIndex),c)),h++}return 0===h?null:f}]}))},5940:(e,t,r)=>{"use strict";var n=r(3171),o=r(266),i=r(5968),s=r(4954),a=r(4229),u=r(1176),c=r(6733),l=r(9650),d=r(3329),p=r(4237),f=r(3326),h=r(8885),m=r(6637),g=r(5300),v=r(17),y=r(8115),E=r(95)("replace"),S=Math.max,T=Math.min,b=i([].concat),_=i([].push),I=i("".indexOf),C=i("".slice),N="$0"==="a".replace(/./,"$0"),R=!!/./[E]&&""===/./[E]("a","$0");s("replace",(function(e,t,r){var i=R?"$":"$0";return[function(e,r){var n=h(this),i=l(e)?void 0:g(e,E);return i?o(i,e,n,r):o(t,f(n),e,r)},function(e,o){var s=u(this),a=f(e);if("string"==typeof o&&-1===I(o,i)&&-1===I(o,"$<")){var l=r(t,s,a,o);if(l.done)return l.value}var h=c(o);h||(o=f(o));var g=s.global;if(g){var E=s.unicode;s.lastIndex=0}for(var N=[];;){var R=y(s,a);if(null===R)break;if(_(N,R),!g)break;""===f(R[0])&&(s.lastIndex=m(a,p(s.lastIndex),E))}for(var O,A="",w=0,M=0;M<N.length;M++){for(var x=f((R=N[M])[0]),L=S(T(d(R.index),a.length),0),k=[],D=1;D<R.length;D++)_(k,void 0===(O=R[D])?O:String(O));var P=R.groups;if(h){var U=b([x],k,L,a);void 0!==P&&_(U,P);var F=f(n(o,void 0,U))}else F=v(x,a,L,k,P,o);L>=w&&(A+=C(a,w,L)+F,w=L+x.length)}return A+C(a,w)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!N||R)},8319:(e,t,r)=>{"use strict";var n=r(3171),o=r(266),i=r(5968),s=r(4954),a=r(1176),u=r(9650),c=r(8311),l=r(8885),d=r(7942),p=r(6637),f=r(4237),h=r(3326),m=r(5300),g=r(9794),v=r(8115),y=r(3466),E=r(5650),S=r(4229),T=E.UNSUPPORTED_Y,b=4294967295,_=Math.min,I=[].push,C=i(/./.exec),N=i(I),R=i("".slice);s("split",(function(e,t,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var i=h(l(this)),s=void 0===r?b:r>>>0;if(0===s)return[];if(void 0===e)return[i];if(!c(e))return o(t,i,e,s);for(var a,u,d,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,f+"g");(a=o(y,v,i))&&!((u=v.lastIndex)>m&&(N(p,R(i,m,a.index)),a.length>1&&a.index<i.length&&n(I,p,g(a,1)),d=a[0].length,m=u,p.length>=s));)v.lastIndex===a.index&&v.lastIndex++;return m===i.length?!d&&C(v,"")||N(p,""):N(p,R(i,m)),p.length>s?g(p,0,s):p}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:o(t,this,e,r)}:t,[function(t,r){var n=l(this),s=u(t)?void 0:m(t,e);return s?o(s,t,n,r):o(i,h(n),t,r)},function(e,n){var o=a(this),s=h(e),u=r(i,o,s,n,i!==t);if(u.done)return u.value;var c=d(o,RegExp),l=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(T?"g":"y"),g=new c(T?"^(?:"+o.source+")":o,m),y=void 0===n?b:n>>>0;if(0===y)return[];if(0===s.length)return null===v(g,s)?[s]:[];for(var E=0,S=0,I=[];S<s.length;){g.lastIndex=T?0:S;var C,O=v(g,T?R(s,S):s);if(null===O||(C=_(f(g.lastIndex+(T?S:0)),s.length))===E)S=p(s,S,l);else{if(N(I,R(s,E,S)),I.length===y)return I;for(var A=1;A<=O.length-1;A++)if(N(I,O[A]),I.length===y)return I;S=E=C}}return N(I,R(s,E)),I}]}),!!S((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),T)},4112:(e,t,r)=>{"use strict";var n,o=r(3103),i=r(4745),s=r(7933).f,a=r(4237),u=r(3326),c=r(7272),l=r(8885),d=r(8127),p=r(4231),f=i("".startsWith),h=i("".slice),m=Math.min,g=d("startsWith");o({target:"String",proto:!0,forced:!!(p||g||(n=s(String.prototype,"startsWith"),!n||n.writable))&&!g},{startsWith:function(e){var t=u(l(this));c(e);var r=a(m(arguments.length>1?arguments[1]:void 0,t.length)),n=u(e);return f?f(t,n,r):h(t,r,r+n.length)===n}})},5794:(e,t,r)=>{"use strict";var n=r(3103),o=r(1017).trim;n({target:"String",proto:!0,forced:r(9445)("trim")},{trim:function(){return o(this)}})},634:(e,t,r)=>{"use strict";var n=r(3103),o=r(7400),i=r(9859),s=r(5968),a=r(8270),u=r(6733),c=r(1321),l=r(3326),d=r(6616),p=r(7081),f=i.Symbol,h=f&&f.prototype;if(o&&u(f)&&(!("description"in h)||void 0!==f().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};p(g,f),g.prototype=h,h.constructor=g;var v="Symbol(test)"==String(f("test")),y=s(h.valueOf),E=s(h.toString),S=/^Symbol\((.*)\)[^)]+$/,T=s("".replace),b=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=y(this);if(a(m,e))return"";var t=E(e),r=v?b(t,7,-1):T(t,S,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},6481:(e,t,r)=>{"use strict";r(4173)},6886:(e,t,r)=>{"use strict";var n=r(9859),o=r(5694),i=r(8865),s=r(5735),a=r(5762),u=r(95),c=u("iterator"),l=u("toStringTag"),d=s.values,p=function(e,t){if(e){if(e[c]!==d)try{a(e,c,d)}catch(n){e[c]=d}if(e[l]||a(e,l,t),o[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(n){e[r]=s[r]}}};for(var f in o)p(n[f]&&n[f].prototype,f);p(i,"DOMTokenList")},2653:(e,t,r)=>{"use strict";r(5735);var n=r(3103),o=r(9859),i=r(266),s=r(5968),a=r(7400),u=r(4144),c=r(4768),l=r(6616),d=r(8312),p=r(4555),f=r(2247),h=r(6407),m=r(7728),g=r(6733),v=r(8270),y=r(7636),E=r(1589),S=r(1176),T=r(5052),b=r(3326),_=r(2391),I=r(5358),C=r(8403),N=r(8830),R=r(7579),O=r(95),A=r(3867),w=O("iterator"),M="URLSearchParams",x=M+"Iterator",L=h.set,k=h.getterFor(M),D=h.getterFor(x),P=Object.getOwnPropertyDescriptor,U=function(e){if(!a)return o[e];var t=P(o,e);return t&&t.value},F=U("fetch"),B=U("Request"),j=U("Headers"),G=B&&B.prototype,W=j&&j.prototype,V=o.RegExp,H=o.TypeError,X=o.decodeURIComponent,Y=o.encodeURIComponent,K=s("".charAt),z=s([].join),Z=s([].push),J=s("".replace),q=s([].shift),$=s([].splice),Q=s("".split),ee=s("".slice),te=/\+/g,re=Array(4),ne=function(e){return re[e-1]||(re[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},oe=function(e){try{return X(e)}catch(t){return e}},ie=function(e){var t=J(e,te," "),r=4;try{return X(t)}catch(n){for(;r;)t=J(t,ne(r--),oe);return t}},se=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ue=function(e){return ae[e]},ce=function(e){return J(Y(e),se,ue)},le=f((function(e,t){L(this,{type:x,iterator:C(k(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(T(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?ee(e,1):e:b(e)))};de.prototype={type:M,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,o,s,a,u,c=N(e);if(c)for(r=(t=C(e,c)).next;!(n=i(r,t)).done;){if(s=(o=C(S(n.value))).next,(a=i(s,o)).done||(u=i(s,o)).done||!i(s,o).done)throw H("Expected sequence with length 2");Z(this.entries,{key:b(a.value),value:b(u.value)})}else for(var l in e)v(e,l)&&Z(this.entries,{key:l,value:b(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=Q(e,"&"),o=0;o<n.length;)(t=n[o++]).length&&(r=Q(t,"="),Z(this.entries,{key:ie(q(r)),value:ie(z(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],Z(r,ce(e.key)+"="+ce(e.value));return z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pe=function(){m(this,fe);var e=L(this,new de(arguments.length>0?arguments[0]:void 0));a||(this.size=e.entries.length)},fe=pe.prototype;if(d(fe,{append:function(e,t){var r=k(this);R(arguments.length,2),Z(r.entries,{key:b(e),value:b(t)}),a||this.length++,r.updateURL()},delete:function(e){for(var t=k(this),r=R(arguments.length,1),n=t.entries,o=b(e),i=r<2?void 0:arguments[1],s=void 0===i?i:b(i),u=0;u<n.length;){var c=n[u];if(c.key!==o||void 0!==s&&c.value!==s)u++;else if($(n,u,1),void 0!==s)break}a||(this.size=n.length),t.updateURL()},get:function(e){var t=k(this).entries;R(arguments.length,1);for(var r=b(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=k(this).entries;R(arguments.length,1);for(var r=b(e),n=[],o=0;o<t.length;o++)t[o].key===r&&Z(n,t[o].value);return n},has:function(e){for(var t=k(this).entries,r=R(arguments.length,1),n=b(e),o=r<2?void 0:arguments[1],i=void 0===o?o:b(o),s=0;s<t.length;){var a=t[s++];if(a.key===n&&(void 0===i||a.value===i))return!0}return!1},set:function(e,t){var r=k(this);R(arguments.length,1);for(var n,o=r.entries,i=!1,s=b(e),u=b(t),c=0;c<o.length;c++)(n=o[c]).key===s&&(i?$(o,c--,1):(i=!0,n.value=u));i||Z(o,{key:s,value:u}),a||(this.size=o.length),r.updateURL()},sort:function(){var e=k(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=k(this).entries,n=y(e,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),c(fe,w,fe.entries,{name:"entries"}),c(fe,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),a&&l(fe,"size",{get:function(){return k(this).entries.length},configurable:!0,enumerable:!0}),p(pe,M),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:pe}),!u&&g(j)){var he=s(W.has),me=s(W.set),ge=function(e){if(T(e)){var t,r=e.body;if(E(r)===M)return t=e.headers?new j(e.headers):new j,he(t,"content-type")||me(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:I(0,b(r)),headers:I(0,t)})}return e};if(g(F)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?ge(arguments[1]):{})}}),g(B)){var ve=function(e){return m(this,G),new B(e,arguments.length>1?ge(arguments[1]):{})};G.constructor=ve,ve.prototype=G,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:pe,getState:k}},523:(e,t,r)=>{"use strict";r(2653)},5340:(e,t,r)=>{"use strict";r(8673);var n,o=r(3103),i=r(7400),s=r(4144),a=r(9859),u=r(7636),c=r(5968),l=r(4768),d=r(6616),p=r(7728),f=r(8270),h=r(47),m=r(507),g=r(9794),v=r(966).codeAt,y=r(7321),E=r(3326),S=r(4555),T=r(7579),b=r(2653),_=r(6407),I=_.set,C=_.getterFor("URL"),N=b.URLSearchParams,R=b.getState,O=a.URL,A=a.TypeError,w=a.parseInt,M=Math.floor,x=Math.pow,L=c("".charAt),k=c(/./.exec),D=c([].join),P=c(1..toString),U=c([].pop),F=c([].push),B=c("".replace),j=c([].shift),G=c("".split),W=c("".slice),V=c("".toLowerCase),H=c([].unshift),X="Invalid scheme",Y="Invalid host",K="Invalid port",z=/[a-z]/i,Z=/[\d+-.a-z]/i,J=/\d/,q=/^0x/i,$=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,oe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,se=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)H(t,e%256),e=M(e/256);return D(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=P(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ae={},ue=h({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=h({},ue,{"#":1,"?":1,"{":1,"}":1}),le=h({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(e,t){var r=v(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},pe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var r;return 2==e.length&&k(z,L(e,0))&&(":"==(r=L(e,1))||!t&&"|"==r)},he=function(e){var t;return e.length>1&&fe(W(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},me=function(e){return"."===e||"%2e"===V(e)},ge={},ve={},ye={},Ee={},Se={},Te={},be={},_e={},Ie={},Ce={},Ne={},Re={},Oe={},Ae={},we={},Me={},xe={},Le={},ke={},De={},Pe={},Ue=function(e,t,r){var n,o,i,s=E(e);if(t){if(o=this.parse(s))throw A(o);this.searchParams=null}else{if(void 0!==r&&(n=new Ue(r,!0)),o=this.parse(s,null,n))throw A(o);(i=R(new N)).bindURL(this),this.searchParams=i}};Ue.prototype={type:"URL",parse:function(e,t,r){var o,i,s,a,u,c=this,l=t||ge,d=0,p="",h=!1,v=!1,y=!1;for(e=E(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=B(e,ne,""),e=B(e,oe,"$1")),e=B(e,ie,""),o=m(e);d<=o.length;){switch(i=o[d],l){case ge:if(!i||!k(z,i)){if(t)return X;l=ye;continue}p+=V(i),l=ve;break;case ve:if(i&&(k(Z,i)||"+"==i||"-"==i||"."==i))p+=V(i);else{if(":"!=i){if(t)return X;p="",l=ye,d=0;continue}if(t&&(c.isSpecial()!=f(pe,p)||"file"==p&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=p,t)return void(c.isSpecial()&&pe[c.scheme]==c.port&&(c.port=null));p="","file"==c.scheme?l=Ae:c.isSpecial()&&r&&r.scheme==c.scheme?l=Ee:c.isSpecial()?l=_e:"/"==o[d+1]?(l=Se,d++):(c.cannotBeABaseURL=!0,F(c.path,""),l=ke)}break;case ye:if(!r||r.cannotBeABaseURL&&"#"!=i)return X;if(r.cannotBeABaseURL&&"#"==i){c.scheme=r.scheme,c.path=g(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=Pe;break}l="file"==r.scheme?Ae:Te;continue;case Ee:if("/"!=i||"/"!=o[d+1]){l=Te;continue}l=Ie,d++;break;case Se:if("/"==i){l=Ce;break}l=Le;continue;case Te:if(c.scheme=r.scheme,i==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query;else if("/"==i||"\\"==i&&c.isSpecial())l=be;else if("?"==i)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query="",l=De;else{if("#"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.path.length--,l=Le;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=g(r.path),c.query=r.query,c.fragment="",l=Pe}break;case be:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=Le;continue}l=Ce}else l=Ie;break;case _e:if(l=Ie,"/"!=i||"/"!=L(p,d+1))continue;d++;break;case Ie:if("/"!=i&&"\\"!=i){l=Ce;continue}break;case Ce:if("@"==i){h&&(p="%40"+p),h=!0,s=m(p);for(var S=0;S<s.length;S++){var T=s[S];if(":"!=T||y){var b=de(T,le);y?c.password+=b:c.username+=b}else y=!0}p=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(h&&""==p)return"Invalid authority";d-=m(p).length+1,p="",l=Ne}else p+=i;break;case Ne:case Re:if(t&&"file"==c.scheme){l=Me;continue}if(":"!=i||v){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==p)return Y;if(t&&""==p&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(p))return a;if(p="",l=xe,t)return;continue}"["==i?v=!0:"]"==i&&(v=!1),p+=i}else{if(""==p)return Y;if(a=c.parseHost(p))return a;if(p="",l=Oe,t==Re)return}break;case Oe:if(!k(J,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=p){var _=w(p,10);if(_>65535)return K;c.port=c.isSpecial()&&_===pe[c.scheme]?null:_,p=""}if(t)return;l=xe;continue}return K}p+=i;break;case Ae:if(c.scheme="file","/"==i||"\\"==i)l=we;else{if(!r||"file"!=r.scheme){l=Le;continue}if(i==n)c.host=r.host,c.path=g(r.path),c.query=r.query;else if("?"==i)c.host=r.host,c.path=g(r.path),c.query="",l=De;else{if("#"!=i){he(D(g(o,d),""))||(c.host=r.host,c.path=g(r.path),c.shortenPath()),l=Le;continue}c.host=r.host,c.path=g(r.path),c.query=r.query,c.fragment="",l=Pe}}break;case we:if("/"==i||"\\"==i){l=Me;break}r&&"file"==r.scheme&&!he(D(g(o,d),""))&&(fe(r.path[0],!0)?F(c.path,r.path[0]):c.host=r.host),l=Le;continue;case Me:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&fe(p))l=Le;else if(""==p){if(c.host="",t)return;l=xe}else{if(a=c.parseHost(p))return a;if("localhost"==c.host&&(c.host=""),t)return;p="",l=xe}continue}p+=i;break;case xe:if(c.isSpecial()){if(l=Le,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=n&&(l=Le,"/"!=i))continue}else c.fragment="",l=Pe;else c.query="",l=De;break;case Le:if(i==n||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(".."===(u=V(u=p))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||F(c.path,"")):me(p)?"/"==i||"\\"==i&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&fe(p)&&(c.host&&(c.host=""),p=L(p,0)+":"),F(c.path,p)),p="","file"==c.scheme&&(i==n||"?"==i||"#"==i))for(;c.path.length>1&&""===c.path[0];)j(c.path);"?"==i?(c.query="",l=De):"#"==i&&(c.fragment="",l=Pe)}else p+=de(i,ce);break;case ke:"?"==i?(c.query="",l=De):"#"==i?(c.fragment="",l=Pe):i!=n&&(c.path[0]+=de(i,ae));break;case De:t||"#"!=i?i!=n&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":de(i,ae)):(c.fragment="",l=Pe);break;case Pe:i!=n&&(c.fragment+=de(i,ue))}d++}},parseHost:function(e){var t,r,n;if("["==L(e,0)){if("]"!=L(e,e.length-1))return Y;if(t=function(e){var t,r,n,o,i,s,a,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,p=function(){return L(e,d)};if(":"==p()){if(":"!=L(e,1))return;d+=2,l=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=r=0;r<4&&k(ee,p());)t=16*t+w(p(),16),d++,r++;if("."==p()){if(0==r)return;if(d-=r,c>6)return;for(n=0;p();){if(o=null,n>0){if(!("."==p()&&n<4))return;d++}if(!k(J,p()))return;for(;k(J,p());){if(i=w(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(s=c-l,c=7;0!=c&&s>0;)a=u[c],u[c--]=u[l+s-1],u[l+--s]=a;else if(8!=c)return;return u}(W(e,1,-1)),!t)return Y;this.host=t}else if(this.isSpecial()){if(e=y(e),k(te,e))return Y;if(t=function(e){var t,r,n,o,i,s,a,u=G(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==L(o,0)&&(i=k(q,o)?16:8,o=W(o,8==i?1:2)),""===o)s=0;else{if(!k(10==i?Q:8==i?$:ee,o))return e;s=w(o,i)}F(r,s)}for(n=0;n<t;n++)if(s=r[n],n==t-1){if(s>=x(256,5-t))return null}else if(s>255)return null;for(a=U(r),n=0;n<r.length;n++)a+=r[n]*x(256,3-n);return a}(e),null===t)return Y;this.host=t}else{if(k(re,e))return Y;for(t="",r=m(e),n=0;n<r.length;n++)t+=de(r[n],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(pe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&fe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,s=e.path,a=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=se(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+D(s,"/"):"",null!==a&&(c+="?"+a),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Fe(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(E(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=m(E(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=de(t[r],le)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(E(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=de(t[r],le)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ne)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getPort:function(){var e=this.port;return null===e?"":E(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=E(e))?this.port=null:this.parse(e,Oe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+D(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,xe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=E(e))?this.query=null:("?"==L(e,0)&&(e=W(e,1)),this.query="",this.parse(e,De)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=E(e))?("#"==L(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Pe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=p(this,Be),r=T(arguments.length,1)>1?arguments[1]:void 0,n=I(t,new Ue(e,!1,r));i||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Be=Fe.prototype,je=function(e,t){return{get:function(){return C(this)[e]()},set:t&&function(e){return C(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(d(Be,"href",je("serialize","setHref")),d(Be,"origin",je("getOrigin")),d(Be,"protocol",je("getProtocol","setProtocol")),d(Be,"username",je("getUsername","setUsername")),d(Be,"password",je("getPassword","setPassword")),d(Be,"host",je("getHost","setHost")),d(Be,"hostname",je("getHostname","setHostname")),d(Be,"port",je("getPort","setPort")),d(Be,"pathname",je("getPathname","setPathname")),d(Be,"search",je("getSearch","setSearch")),d(Be,"searchParams",je("getSearchParams")),d(Be,"hash",je("getHash","setHash"))),l(Be,"toJSON",(function(){return C(this).serialize()}),{enumerable:!0}),l(Be,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),O){var Ge=O.createObjectURL,We=O.revokeObjectURL;Ge&&l(Fe,"createObjectURL",u(Ge,O)),We&&l(Fe,"revokeObjectURL",u(We,O))}S(Fe,"URL"),o({global:!0,constructor:!0,forced:!s,sham:!i},{URL:Fe})},4121:(e,t,r)=>{"use strict";r(5340)},5371:(e,t,r)=>{"use strict";var n=r(3103),o=r(266);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return o(URL.prototype.toString,this)}})},6522:function(e){var t;t=()=>{var e={},t={exports:e},r=Object.defineProperty,n=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});var o,i=Object.defineProperty,s=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),a=Object.defineProperty,u=(e,t,r)=>(((e,t,r)=>{t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);class Mirror{constructor(){u(this,"idNodeMap",new Map),u(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const r=null==(t=this.getMeta(e))?void 0:t.id;return null!=r?r:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function c(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&c(e.parentNode,t,r);for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!!r&&c(e.parentNode,t,r)}const l="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let d={map:{},getId:()=>(console.error(l),-1),getNode:()=>(console.error(l),null),removeNodeFromMap(){console.error(l)},has:()=>(console.error(l),!1),reset(){console.error(l)}};"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(d=new Proxy(d,{get:(e,t,r)=>("map"===t&&console.error(l),Reflect.get(e,t,r))}));let p=Date.now;function f(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function h(e){var t,r;let n=null;return(null==(r=null==(t=e.getRootNode)?void 0:t.call(e))?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function m(e){let t,r=e;for(;t=h(r);)r=t;return r}function g(e){const t=e.ownerDocument;if(!t)return!1;const r=m(e);return t.contains(r)}/[1-9][0-9]{12}/.test(Date.now().toString())||(p=()=>(new Date).getTime());const v=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror:class StyleSheetMirror{constructor(){s(this,"id",1),s(this,"styleIDMap",new WeakMap),s(this,"idStyleMap",new Map)}getId(e){var t;return null!=(t=this.styleIDMap.get(e))?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}},get _mirror(){return d},closestElementOfNode:f,getBaseDimension:function e(t,r){var n,o;const i=null==(o=null==(n=t.ownerDocument)?void 0:n.defaultView)?void 0:o.frameElement;if(!i||i===r)return{x:0,y:0,relativeScale:1,absoluteScale:1};const s=i.getBoundingClientRect(),a=e(i,r),u=s.height/i.clientHeight;return{x:s.x*a.relativeScale+a.x,y:s.y*a.relativeScale+a.y,relativeScale:u,absoluteScale:a.absoluteScale*u}},getNestedRule:function e(t,r){const n=t[r[0]];return 1===r.length?n:e(n.cssRules[r[1]].cssRules,r.slice(2))},getPositionsAndIndex:function(e){const t=[...e],r=t.pop();return{positions:t,index:r}},getRootShadowHost:m,getShadowHost:h,getWindowHeight:function(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight},getWindowScroll:function(e){var t,r,n,o,i,s;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null==(r=null==(t=null==a?void 0:a.body)?void 0:t.parentElement)?void 0:r.scrollLeft)||(null==(n=null==a?void 0:a.body)?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null==(i=null==(o=null==a?void 0:a.body)?void 0:o.parentElement)?void 0:i.scrollTop)||(null==(s=null==a?void 0:a.body)?void 0:s.scrollTop)||0}},getWindowWidth:function(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth},hasShadowRoot:function(e){return Boolean(null==e?void 0:e.shadowRoot)},hookSetter:function e(t,r,n,o,i=window){const s=i.Object.getOwnPropertyDescriptor(t,r);return i.Object.defineProperty(t,r,o?n:{set(e){setTimeout((()=>{n.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>e(t,r,s||{},!0)},inDom:function(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||g(e))},isAncestorRemoved:function e(t,r){if(function(e){const t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}(t))return!1;const n=r.getId(t);return!r.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,r))},isBlocked:function(e,t,r,n){if(!e)return!1;const o=f(e);if(!o)return!1;try{if("string"==typeof t){if(o.classList.contains(t))return!0;if(n&&null!==o.closest("."+t))return!0}else if(c(o,t,n))return!0}catch(i){}if(r){if(o.matches(r))return!0;if(n&&null!==o.closest(r))return!0}return!1},isIgnored:function(e,t,r){return!("TITLE"!==e.tagName||!r.headTitleMutations)||-2===t.getId(e)},isSerialized:function(e,t){return-1!==t.getId(e)},isSerializedIframe:function(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))},isSerializedStylesheet:function(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))},iterateResolveTree:function e(t,r){r(t.value);for(let n=t.children.length-1;n>=0;n--)e(t.children[n],r)},legacy_isTouchEvent:function(e){return Boolean(e.changedTouches)},get nowTimestamp(){return p},on:function(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)},patch:function(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch(n){return()=>{}}},polyfill:function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})},queueToResolveTrees:function(e){const t={},r=(e,r)=>{const n={value:e,parent:r,children:[]};return t[e.node.id]=n,n},n=[];for(const o of e){const{nextId:e,parentId:i}=o;if(e&&e in t){const i=t[e];if(i.parent){const e=i.parent.children.indexOf(i);i.parent.children.splice(e,0,r(o,i.parent))}else{const e=n.indexOf(i);n.splice(e,0,r(o,null))}}else if(i in t){const e=t[i];e.children.push(r(o,e))}else n.push(r(o,null))}return n},shadowHostInDom:g,throttle:function(e,t,r={}){let n=null,o=0;return function(...i){const s=Date.now();o||!1!==r.leading||(o=s);const a=t-(s-o),u=this;a<=0||a>t?(n&&(clearTimeout(n),n=null),o=s,e.apply(u,i)):n||!1===r.trailing||(n=setTimeout((()=>{o=!1===r.leading?0:Date.now(),n=null,e.apply(u,i)}),a))}},uniqueTextMutations:function(e){const t=new Set,r=[];for(let n=e.length;n--;){const o=e[n];t.has(o.id)||(r.push(o),t.add(o.id))}return r}},Symbol.toStringTag,{value:"Module"}));for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E="undefined"==typeof Uint8Array?[]:new Uint8Array(256),S=0;S<64;S++)E[y.charCodeAt(S)]=S;var T,b,_;"undefined"!=typeof window&&window.Blob&&new Blob([(T="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgfQogIGNvbnN0IHdvcmtlciA9IHNlbGY7CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgIGNvbnN0IHsgaWQsIGJpdG1hcCwgd2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMgfSA9IGUuZGF0YTsKICAgICAgY29uc3QgdHJhbnNwYXJlbnRCYXNlNjQgPSBnZXRUcmFuc3BhcmVudEJsb2JGb3IoCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGRhdGFVUkxPcHRpb25zCiAgICAgICk7CiAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7CiAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHguZHJhd0ltYWdlKGJpdG1hcCwgMCwgMCk7CiAgICAgIGJpdG1hcC5jbG9zZSgpOwogICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICBjb25zdCB0eXBlID0gYmxvYi50eXBlOwogICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTsKICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsKICAgICAgaWYgKCFsYXN0QmxvYk1hcC5oYXMoaWQpICYmIGF3YWl0IHRyYW5zcGFyZW50QmFzZTY0ID09PSBiYXNlNjQpIHsKICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpCiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodAogICAgICB9KTsKICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQgfSk7CiAgICB9CiAgfTsKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UtYml0bWFwLWRhdGEtdXJsLXdvcmtlci1CWjFyN1JKRC5qcy5tYXAK",Uint8Array.from(atob(T),(e=>e.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(o=e.contentWindow)?void 0:o.Array.from)||Array.from,document.body.removeChild(e)}}catch(D){console.debug("Unable to override Array.from",D)}new Mirror,(_=b||(b={}))[_.NotStarted=0]="NotStarted",_[_.Running=1]="Running",_[_.Stopped=2]="Stopped";class StackFrame{constructor(e){n(this,"fileName"),n(this,"functionName"),n(this,"lineNumber"),n(this,"columnNumber"),this.fileName=e.fileName||"",this.functionName=e.functionName||"",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}toString(){const e=this.lineNumber||"",t=this.columnNumber||"";return this.functionName?`${this.functionName} (${this.fileName}:${e}:${t})`:`${this.fileName}:${e}:${t}`}}const I=/(^|@)\S+:\d+/,C=/^\s*at .*(\S+:\d+|\(native\))/m,N=/^(eval@)?(\[native code])?$/,R={parse:function(e){return e?void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(C)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):(console.warn("[console-record-plugin]: Failed to parse error object:",e),[]):[]},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];const t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));if(!t)throw new Error(`Cannot parse given url: ${e}`);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(C)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(");const r=t.match(/ (\((.+):(\d+):(\d+)\)$)/);t=r?t.replace(r[0],""):t;const n=t.split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:n.pop()),i=n.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0];return new StackFrame({functionName:i,fileName:s,lineNumber:o[1],columnNumber:o[2]})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(N)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new StackFrame({functionName:e});{const t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(t),n=r&&r[1]?r[1]:void 0,o=this.extractLocation(e.replace(t,""));return new StackFrame({functionName:n,fileName:o[0],lineNumber:o[1],columnNumber:o[2]})}}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){const t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[];for(let o=2,i=r.length;o<i;o+=2){const e=t.exec(r[o]);e&&n.push(new StackFrame({fileName:e[2],lineNumber:parseFloat(e[1])}))}return n},parseOpera10:function(e){const t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[];for(let o=0,i=r.length;o<i;o+=2){const e=t.exec(r[o]);e&&n.push(new StackFrame({functionName:e[3]||void 0,fileName:e[2],lineNumber:parseFloat(e[1])}))}return n},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(I)&&!e.match(/^Error created at/)}),this).map((function(e){const t=e.split("@"),r=this.extractLocation(t.pop()),n=(t.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new StackFrame({functionName:n,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}),this)}};function O(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let r=e.localName;if(!r)break;r=r.toLowerCase();const n=e.parentElement,o=[];if(n.children&&n.children.length>0)for(let e=0;e<n.children.length;e++){const t=n.children[e];t.localName&&t.localName.toLowerCase&&t.localName.toLowerCase()===r&&o.push(t)}o.length>1&&(r+=`:eq(${o.indexOf(e)})`),t=r+(t?">"+t:""),e=n}return t}function A(e){return"[object Object]"===Object.prototype.toString.call(e)}function w(e,t){if(0===t)return!0;const r=Object.keys(e);for(const n of r)if(A(e[n])&&w(e[n],t-1))return!0;return!1}function M(e,t){const r={numOfKeysLimit:50,depthOfLimit:4};Object.assign(r,t);const n=[],o=[];return JSON.stringify(e,(function(e,t){if(n.length>0){const r=n.indexOf(this);~r?n.splice(r+1):n.push(this),~r?o.splice(r,1/0,e):o.push(e),~n.indexOf(t)&&(t=n[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n.indexOf(t)).join(".")+"]")}else n.push(t);if(null===t)return t;if(void 0===t)return"undefined";if(A(i=t)&&Object.keys(i).length>r.numOfKeysLimit||"function"==typeof i||A(i)&&w(i,r.depthOfLimit))return function(e){let t=e.toString();return r.stringLengthLimit&&t.length>r.stringLengthLimit&&(t=`${t.slice(0,r.stringLengthLimit)}...`),t}(t);var i;if("bigint"==typeof t)return t.toString()+"n";if(t instanceof Event){const e={};for(const r in t){const n=t[r];Array.isArray(n)?e[r]=O(n.length?n[0]:null):e[r]=n}return e}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:"":t.nodeName:t instanceof Error?t.stack?t.stack+"\nEnd of stack for Error object":t.name+": "+t.message:t}))}const x={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function L(e,t,r){const n=r?Object.assign({},x,r):x,o=n.logger;if(!o)return()=>{};let i;i="string"==typeof o?t[o]:o;let s=0,a=!1;const u=[];if(n.level.includes("error")){const r=t=>{const r=t.message,o=t.error,i=R.parse(o).map((e=>e.toString())),s=[M(r,n.stringifyOptions)];e({level:"error",trace:i,payload:s})};t.addEventListener("error",r),u.push((()=>{t.removeEventListener("error",r)}));const o=t=>{let r,o;t.reason instanceof Error?(r=t.reason,o=[M(`Uncaught (in promise) ${r.name}: ${r.message}`,n.stringifyOptions)]):(r=new Error,o=[M("Uncaught (in promise)",n.stringifyOptions),M(t.reason,n.stringifyOptions)]);const i=R.parse(r).map((e=>e.toString()));e({level:"error",trace:i,payload:o})};t.addEventListener("unhandledrejection",o),u.push((()=>{t.removeEventListener("unhandledrejection",o)}))}for(const l of n.level)u.push(c(i,l));return()=>{u.forEach((e=>e()))};function c(t,r){return t[r]?v.patch(t,r,(t=>(...o)=>{if(t.apply(this,o),!a){a=!0;try{const t=R.parse(new Error).map((e=>e.toString())).splice(1),i=o.map((e=>M(e,n.stringifyOptions)));s++,s<n.lengthThreshold?e({level:r,trace:t,payload:i}):s===n.lengthThreshold&&e({level:"warn",trace:[],payload:[M("The number of log records reached the threshold.")]})}catch(i){t("rrweb logger error:",i,...o)}finally{a=!1}}})):()=>{}}}const k="rrweb/console@1";return e.PLUGIN_NAME=k,e.getRecordConsolePlugin=e=>({name:k,observer:L,options:e}),"object"==typeof t.exports&&"object"==typeof e&&(t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Object.getOwnPropertyNames(t))Object.prototype.hasOwnProperty.call(e,o)||o===r||Object.defineProperty(e,o,{get:()=>t[o],enumerable:!(n=Object.getOwnPropertyDescriptor(t,o))||n.enumerable});return e})(t.exports,e)),t.exports},e.exports=t()},5349:function(e){e.exports=(()=>{var e={},t={exports:e};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});var r=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(r||{}),n=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(n||{}),o=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(o||{}),i=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(i||{}),s=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(s||{}),a=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(a||{}),u=(e=>(e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy",e))(u||{});if(e.CanvasContext=s,e.EventType=r,e.IncrementalSource=n,e.MediaInteractions=a,e.MouseInteractions=o,e.PointerTypes=i,e.ReplayerEvents=u,"object"==typeof t.exports&&"object"==typeof e){var c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Object.getOwnPropertyNames(t))Object.prototype.hasOwnProperty.call(e,o)||o===r||Object.defineProperty(e,o,{get:()=>t[o],enumerable:!(n=Object.getOwnPropertyDescriptor(t,o))||n.enumerable});return e};t.exports=c(t.exports,e)}return t.exports})()},3017:function(e){var t;t=()=>{var e={},t={exports:e},r=Object.defineProperty,n=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});var o=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(o||{});function i(e){return e.nodeType===e.ELEMENT_NODE}function s(e){const t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function a(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function u(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function c(e){try{const r=e.rules||e.cssRules;return r?((t=Array.from(r,l).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(r){return null}var t}function l(e){let t;if(p(e))try{t=c(e.styleSheet)||u(e)}catch(r){}else if(f(e)&&e.selectorText.includes(":"))return d(e.cssText);return t||e.cssText}function d(e){return e.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}function p(e){return"styleSheet"in e}function f(e){return"selectorText"in e}class Mirror{constructor(){n(this,"idNodeMap",new Map),n(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const r=null==(t=this.getMeta(e))?void 0:t.id;return null!=r?r:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function h({element:e,maskInputOptions:t,tagName:r,type:n,value:o,maskInputFn:i}){let s=o||"";const a=n&&m(n);return(t[r.toLowerCase()]||a&&t[a])&&(s=i?i(s,e):"*".repeat(s.length)),s}function m(e){return e.toLowerCase()}const g="__rrweb_original__";function v(e){const t=e.getContext("2d");if(!t)return!0;for(let r=0;r<e.width;r+=50)for(let n=0;n<e.height;n+=50){const o=t.getImageData,i=g in o?o[g]:o;if(new Uint32Array(i.call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some((e=>0!==e)))return!1}return!0}function y(e,t){return!(!e||!t||e.type!==t.type)&&(e.type===o.Document?e.compatMode===t.compatMode:e.type===o.DocumentType?e.name===t.name&&e.publicId===t.publicId&&e.systemId===t.systemId:e.type===o.Comment||e.type===o.Text||e.type===o.CDATA?e.textContent===t.textContent:e.type===o.Element&&e.tagName===t.tagName&&JSON.stringify(e.attributes)===JSON.stringify(t.attributes)&&e.isSVG===t.isSVG&&e.needBlock===t.needBlock)}function E(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?m(t):null}function S(e,t){var r;let n;try{n=new URL(e,null!=t?t:window.location.href)}catch(i){return null}const o=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!=(r=null==o?void 0:o[1])?r:null}let T=1;const b=new RegExp("[^a-z0-9-_:]"),_=-2;function I(){return T++}let C,N;const R=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,O=/^(?:[a-z+]+:)?\/\//i,A=/^www\..*/i,w=/^(data:)([^,]*),(.*)/i;function M(e,t){return(e||"").replace(R,((e,r,n,o,i,s)=>{const a=n||i||s,u=r||o||"";if(!a)return e;if(O.test(a)||A.test(a))return`url(${u}${a}${u})`;if(w.test(a))return`url(${u}${a}${u})`;if("/"===a[0])return`url(${u}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${u})`;const c=t.split("/"),l=a.split("/");c.pop();for(const t of l)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${u}${c.join("/")}${u})`}))}const x=/^[^ \t\n\r\u000c]+/,L=/^[, \t\n\r\u000c]+/,k=new WeakMap;function D(e,t){return t&&""!==t.trim()?U(e,t):t}function P(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function U(e,t){let r=k.get(e);if(r||(r=e.createElement("a"),k.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function F(e,t,r,n){return n?"src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?D(e,n):"background"!==r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r?function(e,t){if(""===t.trim())return t;let r=0;function n(e){let n;const o=e.exec(t.substring(r));return o?(n=o[0],r+=n.length,n):""}const o=[];for(;n(L),!(r>=t.length);){let i=n(x);if(","===i.slice(-1))i=D(e,i.substring(0,i.length-1)),o.push(i);else{let n="";i=D(e,i);let s=!1;for(;;){const e=t.charAt(r);if(""===e){o.push((i+n).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){r+=1,o.push((i+n).trim());break}"("===e&&(s=!0)}n+=e,r+=1}}}return o.join(", ")}(e,n):"style"===r?M(n,U(e)):"object"===t&&"data"===r?D(e,n):n:D(e,n):n}function B(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function j(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&j(e.parentNode,t,r);for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!!r&&j(e.parentNode,t,r)}function G(e,t,r,n){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("string"==typeof t){if(n){if(o.closest(`.${t}`))return!0}else if(o.classList.contains(t))return!0}else if(j(o,t,n))return!0;if(r)if(n){if(o.closest(r))return!0}else if(o.matches(r))return!0}catch(o){}return!1}function W(e,t){const{doc:r,mirror:n,blockClass:i,blockSelector:s,needsMask:a,inlineStylesheet:u,maskInputOptions:l={},maskTextFn:d,maskInputFn:p,dataURLOptions:f={},inlineImages:g,recordCanvas:y,keepIframeSrcFn:S,newlyAddedElement:T=!1}=t,_=function(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:o.Document,childNodes:[],compatMode:e.compatMode}:{type:o.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:o.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:_};case e.ELEMENT_NODE:return function(e,t){const{doc:r,blockClass:n,blockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:g=!1,rootId:y}=t,S=function(e,t,r){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}if(r)return e.matches(r)}catch(n){}return!1}(e,n,i),T=function(e){if(e instanceof HTMLFormElement)return"form";const t=m(e.tagName);return b.test(t)?"div":t}(e);let _={};const I=e.attributes.length;for(let o=0;o<I;o++){const t=e.attributes[o];B(T,t.name,t.value)||(_[t.name]=F(r,T,m(t.name),t.value))}if("link"===T&&s){const t=Array.from(r.styleSheets).find((t=>t.href===e.href));let n=null;t&&(n=c(t)),n&&(delete _.rel,delete _.href,_._cssText=M(n,t.href))}if("style"===T&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=c(e.sheet);t&&(_._cssText=M(t,U(r)))}if("input"===T||"textarea"===T||"select"===T){const t=e.value,r=e.checked;"radio"!==_.type&&"checkbox"!==_.type&&"submit"!==_.type&&"button"!==_.type&&t?_.value=h({element:e,type:E(e),tagName:T,value:t,maskInputOptions:a,maskInputFn:u}):r&&(_.checked=r)}if("option"===T&&(e.selected&&!a.select?_.selected=!0:delete _.selected),"canvas"===T&&p)if("2d"===e.__context)v(e)||(_.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const t=e.toDataURL(l.type,l.quality),n=r.createElement("canvas");n.width=e.width,n.height=e.height,t!==n.toDataURL(l.type,l.quality)&&(_.rr_dataURL=t)}if("img"===T&&d){C||(C=r.createElement("canvas"),N=C.getContext("2d"));const t=e,n=t.currentSrc||t.getAttribute("src")||"<unknown-src>",o=t.crossOrigin,i=()=>{t.removeEventListener("load",i);try{C.width=t.naturalWidth,C.height=t.naturalHeight,N.drawImage(t,0,0),_.rr_dataURL=C.toDataURL(l.type,l.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i));console.warn(`Cannot inline img src=${n}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(o?_.crossOrigin=o:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}if("audio"===T||"video"===T){const t=_;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}if(g||(e.scrollLeft&&(_.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(_.rr_scrollTop=e.scrollTop)),S){const{width:t,height:r}=e.getBoundingClientRect();_={class:_.class,rr_width:`${t}px`,rr_height:`${r}px`}}let R;"iframe"!==T||f(_.src)||(e.contentDocument||(_.rr_src=_.src),delete _.src);try{customElements.get(T)&&(R=!0)}catch(O){}return{type:o.Element,tagName:T,attributes:_,childNodes:[],isSVG:P(e)||void 0,needBlock:S,rootId:y,isCustom:R}}(e,{doc:r,blockClass:i,blockSelector:s,inlineStylesheet:u,maskInputOptions:l,maskInputFn:p,dataURLOptions:f,inlineImages:g,recordCanvas:y,keepIframeSrcFn:S,newlyAddedElement:T,rootId:_});case e.TEXT_NODE:return function(e,t){var r;const{needsMask:n,maskTextFn:i,rootId:s}=t,a=e.parentNode&&e.parentNode.tagName;let u=e.textContent;const l="STYLE"===a||void 0,d="SCRIPT"===a||void 0;if(l&&u){try{e.nextSibling||e.previousSibling||(null==(r=e.parentNode.sheet)?void 0:r.cssRules)&&(u=c(e.parentNode.sheet))}catch(p){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${p}`,e)}u=M(u,U(t.doc))}return d&&(u="SCRIPT_PLACEHOLDER"),!l&&!d&&u&&n&&(u=i?i(u,e.parentElement):u.replace(/[\S]/g,"*")),{type:o.Text,textContent:u||"",isStyle:l,rootId:s}}(e,{doc:r,needsMask:a,maskTextFn:d,rootId:_});case e.CDATA_SECTION_NODE:return{type:o.CDATA,textContent:"",rootId:_};case e.COMMENT_NODE:return{type:o.Comment,textContent:e.textContent||"",rootId:_};default:return!1}}function V(e){return null==e?"":e.toLowerCase()}function H(e,t){const{doc:r,mirror:n,blockClass:u,blockSelector:c,maskTextClass:l,maskTextSelector:d,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y={},inlineImages:E=!1,recordCanvas:T=!1,onSerialize:b,onIframeLoad:C,iframeLoadTimeout:N=5e3,onStylesheetLoad:R,stylesheetLoadTimeout:O=5e3,keepIframeSrcFn:A=(()=>!1),newlyAddedElement:w=!1}=t;let{needsMask:M}=t,{preserveWhiteSpace:x=!0}=t;!M&&e.childNodes&&(M=G(e,l,d,void 0===M));const L=W(e,{doc:r,mirror:n,blockClass:u,blockSelector:c,needsMask:M,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,dataURLOptions:y,inlineImages:E,recordCanvas:T,keepIframeSrcFn:A,newlyAddedElement:w});if(!L)return console.warn(e,"not serialized"),null;let k;k=n.hasNode(e)?n.getId(e):!function(e,t){if(t.comment&&e.type===o.Comment)return!0;if(e.type===o.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===S(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(V(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===V(e.attributes.name)||"icon"===V(e.attributes.rel)||"apple-touch-icon"===V(e.attributes.rel)||"shortcut icon"===V(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&V(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(V(e.attributes.property).match(/^(og|twitter|fb):/)||V(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===V(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===V(e.attributes.name)||"googlebot"===V(e.attributes.name)||"bingbot"===V(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===V(e.attributes.name)||"generator"===V(e.attributes.name)||"framework"===V(e.attributes.name)||"publisher"===V(e.attributes.name)||"progid"===V(e.attributes.name)||V(e.attributes.property).match(/^article:/)||V(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===V(e.attributes.name)||"yandex-verification"===V(e.attributes.name)||"csrf-token"===V(e.attributes.name)||"p:domain_verify"===V(e.attributes.name)||"verify-v1"===V(e.attributes.name)||"verification"===V(e.attributes.name)||"shopify-checkout-api-token"===V(e.attributes.name)))return!0}}return!1}(L,v)&&(x||L.type!==o.Text||L.isStyle||L.textContent.replace(/^\s+|\s+$/gm,"").length)?I():_;const D=Object.assign(L,{id:k});if(n.add(e,D),k===_)return null;b&&b(e);let P=!p;if(D.type===o.Element){P=P&&!D.needBlock,delete D.needBlock;const t=e.shadowRoot;t&&a(t)&&(D.isShadowHost=!0)}if((D.type===o.Document||D.type===o.Element)&&P){v.headWhitespace&&D.type===o.Element&&"head"===D.tagName&&(x=!1);const t={doc:r,mirror:n,blockClass:u,blockSelector:c,needsMask:M,maskTextClass:l,maskTextSelector:d,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y,inlineImages:E,recordCanvas:T,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:C,iframeLoadTimeout:N,onStylesheetLoad:R,stylesheetLoadTimeout:O,keepIframeSrcFn:A};if(D.type===o.Element&&"textarea"===D.tagName&&void 0!==D.attributes.value);else for(const r of Array.from(e.childNodes)){const e=H(r,t);e&&D.childNodes.push(e)}if(i(e)&&e.shadowRoot)for(const r of Array.from(e.shadowRoot.childNodes)){const n=H(r,t);n&&(a(e.shadowRoot)&&(n.isShadow=!0),D.childNodes.push(n))}}return e.parentNode&&s(e.parentNode)&&a(e.parentNode)&&(D.isShadow=!0),D.type===o.Element&&"iframe"===D.tagName&&function(e,t,r){const n=e.contentWindow;if(!n)return;let o,i=!1;try{o=n.document.readyState}catch(a){return}if("complete"!==o){const n=setTimeout((()=>{i||(t(),i=!0)}),r);return void e.addEventListener("load",(()=>{clearTimeout(n),i=!0,t()}))}const s="about:blank";if(n.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&C){const r=H(t,{doc:t,mirror:n,blockClass:u,blockSelector:c,needsMask:M,maskTextClass:l,maskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y,inlineImages:E,recordCanvas:T,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:C,iframeLoadTimeout:N,onStylesheetLoad:R,stylesheetLoadTimeout:O,keepIframeSrcFn:A});r&&C(e,r)}}),N),D.type===o.Element&&"link"===D.tagName&&"string"==typeof D.attributes.rel&&("stylesheet"===D.attributes.rel||"preload"===D.attributes.rel&&"string"==typeof D.attributes.href&&"css"===S(D.attributes.href))&&function(e,t,r){let n,o=!1;try{n=e.sheet}catch(s){return}if(n)return;const i=setTimeout((()=>{o||(t(),o=!0)}),r);e.addEventListener("load",(()=>{clearTimeout(i),o=!0,t()}))}(e,(()=>{if(R){const t=H(e,{doc:r,mirror:n,blockClass:u,blockSelector:c,needsMask:M,maskTextClass:l,maskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:y,inlineImages:E,recordCanvas:T,preserveWhiteSpace:x,onSerialize:b,onIframeLoad:C,iframeLoadTimeout:N,onStylesheetLoad:R,stylesheetLoadTimeout:O,keepIframeSrcFn:A});t&&R(e,t)}}),O),D}const X=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function Y(e,t={}){let r=1,o=1;function i(e){const t=e.match(/\n/g);t&&(r+=t.length);const n=e.lastIndexOf("\n");o=-1===n?o+e.length:e.length-n}function s(){const e={line:r,column:o};return t=>(t.position=new u(e),m(),t)}const a=class _Position2{constructor(e){n(this,"content"),n(this,"start"),n(this,"end"),n(this,"source"),this.start=e,this.end={line:r,column:o},this.source=t.source,this.content=_Position2.content}};n(a,"content");let u=a;u.content=e;const c=[];function l(n){const i=new Error(`${t.source||""}:${r}:${o}: ${n}`);if(i.reason=n,i.filename=t.source,i.line=r,i.column=o,i.source=e,!t.silent)throw i;c.push(i)}function d(){return h(/^{\s*/)}function p(){return h(/^}/)}function f(){let t;const r=[];for(m(),g(r);e.length&&"}"!==e.charAt(0)&&(t=R()||O());)t&&(r.push(t),g(r));return r}function h(t){const r=t.exec(e);if(!r)return;const n=r[0];return i(n),e=e.slice(n.length),r}function m(){h(/^\s*/)}function g(e=[]){let t;for(;t=v();)t&&e.push(t),t=v();return e}function v(){const t=s();if("/"!==e.charAt(0)||"*"!==e.charAt(1))return;let r=2;for(;""!==e.charAt(r)&&("*"!==e.charAt(r)||"/"!==e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return l("End of comment missing");const n=e.slice(2,r-2);return o+=2,i(n),e=e.slice(r),o+=2,t({type:"comment",comment:n})}const y=new RegExp("^(("+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^{]"].join("|")+")+)");function E(){for(m();"}"==e[0];)l("extra closing bracket"),e=e.slice(1),m();const t=h(y);if(t)return function(e){const t=[];let r="",n=0,o=0,i=null;for(const s of e){const e=r.endsWith("\\");i?i!==s||e||(i=null):"("===s?n++:")"===s?n--:"["===s?o++:"]"===s?o--:"'\"".includes(s)&&(i=s),","===s&&0===n&&0===o?(t.push(r),r=""):r+=s}return r&&t.push(r),t}(t[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(e=>e.replace(/,/g,"\u200c")))).map((e=>e.replace(/\u200C/g,",").trim()))}function S(){const e=s(),t=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!t)return;const r=K(t[0]);if(!h(/^:\s*/))return l("property missing ':'");const n=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),o=e({type:"declaration",property:r.replace(X,""),value:n?K(n[0]).replace(X,""):""});return h(/^[;\s]*/),o}function T(){const e=[];if(!d())return l("missing '{'");let t;for(g(e);t=S();)!1!==t&&(e.push(t),g(e)),t=S();return p()?e:l("missing '}'")}function b(){let e;const t=[],r=s();for(;e=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),h(/^,\s*/);if(t.length)return r({type:"keyframe",values:t,declarations:T()})}const _=N("import"),I=N("charset"),C=N("namespace");function N(e){const t=new RegExp("^@"+e+"\\s*((?:"+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^;]"].join("|")+")+);");return()=>{const r=s(),n=h(t);if(!n)return;const o={type:e};return o[e]=n[1].trim(),r(o)}}function R(){if("@"===e[0])return function(){const e=s();let t=h(/^@([-\w]+)?keyframes\s*/);if(!t)return;const r=t[1];if(t=h(/^([-\w]+)\s*/),!t)return l("@keyframes missing name");const n=t[1];if(!d())return l("@keyframes missing '{'");let o,i=g();for(;o=b();)i.push(o),i=i.concat(g());return p()?e({type:"keyframes",name:n,vendor:r,keyframes:i}):l("@keyframes missing '}'")}()||function(){const e=s(),t=h(/^@media *([^{]+)/);if(!t)return;const r=K(t[1]);if(!d())return l("@media missing '{'");const n=g().concat(f());return p()?e({type:"media",media:r,rules:n}):l("@media missing '}'")}()||function(){const e=s(),t=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:K(t[1]),media:K(t[2])})}()||function(){const e=s(),t=h(/^@supports *([^{]+)/);if(!t)return;const r=K(t[1]);if(!d())return l("@supports missing '{'");const n=g().concat(f());return p()?e({type:"supports",supports:r,rules:n}):l("@supports missing '}'")}()||_()||I()||C()||function(){const e=s(),t=h(/^@([-\w]+)?document *([^{]+)/);if(!t)return;const r=K(t[1]),n=K(t[2]);if(!d())return l("@document missing '{'");const o=g().concat(f());return p()?e({type:"document",document:n,vendor:r,rules:o}):l("@document missing '}'")}()||function(){const e=s();if(!h(/^@page */))return;const t=E()||[];if(!d())return l("@page missing '{'");let r,n=g();for(;r=S();)n.push(r),n=n.concat(g());return p()?e({type:"page",selectors:t,declarations:n}):l("@page missing '}'")}()||function(){const e=s();if(!h(/^@host\s*/))return;if(!d())return l("@host missing '{'");const t=g().concat(f());return p()?e({type:"host",rules:t}):l("@host missing '}'")}()||function(){const e=s();if(!h(/^@font-face\s*/))return;if(!d())return l("@font-face missing '{'");let t,r=g();for(;t=S();)r.push(t),r=r.concat(g());return p()?e({type:"font-face",declarations:r}):l("@font-face missing '}'")}()}function O(){const e=s(),t=E();return t?(g(),e({type:"rule",selectors:t,declarations:T()})):l("selector missing")}return z(function(){const e=f();return{type:"stylesheet",stylesheet:{source:t.source,rules:e,parsingErrors:c}}}())}function K(e){return e?e.replace(/^\s+|\s+$/g,""):""}function z(e,t){const r=e&&"string"==typeof e.type,n=r?e:t;for(const o of Object.keys(e)){const t=e[o];Array.isArray(t)?t.forEach((e=>{z(e,n)})):t&&"object"==typeof t&&z(t,n)}return r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}const Z={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function J(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const q=/(max|min)-device-(width|height)/,$=new RegExp(q.source,"g"),Q=/([^\\]):hover/,ee=new RegExp(Q.source,"g");function te(e,t){const r=null==t?void 0:t.stylesWithHoverClass.get(e);if(r)return r;const n=Y(e,{silent:!0});if(!n.stylesheet)return e;const o=[],i=[];!function e(t){"selectors"in t&&t.selectors&&t.selectors.forEach((e=>{Q.test(e)&&o.push(e)})),"media"in t&&t.media&&q.test(t.media)&&i.push(t.media),"rules"in t&&t.rules&&t.rules.forEach(e)}(n.stylesheet);let s=e;if(o.length>0){const e=new RegExp(o.filter(((e,t)=>o.indexOf(e)===t)).sort(((e,t)=>t.length-e.length)).map((e=>J(e))).join("|"),"g");s=s.replace(e,(e=>{const t=e.replace(ee,"$1.\\:hover");return`${e}, ${t}`}))}if(i.length>0){const e=new RegExp(i.filter(((e,t)=>i.indexOf(e)===t)).sort(((e,t)=>t.length-e.length)).map((e=>J(e))).join("|"),"g");s=s.replace(e,(e=>e.replace($,"$1-$2")))}return null==t||t.stylesWithHoverClass.set(e,s),s}function re(e,t){var r;const{doc:n,hackCss:i,cache:s}=t;switch(e.type){case o.Document:return n.implementation.createDocument(null,"",null);case o.DocumentType:return n.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case o.Element:{const t=function(e){let t=Z[e.tagName]?Z[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(e);let o;e.isSVG?o=n.createElementNS("http://www.w3.org/2000/svg",t):(e.isCustom&&(null==(r=n.defaultView)?void 0:r.customElements)&&!n.defaultView.customElements.get(e.tagName)&&n.defaultView.customElements.define(e.tagName,class extends n.defaultView.HTMLElement{}),o=n.createElement(t));const u={};for(const r in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,r))continue;let c=e.attributes[r];if("option"===t&&"selected"===r&&!1===c)continue;if(null===c)continue;if(!0===c&&(c=""),r.startsWith("rr_")){u[r]=c;continue}const l="textarea"===t&&"value"===r,d="style"===t&&"_cssText"===r;if(d&&i&&"string"==typeof c&&(c=te(c,s)),!l&&!d||"string"!=typeof c)try{if(e.isSVG&&"xlink:href"===r)o.setAttributeNS("http://www.w3.org/1999/xlink",r,c.toString());else if("onload"===r||"onclick"===r||"onmouse"===r.substring(0,7))o.setAttribute("_"+r,c.toString());else{if("meta"===t&&"Content-Security-Policy"===e.attributes["http-equiv"]&&"content"===r){o.setAttribute("csp-content",c.toString());continue}("link"!==t||"preload"!==e.attributes.rel&&"modulepreload"!==e.attributes.rel||"script"!==e.attributes.as)&&("link"===t&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")||("img"===t&&e.attributes.srcset&&e.attributes.rr_dataURL?o.setAttribute("rrweb-original-srcset",e.attributes.srcset):o.setAttribute(r,c.toString())))}}catch(a){}else o.appendChild(n.createTextNode(c)),e.childNodes=[]}for(const r in u){const i=u[r];if("canvas"===t&&"rr_dataURL"===r){const e=n.createElement("img");e.onload=()=>{const t=o.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=i.toString(),o.RRNodeType&&(o.rr_dataURL=i.toString())}else if("img"===t&&"rr_dataURL"===r){const t=o;t.currentSrc.startsWith("data:")||(t.setAttribute("rrweb-original-src",e.attributes.src),t.src=i.toString())}if("rr_width"===r)o.style.width=i.toString();else if("rr_height"===r)o.style.height=i.toString();else if("rr_mediaCurrentTime"===r&&"number"==typeof i)o.currentTime=i;else if("rr_mediaState"===r)switch(i){case"played":o.play().catch((e=>console.warn("media playback error",e)));break;case"paused":o.pause()}else"rr_mediaPlaybackRate"===r&&"number"==typeof i?o.playbackRate=i:"rr_mediaMuted"===r&&"boolean"==typeof i?o.muted=i:"rr_mediaLoop"===r&&"boolean"==typeof i?o.loop=i:"rr_mediaVolume"===r&&"number"==typeof i&&(o.volume=i)}if(e.isShadowHost)if(o.shadowRoot)for(;o.shadowRoot.firstChild;)o.shadowRoot.removeChild(o.shadowRoot.firstChild);else o.attachShadow({mode:"open"});return o}case o.Text:return n.createTextNode(e.isStyle&&i?te(e.textContent,s):e.textContent);case o.CDATA:return n.createCDATASection(e.textContent);case o.Comment:return n.createComment(e.textContent);default:return null}}function ne(e,t){const{doc:r,mirror:n,skipChild:s=!1,hackCss:a=!0,afterAppend:u,cache:c}=t;if(n.has(e.id)){const t=n.getNode(e.id);if(y(n.getMeta(t),e))return n.getNode(e.id)}let l=re(e,{doc:r,hackCss:a,cache:c});if(!l)return null;if(e.rootId&&n.getNode(e.rootId)!==r&&n.replace(e.rootId,r),e.type===o.Document&&(r.close(),r.open(),"BackCompat"===e.compatMode&&e.childNodes&&e.childNodes[0].type!==o.DocumentType&&(e.childNodes[0].type===o.Element&&"xmlns"in e.childNodes[0].attributes&&"http://www.w3.org/1999/xhtml"===e.childNodes[0].attributes.xmlns?r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),l=r),n.add(l,e),(e.type===o.Document||e.type===o.Element)&&!s)for(const d of e.childNodes){const t=ne(d,{doc:r,mirror:n,skipChild:!1,hackCss:a,afterAppend:u,cache:c});if(t){if(d.isShadow&&i(l)&&l.shadowRoot)l.shadowRoot.appendChild(t);else if(e.type===o.Document&&d.type==o.Element){const e=t;let r=null;e.childNodes.forEach((e=>{"BODY"===e.nodeName&&(r=e)})),r?(e.removeChild(r),l.appendChild(t),e.appendChild(r)):l.appendChild(t)}else l.appendChild(t);u&&u(t,d.id)}else console.warn("Failed to rebuild",d)}return l}return e.IGNORED_NODE=_,e.Mirror=Mirror,e.NodeType=o,e.adaptCssForReplay=te,e.buildNodeWithSN=ne,e.classMatchesRegex=j,e.cleanupSnapshot=function(){T=1},e.createCache=function(){return{stylesWithHoverClass:new Map}},e.createMirror=function(){return new Mirror},e.escapeImportStatement=u,e.extractFileExtension=S,e.fixSafariColons=d,e.genId=I,e.getInputType=E,e.ignoreAttribute=B,e.is2DCanvasBlank=v,e.isCSSImportRule=p,e.isCSSStyleRule=f,e.isElement=i,e.isNativeShadowDom=a,e.isNodeMetaEqual=y,e.isShadowRoot=s,e.maskInputValue=h,e.needMaskingText=G,e.rebuild=function(e,t){const{doc:r,onVisit:n,hackCss:i=!0,afterAppend:s,cache:a,mirror:u=new Mirror}=t,c=ne(e,{doc:r,mirror:u,skipChild:!1,hackCss:i,afterAppend:s,cache:a});return function(e,t){for(const n of e.getIds())e.has(n)&&(r=e.getNode(n),t(r));var r}(u,(e=>{n&&n(e),function(e,t){const r=t.getMeta(e);if((null==r?void 0:r.type)!==o.Element)return;const n=e;for(const o in r.attributes){if(!Object.prototype.hasOwnProperty.call(r.attributes,o)||!o.startsWith("rr_"))continue;const e=r.attributes[o];"rr_scrollLeft"===o&&(n.scrollLeft=e),"rr_scrollTop"===o&&(n.scrollTop=e)}}(e,u)})),c},e.serializeNodeWithId=H,e.snapshot=function(e,t){const{mirror:r=new Mirror,blockClass:n="rr-block",blockSelector:o=null,maskTextClass:i="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:u=!1,recordCanvas:c=!1,maskAllInputs:l=!1,maskTextFn:d,maskInputFn:p,slimDOM:f=!1,dataURLOptions:h,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:E,stylesheetLoadTimeout:S,keepIframeSrcFn:T=(()=>!1)}=t||{};return H(e,{doc:e,mirror:r,blockClass:n,blockSelector:o,maskTextClass:i,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===l?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===l?{password:!0}:l,maskTextFn:d,maskInputFn:p,slimDOMOptions:!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===f,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===f?{}:f,dataURLOptions:h,inlineImages:u,recordCanvas:c,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:E,stylesheetLoadTimeout:S,keepIframeSrcFn:T,newlyAddedElement:!1})},e.stringifyRule=l,e.stringifyStylesheet=c,e.toLowerCase=m,e.transformAttribute=F,e.visitSnapshot=function(e,t){!function e(r){t(r),r.type!==o.Document&&r.type!==o.Element||r.childNodes.forEach(e)}(e)},"object"==typeof t.exports&&"object"==typeof e&&(t.exports=((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of Object.getOwnPropertyNames(t))Object.prototype.hasOwnProperty.call(e,o)||o===r||Object.defineProperty(e,o,{get:()=>t[o],enumerable:!(n=Object.getOwnPropertyDescriptor(t,o))||n.enumerable});return e})(t.exports,e)),t.exports},e.exports=t()},4625:(e,t)=>{"use strict";var r,n=Object.defineProperty,o=(e,t,r)=>(((e,t,r)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});var i=Object.defineProperty,s=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),a=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(a||{});function u(e){return e.nodeType===e.ELEMENT_NODE}function c(e){const t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function l(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function d(e){try{const r=e.rules||e.cssRules;return r?((t=Array.from(r,p).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(r){return null}var t}function p(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=d(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(r){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}class Mirror{constructor(){s(this,"idNodeMap",new Map),s(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function f(){return new Mirror}function h({element:e,maskInputOptions:t,tagName:r,type:n,value:o,maskInputFn:i}){let s=o||"";const a=n&&m(n);return(t[r.toLowerCase()]||a&&t[a])&&(s=i?i(s,e):"*".repeat(s.length)),s}function m(e){return e.toLowerCase()}const g="__rrweb_original__";function v(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?m(t):null}function y(e,t){let r;try{r=new URL(e,t??window.location.href)}catch(o){return null}const n=r.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(null==n?void 0:n[1])??null}let E=1;const S=new RegExp("[^a-z0-9-_:]"),T=-2;function b(){return E++}let _,I;const C=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,N=/^(?:[a-z+]+:)?\/\//i,R=/^www\..*/i,O=/^(data:)([^,]*),(.*)/i;function A(e,t){return(e||"").replace(C,((e,r,n,o,i,s)=>{const a=n||i||s,u=r||o||"";if(!a)return e;if(N.test(a)||R.test(a))return`url(${u}${a}${u})`;if(O.test(a))return`url(${u}${a}${u})`;if("/"===a[0])return`url(${u}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${u})`;const c=t.split("/"),l=a.split("/");c.pop();for(const t of l)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${u}${c.join("/")}${u})`}))}const w=/^[^ \t\n\r\u000c]+/,M=/^[, \t\n\r\u000c]+/;const x=new WeakMap;function L(e,t){return t&&""!==t.trim()?D(e,t):t}function k(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function D(e,t){let r=x.get(e);if(r||(r=e.createElement("a"),x.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function P(e,t,r,n){return n?"src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?L(e,n):"background"!==r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r?function(e,t){if(""===t.trim())return t;let r=0;function n(e){let n;const o=e.exec(t.substring(r));return o?(n=o[0],r+=n.length,n):""}const o=[];for(;n(M),!(r>=t.length);){let i=n(w);if(","===i.slice(-1))i=L(e,i.substring(0,i.length-1)),o.push(i);else{let n="";i=L(e,i);let s=!1;for(;;){const e=t.charAt(r);if(""===e){o.push((i+n).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){r+=1,o.push((i+n).trim());break}"("===e&&(s=!0)}n+=e,r+=1}}}return o.join(", ")}(e,n):"style"===r?A(n,D(e)):"object"===t&&"data"===r?L(e,n):n:L(e,n):n}function U(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function F(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&F(e.parentNode,t,r);for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!!r&&F(e.parentNode,t,r)}function B(e,t,r,n){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("string"==typeof t){if(n){if(o.closest(`.${t}`))return!0}else if(o.classList.contains(t))return!0}else if(F(o,t,n))return!0;if(r)if(n){if(o.closest(r))return!0}else if(o.matches(r))return!0}catch(o){}return!1}function j(e,t){const{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:s,inlineStylesheet:u,maskInputOptions:c={},maskTextFn:l,maskInputFn:p,dataURLOptions:f={},inlineImages:y,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:b=!1}=t,C=function(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:a.Document,childNodes:[],compatMode:e.compatMode}:{type:a.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:a.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:C};case e.ELEMENT_NODE:return function(e,t){const{doc:r,blockClass:n,blockSelector:o,inlineStylesheet:i,maskInputOptions:s={},maskInputFn:u,dataURLOptions:c={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:y=!1,rootId:E}=t,T=function(e,t,r){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}if(r)return e.matches(r)}catch(n){}return!1}(e,n,o),b=function(e){if(e instanceof HTMLFormElement)return"form";const t=m(e.tagName);return S.test(t)?"div":t}(e);let C={};const N=e.attributes.length;for(let a=0;a<N;a++){const t=e.attributes[a];U(b,t.name,t.value)||(C[t.name]=P(r,b,m(t.name),t.value))}if("link"===b&&i){const t=Array.from(r.styleSheets).find((t=>t.href===e.href));let n=null;t&&(n=d(t)),n&&(delete C.rel,delete C.href,C._cssText=A(n,t.href))}if("style"===b&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=d(e.sheet);t&&(C._cssText=A(t,D(r)))}if("input"===b||"textarea"===b||"select"===b){const t=e.value,r=e.checked;"radio"!==C.type&&"checkbox"!==C.type&&"submit"!==C.type&&"button"!==C.type&&t?C.value=h({element:e,type:v(e),tagName:b,value:t,maskInputOptions:s,maskInputFn:u}):r&&(C.checked=r)}"option"===b&&(e.selected&&!s.select?C.selected=!0:delete C.selected);if("canvas"===b&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let r=0;r<e.width;r+=50)for(let n=0;n<e.height;n+=50){const o=t.getImageData,i=g in o?o[g]:o;if(new Uint32Array(i.call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(C.rr_dataURL=e.toDataURL(c.type,c.quality));else if(!("__context"in e)){const t=e.toDataURL(c.type,c.quality),n=r.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(c.type,c.quality)&&(C.rr_dataURL=t)}if("img"===b&&l){_||(_=r.createElement("canvas"),I=_.getContext("2d"));const t=e,n=t.currentSrc||t.getAttribute("src")||"<unknown-src>",o=t.crossOrigin,i=()=>{t.removeEventListener("load",i);try{_.width=t.naturalWidth,_.height=t.naturalHeight,I.drawImage(t,0,0),C.rr_dataURL=_.toDataURL(c.type,c.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i));console.warn(`Cannot inline img src=${n}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(o?C.crossOrigin=o:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}if("audio"===b||"video"===b){const t=C;t.rr_mediaState=e.paused?"paused":"played",t.rr_mediaCurrentTime=e.currentTime,t.rr_mediaPlaybackRate=e.playbackRate,t.rr_mediaMuted=e.muted,t.rr_mediaLoop=e.loop,t.rr_mediaVolume=e.volume}y||(e.scrollLeft&&(C.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(C.rr_scrollTop=e.scrollTop));if(T){const{width:t,height:r}=e.getBoundingClientRect();C={class:C.class,rr_width:`${t}px`,rr_height:`${r}px`}}"iframe"!==b||f(C.src)||(e.contentDocument||(C.rr_src=C.src),delete C.src);let R;try{customElements.get(b)&&(R=!0)}catch(O){}return{type:a.Element,tagName:b,attributes:C,childNodes:[],isSVG:k(e)||void 0,needBlock:T,rootId:E,isCustom:R}}(e,{doc:r,blockClass:o,blockSelector:i,inlineStylesheet:u,maskInputOptions:c,maskInputFn:p,dataURLOptions:f,inlineImages:y,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:b,rootId:C});case e.TEXT_NODE:return function(e,t){var r;const{needsMask:n,maskTextFn:o,rootId:i}=t,s=e.parentNode&&e.parentNode.tagName;let u=e.textContent;const c="STYLE"===s||void 0,l="SCRIPT"===s||void 0;if(c&&u){try{e.nextSibling||e.previousSibling||(null==(r=e.parentNode.sheet)?void 0:r.cssRules)&&(u=d(e.parentNode.sheet))}catch(p){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${p}`,e)}u=A(u,D(t.doc))}l&&(u="SCRIPT_PLACEHOLDER");!c&&!l&&u&&n&&(u=o?o(u,e.parentElement):u.replace(/[\S]/g,"*"));return{type:a.Text,textContent:u||"",isStyle:c,rootId:i}}(e,{doc:r,needsMask:s,maskTextFn:l,rootId:C});case e.CDATA_SECTION_NODE:return{type:a.CDATA,textContent:"",rootId:C};case e.COMMENT_NODE:return{type:a.Comment,textContent:e.textContent||"",rootId:C};default:return!1}}function G(e){return null==e?"":e.toLowerCase()}function W(e,t){const{doc:r,mirror:n,blockClass:o,blockSelector:i,maskTextClass:s,maskTextSelector:d,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E={},inlineImages:S=!1,recordCanvas:_=!1,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:N=5e3,onStylesheetLoad:R,stylesheetLoadTimeout:O=5e3,keepIframeSrcFn:A=(()=>!1),newlyAddedElement:w=!1}=t;let{needsMask:M}=t,{preserveWhiteSpace:x=!0}=t;if(!M&&e.childNodes){M=B(e,s,d,void 0===M)}const L=j(e,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:M,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,dataURLOptions:E,inlineImages:S,recordCanvas:_,keepIframeSrcFn:A,newlyAddedElement:w});if(!L)return console.warn(e,"not serialized"),null;let k;k=n.hasNode(e)?n.getId(e):!function(e,t){if(t.comment&&e.type===a.Comment)return!0;if(e.type===a.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===y(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(G(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===G(e.attributes.name)||"icon"===G(e.attributes.rel)||"apple-touch-icon"===G(e.attributes.rel)||"shortcut icon"===G(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&G(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(G(e.attributes.property).match(/^(og|twitter|fb):/)||G(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===G(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===G(e.attributes.name)||"googlebot"===G(e.attributes.name)||"bingbot"===G(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===G(e.attributes.name)||"generator"===G(e.attributes.name)||"framework"===G(e.attributes.name)||"publisher"===G(e.attributes.name)||"progid"===G(e.attributes.name)||G(e.attributes.property).match(/^article:/)||G(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===G(e.attributes.name)||"yandex-verification"===G(e.attributes.name)||"csrf-token"===G(e.attributes.name)||"p:domain_verify"===G(e.attributes.name)||"verify-v1"===G(e.attributes.name)||"verification"===G(e.attributes.name)||"shopify-checkout-api-token"===G(e.attributes.name)))return!0}}return!1}(L,v)&&(x||L.type!==a.Text||L.isStyle||L.textContent.replace(/^\s+|\s+$/gm,"").length)?b():T;const D=Object.assign(L,{id:k});if(n.add(e,D),k===T)return null;I&&I(e);let P=!p;if(D.type===a.Element){P=P&&!D.needBlock,delete D.needBlock;const t=e.shadowRoot;t&&l(t)&&(D.isShadowHost=!0)}if((D.type===a.Document||D.type===a.Element)&&P){v.headWhitespace&&D.type===a.Element&&"head"===D.tagName&&(x=!1);const t={doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:M,maskTextClass:s,maskTextSelector:d,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E,inlineImages:S,recordCanvas:_,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:N,onStylesheetLoad:R,stylesheetLoadTimeout:O,keepIframeSrcFn:A};if(D.type===a.Element&&"textarea"===D.tagName&&void 0!==D.attributes.value);else for(const r of Array.from(e.childNodes)){const e=W(r,t);e&&D.childNodes.push(e)}if(u(e)&&e.shadowRoot)for(const r of Array.from(e.shadowRoot.childNodes)){const n=W(r,t);n&&(l(e.shadowRoot)&&(n.isShadow=!0),D.childNodes.push(n))}}return e.parentNode&&c(e.parentNode)&&l(e.parentNode)&&(D.isShadow=!0),D.type===a.Element&&"iframe"===D.tagName&&function(e,t,r){const n=e.contentWindow;if(!n)return;let o,i=!1;try{o=n.document.readyState}catch(a){return}if("complete"!==o){const n=setTimeout((()=>{i||(t(),i=!0)}),r);return void e.addEventListener("load",(()=>{clearTimeout(n),i=!0,t()}))}const s="about:blank";if(n.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&C){const r=W(t,{doc:t,mirror:n,blockClass:o,blockSelector:i,needsMask:M,maskTextClass:s,maskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E,inlineImages:S,recordCanvas:_,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:N,onStylesheetLoad:R,stylesheetLoadTimeout:O,keepIframeSrcFn:A});r&&C(e,r)}}),N),D.type===a.Element&&"link"===D.tagName&&"string"==typeof D.attributes.rel&&("stylesheet"===D.attributes.rel||"preload"===D.attributes.rel&&"string"==typeof D.attributes.href&&"css"===y(D.attributes.href))&&function(e,t,r){let n,o=!1;try{n=e.sheet}catch(s){return}if(n)return;const i=setTimeout((()=>{o||(t(),o=!0)}),r);e.addEventListener("load",(()=>{clearTimeout(i),o=!0,t()}))}(e,(()=>{if(R){const t=W(e,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:M,maskTextClass:s,maskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskTextFn:m,maskInputFn:g,slimDOMOptions:v,dataURLOptions:E,inlineImages:S,recordCanvas:_,preserveWhiteSpace:x,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:N,onStylesheetLoad:R,stylesheetLoadTimeout:O,keepIframeSrcFn:A});t&&R(e,t)}}),O),D}const V=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function H(e,t={}){let r=1,n=1;function o(e){const t=e.match(/\n/g);t&&(r+=t.length);const o=e.lastIndexOf("\n");n=-1===o?n+e.length:e.length-o}function i(){const e={line:r,column:n};return t=>(t.position=new u(e),m(),t)}const a=class _Position2{constructor(e){s(this,"content"),s(this,"start"),s(this,"end"),s(this,"source"),this.start=e,this.end={line:r,column:n},this.source=t.source,this.content=_Position2.content}};s(a,"content");let u=a;u.content=e;const c=[];function l(o){const i=new Error(`${t.source||""}:${r}:${n}: ${o}`);if(i.reason=o,i.filename=t.source,i.line=r,i.column=n,i.source=e,!t.silent)throw i;c.push(i)}function d(){return h(/^{\s*/)}function p(){return h(/^}/)}function f(){let t;const r=[];for(m(),g(r);e.length&&"}"!==e.charAt(0)&&(t=R()||O());)t&&(r.push(t),g(r));return r}function h(t){const r=t.exec(e);if(!r)return;const n=r[0];return o(n),e=e.slice(n.length),r}function m(){h(/^\s*/)}function g(e=[]){let t;for(;t=v();)t&&e.push(t),t=v();return e}function v(){const t=i();if("/"!==e.charAt(0)||"*"!==e.charAt(1))return;let r=2;for(;""!==e.charAt(r)&&("*"!==e.charAt(r)||"/"!==e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return l("End of comment missing");const s=e.slice(2,r-2);return n+=2,o(s),e=e.slice(r),n+=2,t({type:"comment",comment:s})}const y=new RegExp("^(("+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^{]"].join("|")+")+)");function E(){for(m();"}"==e[0];)l("extra closing bracket"),e=e.slice(1),m();const t=h(y);if(!t)return;return function(e){const t=[];let r="",n=0,o=0,i=null;for(const s of e){const e=r.endsWith("\\");i?i!==s||e||(i=null):"("===s?n++:")"===s?n--:"["===s?o++:"]"===s?o--:"'\"".includes(s)&&(i=s),","===s&&0===n&&0===o?(t.push(r),r=""):r+=s}r&&t.push(r);return t}(t[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(e=>e.replace(/,/g,"\u200c")))).map((e=>e.replace(/\u200C/g,",").trim()))}function S(){const e=i(),t=h(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(!t)return;const r=X(t[0]);if(!h(/^:\s*/))return l("property missing ':'");const n=h(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),o=e({type:"declaration",property:r.replace(V,""),value:n?X(n[0]).replace(V,""):""});return h(/^[;\s]*/),o}function T(){const e=[];if(!d())return l("missing '{'");let t;for(g(e);t=S();)!1!==t&&(e.push(t),g(e)),t=S();return p()?e:l("missing '}'")}function b(){let e;const t=[],r=i();for(;e=h(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),h(/^,\s*/);if(t.length)return r({type:"keyframe",values:t,declarations:T()})}const _=N("import"),I=N("charset"),C=N("namespace");function N(e){const t=new RegExp("^@"+e+"\\s*((?:"+[/[^\\]"(?:\\"|[^"])*"/.source,/[^\\]'(?:\\'|[^'])*'/.source,"[^;]"].join("|")+")+);");return()=>{const r=i(),n=h(t);if(!n)return;const o={type:e};return o[e]=n[1].trim(),r(o)}}function R(){if("@"===e[0])return function(){const e=i();let t=h(/^@([-\w]+)?keyframes\s*/);if(!t)return;const r=t[1];if(t=h(/^([-\w]+)\s*/),!t)return l("@keyframes missing name");const n=t[1];if(!d())return l("@keyframes missing '{'");let o,s=g();for(;o=b();)s.push(o),s=s.concat(g());return p()?e({type:"keyframes",name:n,vendor:r,keyframes:s}):l("@keyframes missing '}'")}()||function(){const e=i(),t=h(/^@media *([^{]+)/);if(!t)return;const r=X(t[1]);if(!d())return l("@media missing '{'");const n=g().concat(f());return p()?e({type:"media",media:r,rules:n}):l("@media missing '}'")}()||function(){const e=i(),t=h(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:X(t[1]),media:X(t[2])})}()||function(){const e=i(),t=h(/^@supports *([^{]+)/);if(!t)return;const r=X(t[1]);if(!d())return l("@supports missing '{'");const n=g().concat(f());return p()?e({type:"supports",supports:r,rules:n}):l("@supports missing '}'")}()||_()||I()||C()||function(){const e=i(),t=h(/^@([-\w]+)?document *([^{]+)/);if(!t)return;const r=X(t[1]),n=X(t[2]);if(!d())return l("@document missing '{'");const o=g().concat(f());return p()?e({type:"document",document:n,vendor:r,rules:o}):l("@document missing '}'")}()||function(){const e=i();if(!h(/^@page */))return;const t=E()||[];if(!d())return l("@page missing '{'");let r,n=g();for(;r=S();)n.push(r),n=n.concat(g());return p()?e({type:"page",selectors:t,declarations:n}):l("@page missing '}'")}()||function(){const e=i();if(!h(/^@host\s*/))return;if(!d())return l("@host missing '{'");const t=g().concat(f());return p()?e({type:"host",rules:t}):l("@host missing '}'")}()||function(){const e=i();if(!h(/^@font-face\s*/))return;if(!d())return l("@font-face missing '{'");let t,r=g();for(;t=S();)r.push(t),r=r.concat(g());return p()?e({type:"font-face",declarations:r}):l("@font-face missing '}'")}()}function O(){const e=i(),t=E();return t?(g(),e({type:"rule",selectors:t,declarations:T()})):l("selector missing")}return Y(function(){const e=f();return{type:"stylesheet",stylesheet:{source:t.source,rules:e,parsingErrors:c}}}())}function X(e){return e?e.replace(/^\s+|\s+$/g,""):""}function Y(e,t){const r=e&&"string"==typeof e.type,n=r?e:t;for(const o of Object.keys(e)){const t=e[o];Array.isArray(t)?t.forEach((e=>{Y(e,n)})):t&&"object"==typeof t&&Y(t,n)}return r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}const K={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function z(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Z=/(max|min)-device-(width|height)/,J=new RegExp(Z.source,"g"),q=/([^\\]):hover/,$=new RegExp(q.source,"g");function Q(e,t){const r=null==t?void 0:t.stylesWithHoverClass.get(e);if(r)return r;const n=H(e,{silent:!0});if(!n.stylesheet)return e;const o=[],i=[];!function e(t){"selectors"in t&&t.selectors&&t.selectors.forEach((e=>{q.test(e)&&o.push(e)})),"media"in t&&t.media&&Z.test(t.media)&&i.push(t.media),"rules"in t&&t.rules&&t.rules.forEach(e)}(n.stylesheet);let s=e;if(o.length>0){const e=new RegExp(o.filter(((e,t)=>o.indexOf(e)===t)).sort(((e,t)=>t.length-e.length)).map((e=>z(e))).join("|"),"g");s=s.replace(e,(e=>{const t=e.replace($,"$1.\\:hover");return`${e}, ${t}`}))}if(i.length>0){const e=new RegExp(i.filter(((e,t)=>i.indexOf(e)===t)).sort(((e,t)=>t.length-e.length)).map((e=>z(e))).join("|"),"g");s=s.replace(e,(e=>e.replace(J,"$1-$2")))}return null==t||t.stylesWithHoverClass.set(e,s),s}function ee(){return{stylesWithHoverClass:new Map}}function te(e,t){var r;const{doc:n,hackCss:o,cache:i}=t;switch(e.type){case a.Document:return n.implementation.createDocument(null,"",null);case a.DocumentType:return n.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case a.Element:{const t=function(e){let t=K[e.tagName]?K[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(e);let a;e.isSVG?a=n.createElementNS("http://www.w3.org/2000/svg",t):(e.isCustom&&(null==(r=n.defaultView)?void 0:r.customElements)&&!n.defaultView.customElements.get(e.tagName)&&n.defaultView.customElements.define(e.tagName,class extends n.defaultView.HTMLElement{}),a=n.createElement(t));const u={};for(const r in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,r))continue;let c=e.attributes[r];if("option"===t&&"selected"===r&&!1===c)continue;if(null===c)continue;if(!0===c&&(c=""),r.startsWith("rr_")){u[r]=c;continue}const l="textarea"===t&&"value"===r,d="style"===t&&"_cssText"===r;if(d&&o&&"string"==typeof c&&(c=Q(c,i)),!l&&!d||"string"!=typeof c)try{if(e.isSVG&&"xlink:href"===r)a.setAttributeNS("http://www.w3.org/1999/xlink",r,c.toString());else if("onload"===r||"onclick"===r||"onmouse"===r.substring(0,7))a.setAttribute("_"+r,c.toString());else{if("meta"===t&&"Content-Security-Policy"===e.attributes["http-equiv"]&&"content"===r){a.setAttribute("csp-content",c.toString());continue}("link"!==t||"preload"!==e.attributes.rel&&"modulepreload"!==e.attributes.rel||"script"!==e.attributes.as)&&("link"===t&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")||("img"===t&&e.attributes.srcset&&e.attributes.rr_dataURL?a.setAttribute("rrweb-original-srcset",e.attributes.srcset):a.setAttribute(r,c.toString())))}}catch(s){}else a.appendChild(n.createTextNode(c)),e.childNodes=[]}for(const r in u){const o=u[r];if("canvas"===t&&"rr_dataURL"===r){const e=n.createElement("img");e.onload=()=>{const t=a.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=o.toString(),a.RRNodeType&&(a.rr_dataURL=o.toString())}else if("img"===t&&"rr_dataURL"===r){const t=a;t.currentSrc.startsWith("data:")||(t.setAttribute("rrweb-original-src",e.attributes.src),t.src=o.toString())}if("rr_width"===r)a.style.width=o.toString();else if("rr_height"===r)a.style.height=o.toString();else if("rr_mediaCurrentTime"===r&&"number"==typeof o)a.currentTime=o;else if("rr_mediaState"===r)switch(o){case"played":a.play().catch((e=>console.warn("media playback error",e)));break;case"paused":a.pause()}else"rr_mediaPlaybackRate"===r&&"number"==typeof o?a.playbackRate=o:"rr_mediaMuted"===r&&"boolean"==typeof o?a.muted=o:"rr_mediaLoop"===r&&"boolean"==typeof o?a.loop=o:"rr_mediaVolume"===r&&"number"==typeof o&&(a.volume=o)}if(e.isShadowHost)if(a.shadowRoot)for(;a.shadowRoot.firstChild;)a.shadowRoot.removeChild(a.shadowRoot.firstChild);else a.attachShadow({mode:"open"});return a}case a.Text:return n.createTextNode(e.isStyle&&o?Q(e.textContent,i):e.textContent);case a.CDATA:return n.createCDATASection(e.textContent);case a.Comment:return n.createComment(e.textContent);default:return null}}function re(e,t){const{doc:r,mirror:n,skipChild:o=!1,hackCss:i=!0,afterAppend:s,cache:c}=t;if(n.has(e.id)){const t=n.getNode(e.id),r=n.getMeta(t);if(d=e,(l=r)&&d&&l.type===d.type&&(l.type===a.Document?l.compatMode===d.compatMode:l.type===a.DocumentType?l.name===d.name&&l.publicId===d.publicId&&l.systemId===d.systemId:l.type===a.Comment||l.type===a.Text||l.type===a.CDATA?l.textContent===d.textContent:l.type===a.Element&&l.tagName===d.tagName&&JSON.stringify(l.attributes)===JSON.stringify(d.attributes)&&l.isSVG===d.isSVG&&l.needBlock===d.needBlock))return n.getNode(e.id)}var l,d;let p=te(e,{doc:r,hackCss:i,cache:c});if(!p)return null;if(e.rootId&&n.getNode(e.rootId)!==r&&n.replace(e.rootId,r),e.type===a.Document&&(r.close(),r.open(),"BackCompat"===e.compatMode&&e.childNodes&&e.childNodes[0].type!==a.DocumentType&&(e.childNodes[0].type===a.Element&&"xmlns"in e.childNodes[0].attributes&&"http://www.w3.org/1999/xhtml"===e.childNodes[0].attributes.xmlns?r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),p=r),n.add(p,e),(e.type===a.Document||e.type===a.Element)&&!o)for(const f of e.childNodes){const t=re(f,{doc:r,mirror:n,skipChild:!1,hackCss:i,afterAppend:s,cache:c});if(t){if(f.isShadow&&u(p)&&p.shadowRoot)p.shadowRoot.appendChild(t);else if(e.type===a.Document&&f.type==a.Element){const e=t;let r=null;e.childNodes.forEach((e=>{"BODY"===e.nodeName&&(r=e)})),r?(e.removeChild(r),p.appendChild(t),e.appendChild(r)):p.appendChild(t)}else p.appendChild(t);s&&s(t,f.id)}else console.warn("Failed to rebuild",f)}return p}function ne(e,t){const{doc:r,onVisit:n,hackCss:o=!0,afterAppend:i,cache:s,mirror:u=new Mirror}=t,c=re(e,{doc:r,mirror:u,skipChild:!1,hackCss:o,afterAppend:i,cache:s});return function(e,t){for(const n of e.getIds())e.has(n)&&(r=e.getNode(n),t(r));var r}(u,(e=>{n&&n(e),function(e,t){const r=t.getMeta(e);if((null==r?void 0:r.type)!==a.Element)return;const n=e;for(const o in r.attributes){if(!Object.prototype.hasOwnProperty.call(r.attributes,o)||!o.startsWith("rr_"))continue;const e=r.attributes[o];"rr_scrollLeft"===o&&(n.scrollLeft=e),"rr_scrollTop"===o&&(n.scrollTop=e)}}(e,u)})),c}function oe(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}const ie="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";function se(e,t,r={}){let n=null,o=0;return function(...i){const s=Date.now();o||!1!==r.leading||(o=s);const a=t-(s-o),u=this;a<=0||a>t?(n&&(clearTimeout(n),n=null),o=s,e.apply(u,i)):n||!1===r.trailing||(n=setTimeout((()=>{o=!1===r.leading?0:Date.now(),n=null,e.apply(u,i)}),a))}}function ae(e,t,r,n,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set(e){setTimeout((()=>{r.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>ae(e,t,i||{},!0)}function ue(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,()=>{e[t]=n}}catch{return()=>{}}}t.mirror={map:{},getId:()=>(console.error(ie),-1),getNode:()=>(console.error(ie),null),removeNodeFromMap(){console.error(ie)},has:()=>(console.error(ie),!1),reset(){console.error(ie)}},"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(t.mirror=new Proxy(t.mirror,{get:(e,t,r)=>("map"===t&&console.error(ie),Reflect.get(e,t,r))}));let ce=Date.now;function le(e){var t,r,n,o,i,s;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null==a?void 0:a.documentElement.scrollLeft)||(null==(r=null==(t=null==a?void 0:a.body)?void 0:t.parentElement)?void 0:r.scrollLeft)||(null==(n=null==a?void 0:a.body)?void 0:n.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==a?void 0:a.documentElement.scrollTop)||(null==(i=null==(o=null==a?void 0:a.body)?void 0:o.parentElement)?void 0:i.scrollTop)||(null==(s=null==a?void 0:a.body)?void 0:s.scrollTop)||0}}function de(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function pe(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function fe(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function he(e,t,r,n){if(!e)return!1;const o=fe(e);if(!o)return!1;try{if("string"==typeof t){if(o.classList.contains(t))return!0;if(n&&null!==o.closest("."+t))return!0}else if(F(o,t,n))return!0}catch(i){}if(r){if(o.matches(r))return!0;if(n&&null!==o.closest(r))return!0}return!1}function me(e,t){return-1!==t.getId(e)}function ge(e,t,r){return!("TITLE"!==e.tagName||!r.headTitleMutations)||t.getId(e)===T}function ve(e,t){if(c(e))return!1;const r=t.getId(e);return!t.has(r)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||ve(e.parentNode,t))}function ye(e){return Boolean(e.changedTouches)}function Ee(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}function Se(e){const t={},r=(e,r)=>{const n={value:e,parent:r,children:[]};return t[e.node.id]=n,n},n=[];for(const o of e){const{nextId:e,parentId:i}=o;if(e&&e in t){const i=t[e];if(i.parent){const e=i.parent.children.indexOf(i);i.parent.children.splice(e,0,r(o,i.parent))}else{const e=n.indexOf(i);n.splice(e,0,r(o,null))}}else if(i in t){const e=t[i];e.children.push(r(o,e))}else n.push(r(o,null))}return n}function Te(e,t){t(e.value);for(let r=e.children.length-1;r>=0;r--)Te(e.children[r],t)}function be(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function _e(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Ie(e,t){var r,n;const o=null==(n=null==(r=e.ownerDocument)?void 0:r.defaultView)?void 0:n.frameElement;if(!o||o===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};const i=o.getBoundingClientRect(),s=Ie(o,t),a=i.height/o.clientHeight;return{x:i.x*s.relativeScale+s.x,y:i.y*s.relativeScale+s.y,relativeScale:a,absoluteScale:s.absoluteScale*a}}function Ce(e){return Boolean(null==e?void 0:e.shadowRoot)}function Ne(e,t){const r=e[t[0]];return 1===t.length?r:Ne(r.cssRules[t[1]].cssRules,t.slice(2))}function Re(e){const t=[...e],r=t.pop();return{positions:t,index:r}}function Oe(e){const t=new Set,r=[];for(let n=e.length;n--;){const o=e[n];t.has(o.id)||(r.push(o),t.add(o.id))}return r}/[1-9][0-9]{12}/.test(Date.now().toString())||(ce=()=>(new Date).getTime());class StyleSheetMirror{constructor(){o(this,"id",1),o(this,"styleIDMap",new WeakMap),o(this,"idStyleMap",new Map)}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ae(e){var t,r;let n=null;return(null==(r=null==(t=e.getRootNode)?void 0:t.call(e))?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(n=e.getRootNode().host),n}function we(e){let t,r=e;for(;t=Ae(r);)r=t;return r}function Me(e){const t=e.ownerDocument;if(!t)return!1;const r=we(e);return t.contains(r)}function xe(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Me(e))}const Le=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror,get _mirror(){return t.mirror},closestElementOfNode:fe,getBaseDimension:Ie,getNestedRule:Ne,getPositionsAndIndex:Re,getRootShadowHost:we,getShadowHost:Ae,getWindowHeight:de,getWindowScroll:le,getWindowWidth:pe,hasShadowRoot:Ce,hookSetter:ae,inDom:xe,isAncestorRemoved:ve,isBlocked:he,isIgnored:ge,isSerialized:me,isSerializedIframe:be,isSerializedStylesheet:_e,iterateResolveTree:Te,legacy_isTouchEvent:ye,get nowTimestamp(){return ce},on:oe,patch:ue,polyfill:Ee,queueToResolveTrees:Se,shadowHostInDom:Me,throttle:se,uniqueTextMutations:Oe},Symbol.toStringTag,{value:"Module"}));var ke=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ke||{}),De=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(De||{}),Pe=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Pe||{}),Ue=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ue||{}),Fe=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Fe||{}),Be=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Be||{}),je=(e=>(e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy",e))(je||{});function Ge(e){return"__ln"in e}class DoubleLinkedList{constructor(){o(this,"length",0),o(this,"head",null),o(this,"tail",null)}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let r=0;r<e;r++)t=(null==t?void 0:t.next)||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Ge(e.previousSibling)){const r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&Ge(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const We=(e,t)=>`${e}@${t}`;class MutationBuffer{constructor(){o(this,"frozen",!1),o(this,"locked",!1),o(this,"texts",[]),o(this,"attributes",[]),o(this,"attributeMap",new WeakMap),o(this,"removes",[]),o(this,"mapRemoves",[]),o(this,"movedMap",{}),o(this,"addedSet",new Set),o(this,"movedSet",new Set),o(this,"droppedSet",new Set),o(this,"mutationCb"),o(this,"blockClass"),o(this,"blockSelector"),o(this,"maskTextClass"),o(this,"maskTextSelector"),o(this,"inlineStylesheet"),o(this,"maskInputOptions"),o(this,"maskTextFn"),o(this,"maskInputFn"),o(this,"keepIframeSrcFn"),o(this,"recordCanvas"),o(this,"inlineImages"),o(this,"slimDOMOptions"),o(this,"dataURLOptions"),o(this,"doc"),o(this,"mirror"),o(this,"iframeManager"),o(this,"stylesheetManager"),o(this,"shadowDomManager"),o(this,"canvasManager"),o(this,"processedNodeManager"),o(this,"unattachedDoc"),o(this,"processMutations",(e=>{e.forEach(this.processMutation),this.emit()})),o(this,"emit",(()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,r=new DoubleLinkedList,n=e=>{let t=e,r=T;for(;r===T;)t=t&&t.nextSibling,r=t&&this.mirror.getId(t);return r},o=o=>{if(!o.parentNode||!xe(o)||"TEXTAREA"===o.parentNode.tagName)return;const i=c(o.parentNode)?this.mirror.getId(Ae(o)):this.mirror.getId(o.parentNode),s=n(o);if(-1===i||-1===s)return r.addNode(o);const a=W(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{be(e,this.mirror)&&this.iframeManager.addIframe(e),_e(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Ce(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:i,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)He(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(const a of this.addedSet)Xe(this.droppedSet,a)||He(this.removes,a,this.mirror)?Xe(this.movedSet,a)?o(a):this.droppedSet.add(a):o(a);let i=null;for(;r.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),r=n(i.value);-1!==t&&-1!==r&&(e=i)}if(!e){let t=r.tail;for(;t;){const r=t;if(t=t.previous,r){const t=this.mirror.getId(r.value.parentNode);if(-1===n(r.value))continue;if(-1!==t){e=r;break}{const t=r.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const n=t.parentNode.host;if(-1!==this.mirror.getId(n)){e=r;break}}}}}}if(!e){for(;r.head;)r.removeNode(r.head.value);break}i=e.previous,r.removeNode(e.value),o(e.value)}const s={texts:this.texts.map((e=>{const t=e.node;return t.parentNode&&"TEXTAREA"===t.parentNode.tagName&&this.genTextAreaValueMutation(t.parentNode),{id:this.mirror.getId(t),value:e.value}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const r=JSON.stringify(e.styleDiff),n=JSON.stringify(e._unchangedStyles);r.length<t.style.length&&(r+n).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))})),o(this,"genTextAreaValueMutation",(e=>{let t=this.attributeMap.get(e);t||(t={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(t),this.attributeMap.set(e,t)),t.attributes.value=Array.from(e.childNodes,(e=>e.textContent||"")).join("")})),o(this,"processMutation",(e=>{if(!ge(e.target,this.mirror,this.slimDOMOptions))switch(e.type){case"characterData":{const t=e.target.textContent;he(e.target,this.blockClass,this.blockSelector,!1)||t===e.oldValue||this.texts.push({value:B(e.target,this.maskTextClass,this.maskTextSelector,!0)&&t?this.maskTextFn?this.maskTextFn(t,fe(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const r=e.target;let n=e.attributeName,o=e.target.getAttribute(n);if("value"===n){const e=v(r);o=h({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:e,value:o,maskInputFn:this.maskInputFn})}if(he(e.target,this.blockClass,this.blockSelector,!1)||o===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===r.tagName&&"src"===n&&!this.keepIframeSrcFn(o)){if(r.contentDocument)return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===r.tagName&&"password"===(e.oldValue||"").toLowerCase()&&r.setAttribute("data-rr-is-password","true"),!U(r.tagName,n)&&(i.attributes[n]=P(this.doc,m(r.tagName),m(n),o),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(r.style)){const t=r.style.getPropertyValue(e),o=r.style.getPropertyPriority(e);t!==n.style.getPropertyValue(e)||o!==n.style.getPropertyPriority(e)?i.styleDiff[e]=""===o?t:[t,o]:i._unchangedStyles[e]=[t,o]}for(const e of Array.from(n.style))""===r.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(he(e.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void this.genTextAreaValueMutation(e.target);e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const r=this.mirror.getId(t),n=c(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);he(e.target,this.blockClass,this.blockSelector,!1)||ge(t,this.mirror,this.slimDOMOptions)||!me(t,this.mirror)||(this.addedSet.has(t)?(Ve(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===r||ve(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[We(r,n)]?Ve(this.movedSet,t):this.removes.push({parentId:n,id:r,isShadow:!(!c(e.target)||!l(e.target))||void 0})),this.mapRemoves.push(t))}))}})),o(this,"genAdds",((e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(ge(e,this.mirror,this.slimDOMOptions))return;this.movedSet.add(e);let r=null;t&&this.mirror.hasNode(t)&&(r=this.mirror.getId(t)),r&&-1!==r&&(this.movedMap[We(this.mirror.getId(e),r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);he(e,this.blockClass,this.blockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Ce(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}))}init(e){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ve(e,t){e.delete(t),t.childNodes.forEach((t=>Ve(e,t)))}function He(e,t,r){return 0!==e.length&&function(e,t,r){let n=t.parentNode;for(;n;){const t=r.getId(n);if(e.some((e=>e.id===t)))return!0;n=n.parentNode}return!1}(e,t,r)}function Xe(e,t){return 0!==e.size&&Ye(e,t)}function Ye(e,t){const{parentNode:r}=t;return!!r&&(!!e.has(r)||Ye(e,r))}let Ke;const ze=e=>{if(!Ke)return e;return(...t)=>{try{return e(...t)}catch(r){if(Ke&&!0===Ke(r))return;throw r}}},Ze=[];function Je(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function qe(e,t){var r,n;const o=new MutationBuffer;Ze.push(o),o.init(e);let i=window.MutationObserver||window.__rrMutationObserver;const s=null==(n=null==(r=null==window?void 0:window.Zone)?void 0:r.__symbol__)?void 0:n.call(r,"MutationObserver");s&&window[s]&&(i=window[s]);const a=new i(ze(o.processMutations.bind(o)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function $e({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const s=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,a=[];let u=null;return Object.keys(Pe).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((i=>{let s=m(i);const c=(t=>i=>{const s=Je(i);if(he(s,n,o,!0))return;let a=null,c=t;if("pointerType"in i){switch(i.pointerType){case"mouse":a=Ue.Mouse;break;case"touch":a=Ue.Touch;break;case"pen":a=Ue.Pen}a===Ue.Touch?Pe[t]===Pe.MouseDown?c="TouchStart":Pe[t]===Pe.MouseUp&&(c="TouchEnd"):Ue.Pen}else ye(i)&&(a=Ue.Touch);null!==a?(u=a,(c.startsWith("Touch")&&a===Ue.Touch||c.startsWith("Mouse")&&a===Ue.Mouse)&&(a=null)):Pe[t]===Pe.Click&&(a=u,u=null);const l=ye(i)?i.changedTouches[0]:i;if(!l)return;const d=r.getId(s),{clientX:p,clientY:f}=l;ze(e)({type:Pe[c],id:d,x:p,y:f,...null!==a&&{pointerType:a}})})(i);if(window.PointerEvent)switch(Pe[i]){case Pe.MouseDown:case Pe.MouseUp:s=s.replace("mouse","pointer");break;case Pe.TouchStart:case Pe.TouchEnd:return}a.push(oe(s,c,t))})),ze((()=>{a.forEach((e=>e()))}))}function Qe({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,sampling:i}){return oe("scroll",ze(se(ze((i=>{const s=Je(i);if(!s||he(s,n,o,!0))return;const a=r.getId(s);if(s===t&&t.defaultView){const r=le(t.defaultView);e({id:a,x:r.left,y:r.top})}else e({id:a,x:s.scrollLeft,y:s.scrollTop})})),i.scroll||100)),t)}const et=["INPUT","TEXTAREA","SELECT"],tt=new WeakMap;function rt(e){return function(e,t){if(st("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||st("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||st("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||st("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){const r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}(e,[])}function nt(e,t,r){let n,o;return e?(e.ownerNode?n=t.getId(e.ownerNode):o=r.getId(e),{styleId:o,id:n}):{}}function ot({mirror:e,stylesheetManager:t},r){var n,o,i;let s=null;s="#document"===r.nodeName?e.getId(r):e.getId(r.host);const a="#document"===r.nodeName?null==(n=r.defaultView)?void 0:n.Document:null==(i=null==(o=r.ownerDocument)?void 0:o.defaultView)?void 0:i.ShadowRoot,u=(null==a?void 0:a.prototype)?Object.getOwnPropertyDescriptor(null==a?void 0:a.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&a&&u?(Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get(){var e;return null==(e=u.get)?void 0:e.call(this)},set(e){var r;const n=null==(r=u.set)?void 0:r.call(this,e);if(null!==s&&-1!==s)try{t.adoptStyleSheets(e,s)}catch(o){}return n}}),ze((()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))):()=>{}}function it(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};let n;!function(e,t){const{mutationCb:r,mousemoveCb:n,mouseInteractionCb:o,scrollCb:i,viewportResizeCb:s,inputCb:a,mediaInteractionCb:u,styleSheetRuleCb:c,styleDeclarationCb:l,canvasMutationCb:d,fontCb:p,selectionCb:f,customElementCb:h}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),r(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),n(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),o(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),i(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),s(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),a(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),u(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),c(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),l(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),d(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),p(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),f(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),h(...e)}}(e,t),e.recordDOM&&(n=qe(e,e.doc));const o=function({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const u=se(ze((t=>{const r=Date.now()-s;e(a.map((e=>(e.timeOffset-=r,e))),t),a=[],s=null})),i),c=ze(se(ze((e=>{const t=Je(e),{clientX:r,clientY:o}=ye(e)?e.changedTouches[0]:e;s||(s=ce()),a.push({x:r,y:o,id:n.getId(t),timeOffset:ce()-s}),u("undefined"!=typeof DragEvent&&e instanceof DragEvent?De.Drag:e instanceof MouseEvent?De.MouseMove:De.TouchMove)})),o,{trailing:!1})),l=[oe("mousemove",c,r),oe("touchmove",c,r),oe("drag",c,r)];return ze((()=>{l.forEach((e=>e()))}))}(e),i=$e(e),s=Qe(e),a=function({viewportResizeCb:e},{win:t}){let r=-1,n=-1;return oe("resize",ze(se(ze((()=>{const t=de(),o=pe();r===t&&n===o||(e({width:Number(o),height:Number(t)}),r=t,n=o)})),200)),t)}(e,{win:r}),u=function({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:o,ignoreClass:i,ignoreSelector:s,maskInputOptions:a,maskInputFn:u,sampling:c,userTriggeredOnInput:l}){function d(e){let r=Je(e);const c=e.isTrusted,d=r&&r.tagName;if(r&&"OPTION"===d&&(r=r.parentElement),!r||!d||et.indexOf(d)<0||he(r,n,o,!0))return;if(r.classList.contains(i)||s&&r.matches(s))return;let f=r.value,m=!1;const g=v(r)||"";"radio"===g||"checkbox"===g?m=r.checked:(a[d.toLowerCase()]||a[g])&&(f=h({element:r,maskInputOptions:a,tagName:d,type:g,value:f,maskInputFn:u})),p(r,l?{text:f,isChecked:m,userTriggered:c}:{text:f,isChecked:m});const y=r.name;"radio"===g&&y&&m&&t.querySelectorAll(`input[type="radio"][name="${y}"]`).forEach((e=>{if(e!==r){const t=e.value;p(e,l?{text:t,isChecked:!m,userTriggered:!1}:{text:t,isChecked:!m})}}))}function p(t,n){const o=tt.get(t);if(!o||o.text!==n.text||o.isChecked!==n.isChecked){tt.set(t,n);const o=r.getId(t);ze(e)({...n,id:o})}}const f=("last"===c.input?["change"]:["input","change"]).map((e=>oe(e,ze(d),t))),m=t.defaultView;if(!m)return()=>{f.forEach((e=>e()))};const g=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),y=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&f.push(...y.map((e=>ae(e[0],e[1],{set(){ze(d)({target:this,isTrusted:!1})}},!1,m)))),ze((()=>{f.forEach((e=>e()))}))}(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:n,sampling:o,doc:i}){const s=ze((i=>se(ze((o=>{const s=Je(o);if(!s||he(s,t,r,!0))return;const{currentTime:a,volume:u,muted:c,playbackRate:l,loop:d}=s;e({type:i,id:n.getId(s),currentTime:a,volume:u,muted:c,playbackRate:l,loop:d})})),o.media||500))),a=[oe("play",s(Be.Play),i),oe("pause",s(Be.Pause),i),oe("seeked",s(Be.Seeked),i),oe("volumechange",s(Be.VolumeChange),i),oe("ratechange",s(Be.RateChange),i)];return ze((()=>{a.forEach((e=>e()))}))}(e);let l=()=>{},d=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const o=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:ze(((n,o,i)=>{const[s,a]=i,{id:u,styleId:c}=nt(o,t,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,adds:[{rule:s,index:a}]}),n.apply(o,i)}))});const i=n.CSSStyleSheet.prototype.deleteRule;let s,a;n.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:ze(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=nt(o,t,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,removes:[{index:s}]}),n.apply(o,i)}))}),n.CSSStyleSheet.prototype.replace&&(s=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:ze(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=nt(o,t,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,replace:s}),n.apply(o,i)}))})),n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ze(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=nt(o,t,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,replaceSync:s}),n.apply(o,i)}))}));const u={};at("CSSGroupingRule")?u.CSSGroupingRule=n.CSSGroupingRule:(at("CSSMediaRule")&&(u.CSSMediaRule=n.CSSMediaRule),at("CSSConditionRule")&&(u.CSSConditionRule=n.CSSConditionRule),at("CSSSupportsRule")&&(u.CSSSupportsRule=n.CSSSupportsRule));const c={};return Object.entries(u).forEach((([n,o])=>{c[n]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(c[n].insertRule,{apply:ze(((n,o,i)=>{const[s,a]=i,{id:u,styleId:c}=nt(o.parentStyleSheet,t,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,adds:[{rule:s,index:[...rt(o),a||0]}]}),n.apply(o,i)}))}),o.prototype.deleteRule=new Proxy(c[n].deleteRule,{apply:ze(((n,o,i)=>{const[s]=i,{id:a,styleId:u}=nt(o.parentStyleSheet,t,r.styleMirror);return(a&&-1!==a||u&&-1!==u)&&e({id:a,styleId:u,removes:[{index:[...rt(o),s]}]}),n.apply(o,i)}))})})),ze((()=>{n.CSSStyleSheet.prototype.insertRule=o,n.CSSStyleSheet.prototype.deleteRule=i,s&&(n.CSSStyleSheet.prototype.replace=s),a&&(n.CSSStyleSheet.prototype.replaceSync=a),Object.entries(u).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:r}),d=ot(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:ze(((o,s,a)=>{var u;const[c,l,d]=a;if(r.has(c))return i.apply(s,[c,l,d]);const{id:p,styleId:f}=nt(null==(u=s.parentRule)?void 0:u.parentStyleSheet,t,n.styleMirror);return(p&&-1!==p||f&&-1!==f)&&e({id:p,styleId:f,set:{property:c,value:l,priority:d},index:rt(s.parentRule)}),o.apply(s,a)}))});const s=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:ze(((o,i,a)=>{var u;const[c]=a;if(r.has(c))return s.apply(i,[c]);const{id:l,styleId:d}=nt(null==(u=i.parentRule)?void 0:u.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||d&&-1!==d)&&e({id:l,styleId:d,remove:{property:c},index:rt(i.parentRule)}),o.apply(i,a)}))}),ze((()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=s}))}(e,{win:r}),e.collectFonts&&(f=function({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],o=new WeakMap,i=r.FontFace;r.FontFace=function(e,t,r){const n=new i(e,t,r);return o.set(n,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};const s=ue(t.fonts,"add",(function(t){return function(r){return setTimeout(ze((()=>{const t=o.get(r);t&&(e(t),o.delete(r))})),0),t.apply(this,[r])}}));return n.push((()=>{r.FontFace=i})),n.push(s),ze((()=>{n.forEach((e=>e()))}))}(e)));const m=function(e){const{doc:t,mirror:r,blockClass:n,blockSelector:o,selectionCb:i}=e;let s=!0;const a=ze((()=>{const e=t.getSelection();if(!e||s&&(null==e?void 0:e.isCollapsed))return;s=e.isCollapsed||!1;const a=[],u=e.rangeCount||0;for(let t=0;t<u;t++){const i=e.getRangeAt(t),{startContainer:s,startOffset:u,endContainer:c,endOffset:l}=i;he(s,n,o,!0)||he(c,n,o,!0)||a.push({start:r.getId(s),startOffset:u,end:r.getId(c),endOffset:l})}i({ranges:a})}));return a(),oe("selectionchange",a)}(e),g=function({doc:e,customElementCb:t}){const r=e.defaultView;return r&&r.customElements?ue(r.customElements,"define",(function(e){return function(r,n,o){try{t({define:{name:r}})}catch(i){console.warn(`Custom element callback failed for ${r}`)}return e.apply(this,[r,n,o])}})):()=>{}}(e),y=[];for(const h of e.plugins)y.push(h.observer(h.callback,r,h.options));return ze((()=>{Ze.forEach((e=>e.reset())),null==n||n.disconnect(),o(),i(),s(),a(),u(),c(),l(),d(),p(),f(),m(),g(),y.forEach((e=>e()))}))}function st(e){return void 0!==window[e]}function at(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class CrossOriginIframeMirror{constructor(e){o(this,"iframeIdToRemoteIdMap",new WeakMap),o(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}getId(e,t,r,n){const o=r||this.getIdToRemoteIdMap(e),i=n||this.getRemoteIdToIdMap(e);let s=o.get(t);return s||(s=this.generateIdFn(),o.set(t,s),i.set(s,t)),s}getIds(e,t){const r=this.getIdToRemoteIdMap(e),n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,r,n)))}getRemoteId(e,t,r){const n=r||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const o=n.get(t);return o||-1}getRemoteIds(e,t){const r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,r)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class IframeManager{constructor(e){o(this,"iframes",new WeakMap),o(this,"crossOriginIframeMap",new WeakMap),o(this,"crossOriginIframeMirror",new CrossOriginIframeMirror(b)),o(this,"crossOriginIframeStyleMirror"),o(this,"crossOriginIframeRootIdMap",new WeakMap),o(this,"mirror"),o(this,"mutationCb"),o(this,"wrappedEmit"),o(this,"loadListener"),o(this,"stylesheetManager"),o(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=e.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(n=this.loadListener)||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const r=this.crossOriginIframeMap.get(e.source);if(!r)return;const n=this.transformCrossOriginEvent(r,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}transformCrossOriginEvent(e,t){var r;switch(t.type){case ke.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:ke.IncrementalSnapshot,data:{source:De.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case ke.Meta:case ke.Load:case ke.DomContentLoaded:return!1;case ke.Plugin:return t;case ke.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case ke.IncrementalSnapshot:switch(t.data.source){case De.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const r=this.crossOriginIframeRootIdMap.get(e);r&&this.patchRootIdOnNode(t.node,r)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case De.Drag:case De.TouchMove:case De.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case De.ViewportResize:return!1;case De.MediaInteraction:case De.MouseInteraction:case De.Scroll:case De.CanvasMutation:case De.Input:return this.replaceIds(t.data,e,["id"]),t;case De.StyleSheetRule:case De.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case De.Font:return t;case De.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case De.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(r=t.data.styles)||r.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,r,n){for(const o of n)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(r,t[o]):t[o]=e.getId(r,t[o]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===a.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class ShadowDomManager{constructor(e){o(this,"shadowDoms",new WeakSet),o(this,"mutationCb"),o(this,"scrollCb"),o(this,"bypassOptions"),o(this,"mirror"),o(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!l(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const r=qe({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>r.disconnect())),this.restoreHandlers.push(Qe({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(ot({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const r=this;this.restoreHandlers.push(ue(e.prototype,"attachShadow",(function(e){return function(n){const o=e.call(this,n);return this.shadowRoot&&xe(this)&&r.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ct="undefined"==typeof Uint8Array?[]:new Uint8Array(256),lt=0;lt<64;lt++)ct[ut.charCodeAt(lt)]=lt;var dt=function(e){var t,r,n,o,i,s=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(t=0;t<a;t+=4)r=ct[e.charCodeAt(t)],n=ct[e.charCodeAt(t+1)],o=ct[e.charCodeAt(t+2)],i=ct[e.charCodeAt(t+3)],l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|o>>2,l[u++]=(3&o)<<6|63&i;return c};const pt=new Map;const ft=(e,t,r)=>{if(!e||!gt(e,t)&&"object"!=typeof e)return;const n=function(e,t){let r=pt.get(e);return r||(r=new Map,pt.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}(r,e.constructor.name);let o=n.indexOf(e);return-1===o&&(o=n.length,n.push(e)),o};function ht(e,t,r){if(e instanceof Array)return e.map((e=>ht(e,t,r)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,r=new Uint8Array(e),n=r.length,o="";for(t=0;t<n;t+=3)o+=ut[r[t]>>2],o+=ut[(3&r[t])<<4|r[t+1]>>4],o+=ut[(15&r[t+1])<<2|r[t+2]>>6],o+=ut[63&r[t+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e)}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[ht(e.buffer,t,r),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:r}=e;return{rr_type:t,src:r}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[ht(e.data,t,r),e.width,e.height]}}if(gt(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:ft(e,t,r)}}return e}const mt=(e,t,r)=>e.map((e=>ht(e,t,r))),gt=(e,t)=>{const r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(r.find((r=>e instanceof t[r])))};function vt(e,t,r,n){const o=[];try{const i=ue(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(o,...i){if(!he(this,t,r,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(o);if("__context"in this||(this.__context=e),n&&["webgl","webgl2"].includes(e))if(i[0]&&"object"==typeof i[0]){const e=i[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else i.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[o,...i])}}));o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((e=>e()))}}function yt(e,t,r,n,o,i,s){const a=[],u=Object.getOwnPropertyNames(e);for(const c of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(c))try{if("function"!=typeof e[c])continue;const i=ue(e,c,(function(e){return function(...i){const a=e.apply(this,i);if(ft(a,s,this),"tagName"in this.canvas&&!he(this.canvas,n,o,!0)){const e=mt(i,s,this),n={type:t,property:c,args:e};r(this.canvas,n)}return a}}));a.push(i)}catch{const n=ae(e,c,{set(e){r(this.canvas,{type:t,property:c,args:[e],setter:!0})}});a.push(n)}return a}const Et="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpCiAgICAgICAgcmV0dXJuIHRyYW5zcGFyZW50QmxvYk1hcC5nZXQoaWQpOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIHRyYW5zcGFyZW50QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgIHJldHVybiBiYXNlNjQ7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIiI7CiAgICB9CiAgfQogIGNvbnN0IHdvcmtlciA9IHNlbGY7CiAgd29ya2VyLm9ubWVzc2FnZSA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGlmICgiT2Zmc2NyZWVuQ2FudmFzIiBpbiBnbG9iYWxUaGlzKSB7CiAgICAgIGNvbnN0IHsgaWQsIGJpdG1hcCwgd2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMgfSA9IGUuZGF0YTsKICAgICAgY29uc3QgdHJhbnNwYXJlbnRCYXNlNjQgPSBnZXRUcmFuc3BhcmVudEJsb2JGb3IoCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0LAogICAgICAgIGRhdGFVUkxPcHRpb25zCiAgICAgICk7CiAgICAgIGNvbnN0IG9mZnNjcmVlbiA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7CiAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjdHguZHJhd0ltYWdlKGJpdG1hcCwgMCwgMCk7CiAgICAgIGJpdG1hcC5jbG9zZSgpOwogICAgICBjb25zdCBibG9iID0gYXdhaXQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOwogICAgICBjb25zdCB0eXBlID0gYmxvYi50eXBlOwogICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGJsb2IuYXJyYXlCdWZmZXIoKTsKICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsKICAgICAgaWYgKCFsYXN0QmxvYk1hcC5oYXMoaWQpICYmIGF3YWl0IHRyYW5zcGFyZW50QmFzZTY0ID09PSBiYXNlNjQpIHsKICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB9CiAgICAgIGlmIChsYXN0QmxvYk1hcC5nZXQoaWQpID09PSBiYXNlNjQpCiAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOwogICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoewogICAgICAgIGlkLAogICAgICAgIHR5cGUsCiAgICAgICAgYmFzZTY0LAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodAogICAgICB9KTsKICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkOiBlLmRhdGEuaWQgfSk7CiAgICB9CiAgfTsKfSkoKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UtYml0bWFwLWRhdGEtdXJsLXdvcmtlci1CWjFyN1JKRC5qcy5tYXAK",St="undefined"!=typeof window&&window.Blob&&new Blob([(Tt=Et,Uint8Array.from(atob(Tt),(e=>e.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});var Tt;function bt(e){let t;try{if(t=St&&(window.URL||window.webkitURL).createObjectURL(St),!t)throw"";const r=new Worker(t,{name:null==e?void 0:e.name});return r.addEventListener("error",(()=>{(window.URL||window.webkitURL).revokeObjectURL(t)})),r}catch(r){return new Worker("data:text/javascript;base64,"+Et,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}class CanvasManager{constructor(e){o(this,"pendingCanvasMutations",new Map),o(this,"rafStamps",{latestId:0,invokeId:null}),o(this,"mirror"),o(this,"mutationCb"),o(this,"resetObservers"),o(this,"frozen",!1),o(this,"locked",!1),o(this,"processMutation",((e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)}));const{sampling:t="all",win:r,blockClass:n,blockSelector:i,recordCanvas:s,dataURLOptions:a}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,s&&"all"===t&&this.initCanvasMutationObserver(r,n,i),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,n,i,{dataURLOptions:a})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,t,r,n,o){const i=vt(t,r,n,!0),s=new Map,a=new bt;a.onmessage=e=>{const{id:t}=e.data;if(s.set(t,!1),!("base64"in e.data))return;const{base64:r,type:n,width:o,height:i}=e.data;this.mutationCb({id:t,type:Fe["2D"],commands:[{property:"clearRect",args:[0,0,o,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:n}]},0,0]}]})};const u=1e3/e;let c,l=0;const d=e=>{l&&e-l<u||(l=e,(()=>{const e=[];return t.document.querySelectorAll("canvas").forEach((t=>{he(t,r,n,!0)||e.push(t)})),e})().forEach((async e=>{var t;const r=this.mirror.getId(e);if(s.get(r))return;if(0===e.width||0===e.height)return;if(s.set(r,!0),["webgl","webgl2"].includes(e.__context)){const r=e.getContext(e.__context);!1===(null==(t=null==r?void 0:r.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&r.clear(r.COLOR_BUFFER_BIT)}const n=await createImageBitmap(e);a.postMessage({id:r,bitmap:n,width:e.width,height:e.height,dataURLOptions:o.dataURLOptions},[n])}))),c=requestAnimationFrame(d)};c=requestAnimationFrame(d),this.resetObservers=()=>{i(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const n=vt(e,t,r,!1),o=function(e,t,r,n){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of i)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[s])continue;const i=ue(t.CanvasRenderingContext2D.prototype,s,(function(o){return function(...i){return he(this.canvas,r,n,!0)||setTimeout((()=>{const r=mt(i,t,this);e(this.canvas,{type:Fe["2D"],property:s,args:r})}),0),o.apply(this,i)}}));o.push(i)}catch{const r=ae(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:Fe["2D"],property:s,args:[t],setter:!0})}});o.push(r)}return()=>{o.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r),i=function(e,t,r,n,o){const i=[];return i.push(...yt(t.WebGLRenderingContext.prototype,Fe.WebGL,e,r,n,0,t)),void 0!==t.WebGL2RenderingContext&&i.push(...yt(t.WebGL2RenderingContext.prototype,Fe.WebGL2,e,r,n,0,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,r,this.mirror);this.resetObservers=()=>{n(),o(),i()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(e);if(!r||-1===t)return;const n=r.map((e=>{const{type:t,...r}=e;return r})),{type:o}=r[0];this.mutationCb({id:t,type:o,commands:n}),this.pendingCanvasMutations.delete(e)}}class StylesheetManager{constructor(e){o(this,"trackedLinkElements",new WeakSet),o(this,"mutationCb"),o(this,"adoptedStyleSheetCb"),o(this,"styleMirror",new StyleSheetMirror),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const r={id:t,styleIds:[]},n=[];for(const o of e){let e;this.styleMirror.has(o)?e=this.styleMirror.getId(o):(e=this.styleMirror.add(o),n.push({styleId:e,rules:Array.from(o.rules||CSSRule,((e,t)=>({rule:p(e),index:t})))})),r.styleIds.push(e)}n.length>0&&(r.styles=n),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class ProcessedNodeManager{constructor(){o(this,"nodeMap",new WeakMap),o(this,"active",!1)}inOtherBuffer(e,t){const r=this.nodeMap.get(e);return r&&Array.from(r).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let _t,It,Ct,Nt=!1;try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=(null==(r=e.contentWindow)?void 0:r.Array.from)||Array.from,document.body.removeChild(e)}}catch(Ur){console.debug("Unable to override Array.from",Ur)}const Rt=f();function Ot(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:o="rr-block",blockSelector:i=null,ignoreClass:s="rr-ignore",ignoreSelector:a=null,maskTextClass:u="rr-mask",maskTextSelector:c=null,inlineStylesheet:l=!0,maskAllInputs:d,maskInputOptions:p,slimDOMOptions:f,maskInputFn:h,maskTextFn:m,hooks:g,packFn:v,sampling:y={},dataURLOptions:E={},mousemoveWait:S,recordDOM:T=!0,recordCanvas:b=!1,recordCrossOriginIframes:_=!1,recordAfter:I=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:C=!1,collectFonts:N=!1,inlineImages:R=!1,plugins:O,keepIframeSrcFn:A=(()=>!1),ignoreCSSAttributes:w=new Set([]),errorHandler:M}=e;Ke=M;const x=!_||window.parent===window;let L=!1;if(!x)try{window.parent.document&&(L=!1)}catch(K){L=!0}if(x&&!t)throw new Error("emit function is required");if(!x&&!L)return()=>{};void 0!==S&&void 0===y.mousemove&&(y.mousemove=S),Rt.reset();const k=!0===d?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==p?p:{password:!0},D=!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===f,headMetaDescKeywords:"all"===f,headTitleMutations:"all"===f}:f||{};let P;Ee();let U=0;const F=e=>{for(const t of O||[])t.eventProcessor&&(e=t.eventProcessor(e));return v&&!L&&(e=v(e)),e};_t=(e,o)=>{var i;const s=e;if(s.timestamp=ce(),!(null==(i=Ze[0])?void 0:i.isFrozen())||s.type===ke.FullSnapshot||s.type===ke.IncrementalSnapshot&&s.data.source===De.Mutation||Ze.forEach((e=>e.unfreeze())),x)null==t||t(F(s),o);else if(L){const e={type:"rrweb",event:F(s),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(s.type===ke.FullSnapshot)P=s,U=0;else if(s.type===ke.IncrementalSnapshot){if(s.data.source===De.Mutation&&s.data.isAttachIframe)return;U++;const e=n&&U>=n,t=r&&s.timestamp-P.timestamp>r;(e||t)&&It(!0)}};const B=e=>{_t({type:ke.IncrementalSnapshot,data:{source:De.Mutation,...e}})},j=e=>_t({type:ke.IncrementalSnapshot,data:{source:De.Scroll,...e}}),G=e=>_t({type:ke.IncrementalSnapshot,data:{source:De.CanvasMutation,...e}}),V=new StylesheetManager({mutationCb:B,adoptedStyleSheetCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.AdoptedStyleSheet,...e}})}),H=new IframeManager({mirror:Rt,mutationCb:B,stylesheetManager:V,recordCrossOriginIframes:_,wrappedEmit:_t});for(const W of O||[])W.getMirror&&W.getMirror({nodeMirror:Rt,crossOriginIframeMirror:H.crossOriginIframeMirror,crossOriginIframeStyleMirror:H.crossOriginIframeStyleMirror});const X=new ProcessedNodeManager;Ct=new CanvasManager({recordCanvas:b,mutationCb:G,win:window,blockClass:o,blockSelector:i,mirror:Rt,sampling:y.canvas,dataURLOptions:E});const Y=new ShadowDomManager({mutationCb:B,scrollCb:j,bypassOptions:{blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:c,inlineStylesheet:l,maskInputOptions:k,dataURLOptions:E,maskTextFn:m,maskInputFn:h,recordCanvas:b,inlineImages:R,sampling:y,slimDOMOptions:D,iframeManager:H,stylesheetManager:V,canvasManager:Ct,keepIframeSrcFn:A,processedNodeManager:X},mirror:Rt});It=(e=!1)=>{if(!T)return;_t({type:ke.Meta,data:{href:window.location.href,width:pe(),height:de()}},e),V.reset(),Y.init(),Ze.forEach((e=>e.lock()));const t=function(e,t){const{mirror:r=new Mirror,blockClass:n="rr-block",blockSelector:o=null,maskTextClass:i="rr-mask",maskTextSelector:s=null,inlineStylesheet:a=!0,inlineImages:u=!1,recordCanvas:c=!1,maskAllInputs:l=!1,maskTextFn:d,maskInputFn:p,slimDOM:f=!1,dataURLOptions:h,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:E,stylesheetLoadTimeout:S,keepIframeSrcFn:T=(()=>!1)}=t||{};return W(e,{doc:e,mirror:r,blockClass:n,blockSelector:o,maskTextClass:i,maskTextSelector:s,skipChild:!1,inlineStylesheet:a,maskInputOptions:!0===l?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===l?{password:!0}:l,maskTextFn:d,maskInputFn:p,slimDOMOptions:!0===f||"all"===f?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===f,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===f?{}:f,dataURLOptions:h,inlineImages:u,recordCanvas:c,preserveWhiteSpace:m,onSerialize:g,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:E,stylesheetLoadTimeout:S,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:Rt,blockClass:o,blockSelector:i,maskTextClass:u,maskTextSelector:c,inlineStylesheet:l,maskAllInputs:k,maskTextFn:m,slimDOM:D,dataURLOptions:E,recordCanvas:b,inlineImages:R,onSerialize:e=>{be(e,Rt)&&H.addIframe(e),_e(e,Rt)&&V.trackLinkElement(e),Ce(e)&&Y.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{H.attachIframe(e,t),Y.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{V.attachLinkElement(e,t)},keepIframeSrcFn:A});if(!t)return console.warn("Failed to snapshot the document");_t({type:ke.FullSnapshot,data:{node:t,initialOffset:le(window)}},e),Ze.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&V.adoptStyleSheets(document.adoptedStyleSheets,Rt.getId(document))};try{const e=[],t=e=>{var t;return ze(it)({mutationCb:B,mousemoveCb:(e,t)=>_t({type:ke.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.MouseInteraction,...e}}),scrollCb:j,viewportResizeCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.ViewportResize,...e}}),inputCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.Input,...e}}),mediaInteractionCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.MediaInteraction,...e}}),styleSheetRuleCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.StyleSheetRule,...e}}),styleDeclarationCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.StyleDeclaration,...e}}),canvasMutationCb:G,fontCb:e=>_t({type:ke.IncrementalSnapshot,data:{source:De.Font,...e}}),selectionCb:e=>{_t({type:ke.IncrementalSnapshot,data:{source:De.Selection,...e}})},customElementCb:e=>{_t({type:ke.IncrementalSnapshot,data:{source:De.CustomElement,...e}})},blockClass:o,ignoreClass:s,ignoreSelector:a,maskTextClass:u,maskTextSelector:c,maskInputOptions:k,inlineStylesheet:l,sampling:y,recordDOM:T,recordCanvas:b,inlineImages:R,userTriggeredOnInput:C,collectFonts:N,doc:e,maskInputFn:h,maskTextFn:m,keepIframeSrcFn:A,blockSelector:i,slimDOMOptions:D,dataURLOptions:E,mirror:Rt,iframeManager:H,stylesheetManager:V,shadowDomManager:Y,processedNodeManager:X,canvasManager:Ct,ignoreCSSAttributes:w,plugins:(null==(t=null==O?void 0:O.filter((e=>e.observer)))?void 0:t.map((e=>({observer:e.observer,options:e.options,callback:t=>_t({type:ke.Plugin,data:{plugin:e.name,payload:t}})}))))||[]},g)};H.addLoadListener((r=>{try{e.push(t(r.contentDocument))}catch(n){console.warn(n)}}));const r=()=>{It(),e.push(t(document)),Nt=!0};return"interactive"===document.readyState||"complete"===document.readyState?r():(e.push(oe("DOMContentLoaded",(()=>{_t({type:ke.DomContentLoaded,data:{}}),"DOMContentLoaded"===I&&r()}))),e.push(oe("load",(()=>{_t({type:ke.Load,data:{}}),"load"===I&&r()}),window))),()=>{e.forEach((e=>e())),X.destroy(),Nt=!1,Ke=void 0}}catch(z){console.warn(z)}}Ot.addCustomEvent=(e,t)=>{if(!Nt)throw new Error("please add custom event after start recording");_t({type:ke.Custom,data:{tag:e,payload:t}})},Ot.freezePage=()=>{Ze.forEach((e=>e.freeze()))},Ot.takeFullSnapshot=e=>{if(!Nt)throw new Error("please take full snapshot after start recording");It(e)},Ot.mirror=Rt;var At=Object.defineProperty,wt=(e,t,r)=>(((e,t,r)=>{t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),Mt=Object.defineProperty,xt=(e,t,r)=>(((e,t,r)=>{t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r),Lt=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Lt||{});let kt=class Mirror2{constructor(){xt(this,"idNodeMap",new Map),xt(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function Dt(e){const t=[];for(const r in e){const n=e[r];if("string"!=typeof n)continue;const o=jt(r);t.push(`${o}: ${n};`)}return t.join(" ")}const Pt=/-([a-z])/g,Ut=/^--[a-zA-Z0-9-]+$/,Ft=e=>Ut.test(e)?e:e.replace(Pt,((e,t)=>t?t.toUpperCase():"")),Bt=/\B([A-Z])/g,jt=e=>e.replace(Bt,"-$1").toLowerCase();class BaseRRNode{constructor(...e){wt(this,"parentElement",null),wt(this,"parentNode",null),wt(this,"ownerDocument"),wt(this,"firstChild",null),wt(this,"lastChild",null),wt(this,"previousSibling",null),wt(this,"nextSibling",null),wt(this,"ELEMENT_NODE",1),wt(this,"TEXT_NODE",3),wt(this,"nodeType"),wt(this,"nodeName"),wt(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(!(e instanceof BaseRRNode))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}class BaseRRDocument extends BaseRRNode{constructor(...e){super(e),wt(this,"nodeType",9),wt(this,"nodeName","#document"),wt(this,"compatMode","CSS1Compat"),wt(this,"RRNodeType",Lt.Document),wt(this,"textContent",null),this.ownerDocument=this}get documentElement(){return this.childNodes.find((e=>e.RRNodeType===Lt.Element&&"HTML"===e.tagName))||null}get body(){var e;return(null==(e=this.documentElement)?void 0:e.childNodes.find((e=>e.RRNodeType===Lt.Element&&"BODY"===e.tagName)))||null}get head(){var e;return(null==(e=this.documentElement)?void 0:e.childNodes.find((e=>e.RRNodeType===Lt.Element&&"HEAD"===e.tagName)))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(e){const t=e.RRNodeType;if((t===Lt.Element||t===Lt.DocumentType)&&this.childNodes.some((e=>e.RRNodeType===t)))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t===Lt.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const r=Gt(this,e);return r.parentElement=null,r}insertBefore(e,t){const r=e.RRNodeType;if((r===Lt.Element||r===Lt.DocumentType)&&this.childNodes.some((e=>e.RRNodeType===r)))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${r===Lt.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const n=Wt(this,e,t);return n.parentElement=null,n}removeChild(e){return Vt(this,e)}open(){this.firstChild=null,this.lastChild=null}close(){}write(e){let t;if('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'===e?t="-//W3C//DTD XHTML 1.0 Transitional//EN":'<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'===e&&(t="-//W3C//DTD HTML 4.0 Transitional//EN"),t){const e=this.createDocumentType("html",t,"");this.open(),this.appendChild(e)}}createDocument(e,t,r){return new BaseRRDocument}createDocumentType(e,t,r){const n=new BaseRRDocumentType(e,t,r);return n.ownerDocument=this,n}createElement(e){const t=new BaseRRElement(e);return t.ownerDocument=this,t}createElementNS(e,t){return this.createElement(t)}createTextNode(e){const t=new BaseRRText(e);return t.ownerDocument=this,t}createComment(e){const t=new BaseRRComment(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new BaseRRCDATASection(e);return t.ownerDocument=this,t}toString(){return"RRDocument"}}class BaseRRDocumentType extends BaseRRNode{constructor(e,t,r){super(),wt(this,"nodeType",10),wt(this,"RRNodeType",Lt.DocumentType),wt(this,"name"),wt(this,"publicId"),wt(this,"systemId"),wt(this,"textContent",null),this.name=e,this.publicId=t,this.systemId=r,this.nodeName=e}toString(){return"RRDocumentType"}}class BaseRRElement extends BaseRRNode{constructor(e){super(),wt(this,"nodeType",1),wt(this,"RRNodeType",Lt.Element),wt(this,"tagName"),wt(this,"attributes",{}),wt(this,"shadowRoot",null),wt(this,"scrollLeft"),wt(this,"scrollTop"),this.tagName=e.toUpperCase(),this.nodeName=e.toUpperCase()}get textContent(){let e="";return this.childNodes.forEach((t=>e+=t.textContent)),e}set textContent(e){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(e))}get classList(){return new ClassList(this.attributes.class,(e=>{this.attributes.class=e}))}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const e=this.attributes.style?function(e){const t={},r=/:(.+)/;return e.replace(/\/\*.*?\*\//g,"").split(/;(?![^(]*\))/g).forEach((function(e){if(e){const n=e.split(r);n.length>1&&(t[Ft(n[0].trim())]=n[1].trim())}})),t}(this.attributes.style):{},t=/\B([A-Z])/g;return e.setProperty=(r,n,o)=>{if(t.test(r))return;const i=Ft(r);n?e[i]=n:delete e[i],"important"===o&&(e[i]+=" !important"),this.attributes.style=Dt(e)},e.removeProperty=r=>{if(t.test(r))return"";const n=Ft(r),o=e[n]||"";return delete e[n],this.attributes.style=Dt(e),o},e}getAttribute(e){return this.attributes[e]||null}setAttribute(e,t){this.attributes[e]=t}setAttributeNS(e,t,r){this.setAttribute(t,r)}removeAttribute(e){delete this.attributes[e]}appendChild(e){return Gt(this,e)}insertBefore(e,t){return Wt(this,e,t)}removeChild(e){return Vt(this,e)}attachShadow(e){const t=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=t,t}dispatchEvent(e){return!0}toString(){let e="";for(const t in this.attributes)e+=`${t}="${this.attributes[t]}" `;return`${this.tagName} ${e}`}}class BaseRRMediaElement extends BaseRRElement{constructor(){super(...arguments),wt(this,"currentTime"),wt(this,"volume"),wt(this,"paused"),wt(this,"muted"),wt(this,"playbackRate"),wt(this,"loop")}attachShadow(e){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}class BaseRRText extends BaseRRNode{constructor(e){super(),wt(this,"nodeType",3),wt(this,"nodeName","#text"),wt(this,"RRNodeType",Lt.Text),wt(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRText text=${JSON.stringify(this.data)}`}}class BaseRRComment extends BaseRRNode{constructor(e){super(),wt(this,"nodeType",8),wt(this,"nodeName","#comment"),wt(this,"RRNodeType",Lt.Comment),wt(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}class BaseRRCDATASection extends BaseRRNode{constructor(e){super(),wt(this,"nodeName","#cdata-section"),wt(this,"nodeType",4),wt(this,"RRNodeType",Lt.CDATA),wt(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}class ClassList{constructor(e,t){if(wt(this,"onChange"),wt(this,"classes",[]),wt(this,"add",((...e)=>{for(const t of e){const e=String(t);this.classes.indexOf(e)>=0||this.classes.push(e)}this.onChange&&this.onChange(this.classes.join(" "))})),wt(this,"remove",((...e)=>{this.classes=this.classes.filter((t=>-1===e.indexOf(t))),this.onChange&&this.onChange(this.classes.join(" "))})),e){const t=e.trim().split(/\s+/);this.classes.push(...t)}this.onChange=t}}function Gt(e,t){return t.parentNode&&t.parentNode.removeChild(t),e.lastChild?(e.lastChild.nextSibling=t,t.previousSibling=e.lastChild):(e.firstChild=t,t.previousSibling=null),e.lastChild=t,t.nextSibling=null,t.parentNode=e,t.parentElement=e,t.ownerDocument=e.ownerDocument,t}function Wt(e,t,r){if(!r)return Gt(e,t);if(r.parentNode!==e)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return t===r||(t.parentNode&&t.parentNode.removeChild(t),t.previousSibling=r.previousSibling,r.previousSibling=t,t.nextSibling=r,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,t.parentElement=e,t.parentNode=e,t.ownerDocument=e.ownerDocument),t}function Vt(e,t){if(t.parentNode!==e)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return t.previousSibling?t.previousSibling.nextSibling=t.nextSibling:e.firstChild=t.nextSibling,t.nextSibling?t.nextSibling.previousSibling=t.previousSibling:e.lastChild=t.previousSibling,t.previousSibling=null,t.nextSibling=null,t.parentElement=null,t.parentNode=null,t}var Ht=(e=>(e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",e))(Ht||{});const Xt={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},Yt={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let Kt=null;function zt(e,t,r,n=t.mirror||t.ownerDocument.mirror){e=function(e,t,r,n){var o;r.afterAppend&&!Kt&&(Kt=new WeakSet,setTimeout((()=>{Kt=null}),0));if(!qt(e,t)){const i=Jt(t,r.mirror,n);null==(o=e.parentNode)||o.replaceChild(i,e),e=i}switch(t.RRNodeType){case Lt.Document:if(!$t(e,t,r.mirror,n)){const o=n.getMeta(t);o&&(r.mirror.removeNodeFromMap(e),e.close(),e.open(),r.mirror.add(e,o),null==Kt||Kt.add(e))}break;case Lt.Element:{const o=e,i=t;switch(i.tagName){case"IFRAME":{const o=e.contentDocument;if(!o)break;zt(o,t.contentDocument,r,n);break}}i.shadowRoot&&(o.shadowRoot||o.attachShadow({mode:"open"}),Zt(o.shadowRoot,i.shadowRoot,r,n)),function(e,t,r){const n=e.attributes,o=t.attributes;for(const i in o){const n=o[i],s=r.getMeta(t);if((null==s?void 0:s.isSVG)&&Xt[i])e.setAttributeNS(Xt[i],i,n);else if("CANVAS"===t.tagName&&"rr_dataURL"===i){const t=document.createElement("img");t.src=n,t.onload=()=>{const r=e.getContext("2d");r&&r.drawImage(t,0,0,t.width,t.height)}}else{if("IFRAME"===t.tagName&&"srcdoc"===i)continue;e.setAttribute(i,n)}}for(const{name:i}of Array.from(n))i in o||e.removeAttribute(i);t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.scrollTop&&(e.scrollTop=t.scrollTop)}(o,i,n);break}}return e}(e,t,r,n),Zt(e,t,r,n),function(e,t,r){var n;switch(t.RRNodeType){case Lt.Document:{const e=t.scrollData;e&&r.applyScroll(e,!0);break}case Lt.Element:{const n=e,o=t;switch(o.scrollData&&r.applyScroll(o.scrollData,!0),o.inputData&&r.applyInput(o.inputData),o.tagName){case"AUDIO":case"VIDEO":{const t=e,r=o;void 0!==r.paused&&(r.paused?t.pause():t.play()),void 0!==r.muted&&(t.muted=r.muted),void 0!==r.volume&&(t.volume=r.volume),void 0!==r.currentTime&&(t.currentTime=r.currentTime),void 0!==r.playbackRate&&(t.playbackRate=r.playbackRate),void 0!==r.loop&&(t.loop=r.loop);break}case"CANVAS":{const o=t;if(null!==o.rr_dataURL){const e=document.createElement("img");e.onload=()=>{const t=n.getContext("2d");t&&t.drawImage(e,0,0,e.width,e.height)},e.src=o.rr_dataURL}o.canvasMutations.forEach((t=>r.applyCanvas(t.event,t.mutation,e)));break}case"STYLE":{const e=n.sheet;e&&t.rules.forEach((t=>r.applyStyleSheetMutation(t,e)));break}}break}case Lt.Text:case Lt.Comment:case Lt.CDATA:e.textContent!==t.data&&(e.textContent=t.data)}(null==Kt?void 0:Kt.has(e))&&(Kt.delete(e),null==(n=r.afterAppend)||n.call(r,e,r.mirror.getId(e)))}(e,t,r)}function Zt(e,t,r,n){const o=Array.from(e.childNodes),i=t.childNodes;if(0===o.length&&0===i.length)return;let s,a,u=0,c=o.length-1,l=0,d=i.length-1,p=o[u],f=o[c],h=i[l],m=i[d];for(;u<=c&&l<=d;)if(void 0===p)p=o[++u];else if(void 0===f)f=o[--c];else if($t(p,h,r.mirror,n))p=o[++u],h=i[++l];else if($t(f,m,r.mirror,n))f=o[--c],m=i[--d];else if($t(p,m,r.mirror,n)){try{e.insertBefore(p,f.nextSibling)}catch(y){console.warn(y)}p=o[++u],m=i[--d]}else if($t(f,h,r.mirror,n)){try{e.insertBefore(f,p)}catch(y){console.warn(y)}f=o[--c],h=i[++l]}else{if(!s){s={};for(let e=u;e<=c;e++){const t=o[e];t&&r.mirror.hasNode(t)&&(s[r.mirror.getId(t)]=e)}}a=s[n.getId(h)];const t=o[a];if(void 0!==a&&t&&$t(t,h,r.mirror,n)){try{e.insertBefore(t,p)}catch(y){console.warn(y)}o[a]=void 0}else{const t=Jt(h,r.mirror,n);"#document"===e.nodeName&&p&&(t.nodeType===t.DOCUMENT_TYPE_NODE&&p.nodeType===p.DOCUMENT_TYPE_NODE||t.nodeType===t.ELEMENT_NODE&&p.nodeType===p.ELEMENT_NODE)&&(e.removeChild(p),r.mirror.removeNodeFromMap(p),p=o[++u]);try{e.insertBefore(t,p||null)}catch(y){console.warn(y)}}h=i[++l]}if(u>c){const t=i[d+1];let o=null;for(t&&(o=r.mirror.getNode(n.getId(t)));l<=d;++l){const t=Jt(i[l],r.mirror,n);try{e.insertBefore(t,o)}catch(y){console.warn(y)}}}else if(l>d)for(;u<=c;u++){const t=o[u];if(t&&t.parentNode===e)try{e.removeChild(t),r.mirror.removeNodeFromMap(t)}catch(y){console.warn(y)}}let g=e.firstChild,v=t.firstChild;for(;null!==g&&null!==v;)zt(g,v,r,n),g=g.nextSibling,v=v.nextSibling}function Jt(e,t,r){const n=r.getId(e),o=r.getMeta(e);let i=null;if(n>-1&&(i=t.getNode(n)),null!==i&&qt(i,e))return i;switch(e.RRNodeType){case Lt.Document:i=new Document;break;case Lt.DocumentType:i=document.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case Lt.Element:{let t=e.tagName.toLowerCase();t=Yt[t]||t,i=o&&"isSVG"in o&&(null==o?void 0:o.isSVG)?document.createElementNS(Xt.svg,t):document.createElement(e.tagName);break}case Lt.Text:i=document.createTextNode(e.data);break;case Lt.Comment:i=document.createComment(e.data);break;case Lt.CDATA:i=document.createCDATASection(e.data)}o&&t.add(i,{...o});try{null==Kt||Kt.add(i)}catch(s){}return i}function qt(e,t){return e.nodeType===t.nodeType&&(e.nodeType!==e.ELEMENT_NODE||e.tagName.toUpperCase()===t.tagName)}function $t(e,t,r,n){const o=r.getId(e),i=n.getId(t);return-1!==o&&o===i&&qt(e,t)}class RRDocument extends BaseRRDocument{constructor(e){super(),wt(this,"UNSERIALIZED_STARTING_ID",-2),wt(this,"_unserializedId",this.UNSERIALIZED_STARTING_ID),wt(this,"mirror",new Mirror22),wt(this,"scrollData",null),e&&(this.mirror=e)}get unserializedId(){return this._unserializedId--}createDocument(e,t,r){return new RRDocument}createDocumentType(e,t,r){const n=new Qt(e,t,r);return n.ownerDocument=this,n}createElement(e){const t=e.toUpperCase();let r;switch(t){case"AUDIO":case"VIDEO":r=new RRMediaElement(t);break;case"IFRAME":r=new RRIFrameElement(t,this.mirror);break;case"CANVAS":r=new RRCanvasElement(t);break;case"STYLE":r=new RRStyleElement(t);break;default:r=new RRElement(t)}return r.ownerDocument=this,r}createComment(e){const t=new tr(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new rr(e);return t.ownerDocument=this,t}createTextNode(e){const t=new er(e);return t.ownerDocument=this,t}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const Qt=BaseRRDocumentType;class RRElement extends BaseRRElement{constructor(){super(...arguments),wt(this,"inputData",null),wt(this,"scrollData",null)}}class RRMediaElement extends BaseRRMediaElement{}class RRCanvasElement extends RRElement{constructor(){super(...arguments),wt(this,"rr_dataURL",null),wt(this,"canvasMutations",[])}getContext(){return null}}class RRStyleElement extends RRElement{constructor(){super(...arguments),wt(this,"rules",[])}}class RRIFrameElement extends RRElement{constructor(e,t){super(e),wt(this,"contentDocument",new RRDocument),this.contentDocument.mirror=t}}const er=BaseRRText,tr=BaseRRComment,rr=BaseRRCDATASection;function nr(e,t,r,n){let o;switch(e.nodeType){case Ht.DOCUMENT_NODE:n&&"IFRAME"===n.nodeName?o=n.contentDocument:(o=t,o.compatMode=e.compatMode);break;case Ht.DOCUMENT_TYPE_NODE:{const r=e;o=t.createDocumentType(r.name,r.publicId,r.systemId);break}case Ht.ELEMENT_NODE:{const r=e,n=(i=r)instanceof HTMLFormElement?"FORM":i.tagName.toUpperCase();o=t.createElement(n);const s=o;for(const{name:e,value:t}of Array.from(r.attributes))s.attributes[e]=t;r.scrollLeft&&(s.scrollLeft=r.scrollLeft),r.scrollTop&&(s.scrollTop=r.scrollTop);break}case Ht.TEXT_NODE:o=t.createTextNode(e.textContent||"");break;case Ht.CDATA_SECTION_NODE:o=t.createCDATASection(e.data);break;case Ht.COMMENT_NODE:o=t.createComment(e.textContent||"");break;case Ht.DOCUMENT_FRAGMENT_NODE:o=n.attachShadow({mode:"open"});break;default:return null}var i;let s=r.getMeta(e);return t instanceof RRDocument&&(s||(s=ir(o,t.unserializedId),r.add(e,s)),t.mirror.add(o,{...s})),o}function or(e,t=function(){return new kt}(),r=new RRDocument){return function e(n,o){const i=nr(n,r,t,o);if(null!==i)if("IFRAME"!==(null==o?void 0:o.nodeName)&&n.nodeType!==Ht.DOCUMENT_FRAGMENT_NODE&&(null==o||o.appendChild(i),i.parentNode=o,i.parentElement=o),"IFRAME"===n.nodeName){const t=n.contentDocument;t&&e(t,i)}else n.nodeType!==Ht.DOCUMENT_NODE&&n.nodeType!==Ht.ELEMENT_NODE&&n.nodeType!==Ht.DOCUMENT_FRAGMENT_NODE||(n.nodeType===Ht.ELEMENT_NODE&&n.shadowRoot&&e(n.shadowRoot,i),n.childNodes.forEach((t=>e(t,i))))}(e,null),r}class Mirror22{constructor(){wt(this,"idNodeMap",new Map),wt(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;return(null==(t=this.getMeta(e))?void 0:t.id)??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const e=this.nodeMetaMap.get(r);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ir(e,t){switch(e.RRNodeType){case Lt.Document:return{id:t,type:e.RRNodeType,childNodes:[]};case Lt.DocumentType:{const r=e;return{id:t,type:e.RRNodeType,name:r.name,publicId:r.publicId,systemId:r.systemId}}case Lt.Element:return{id:t,type:e.RRNodeType,tagName:e.tagName.toLowerCase(),attributes:{},childNodes:[]};case Lt.Text:case Lt.Comment:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case Lt.CDATA:return{id:t,type:e.RRNodeType,textContent:""}}}function sr(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map((function(e){e(r)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,r)}))}}}const ar=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"}));function ur(e=window,t=document){if("scrollBehavior"in t.documentElement.style&&!0!==e.__forceSmoothScrollPolyfill__)return;const r=e.HTMLElement||e.Element,n=468,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||u,scrollIntoView:r.prototype.scrollIntoView},i=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;const s=(a=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(a)?1:0);var a;function u(e,t){this.scrollLeft=e,this.scrollTop=t}function c(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function d(t,r){const n=e.getComputedStyle(t,null)["overflow"+r];return"auto"===n||"scroll"===n}function p(e){const t=l(e,"Y")&&d(e,"Y"),r=l(e,"X")&&d(e,"X");return t||r}function f(t){let r,o,s,a=(i()-t.startTime)/n;var u;a=a>1?1:a,u=a,r=.5*(1-Math.cos(Math.PI*u)),o=t.startX+(t.x-t.startX)*r,s=t.startY+(t.y-t.startY)*r,t.method.call(t.scrollable,o,s),o===t.x&&s===t.y||e.requestAnimationFrame(f.bind(e,t))}function h(r,n,s){let a,c,l,d;const p=i();r===t.body?(a=e,c=e.scrollX||e.pageXOffset,l=e.scrollY||e.pageYOffset,d=o.scroll):(a=r,c=r.scrollLeft,l=r.scrollTop,d=u),f({scrollable:a,method:d,startTime:p,startX:c,startY:l,x:n,y:s})}e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?h.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0===arguments[0])return;if(!0===c(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}const e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0===c(arguments[0]))return void o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);const r=function(e){for(;e!==t.body&&!1===p(e);)e=e.parentNode||e.host;return e}(this),n=r.getBoundingClientRect(),i=this.getBoundingClientRect();r!==t.body?(h.call(this,r,r.scrollLeft+i.left-n.left,r.scrollTop+i.top-n.top),"fixed"!==e.getComputedStyle(r).position&&e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}}class Timer{constructor(e=[],t){o(this,"timeOffset",0),o(this,"speed"),o(this,"actions"),o(this,"raf",null),o(this,"lastTimestamp"),this.actions=e,this.speed=t.speed}addAction(e){const t=!0===this.raf;if(!this.actions.length||this.actions[this.actions.length-1].delay<=e.delay)this.actions.push(e);else{const t=this.findActionIndex(e);this.actions.splice(t,0,e)}t&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const e=performance.now();for(this.timeOffset+=(e-this.lastTimestamp)*this.speed,this.lastTimestamp=e;this.actions.length;){const e=this.actions[0];if(!(this.timeOffset>=e.delay))break;this.actions.shift(),e.doAction()}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(!0!==this.raf&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(e){this.speed=e}isActive(){return null!==this.raf}findActionIndex(e){let t=0,r=this.actions.length-1;for(;t<=r;){const n=Math.floor((t+r)/2);if(this.actions[n].delay<e.delay)t=n+1;else{if(!(this.actions[n].delay>e.delay))return n+1;r=n-1}}return t}}function cr(e,t){if(e.type===ke.IncrementalSnapshot&&e.data.source===De.MouseMove&&e.data.positions&&e.data.positions.length){const r=e.data.positions[0].timeOffset,n=e.timestamp+r;return e.delay=n-t,n-t}return e.delay=e.timestamp-t,e.delay}function lr(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}var dr,pr;(pr=dr||(dr={}))[pr.NotStarted=0]="NotStarted",pr[pr.Running=1]="Running",pr[pr.Stopped=2]="Stopped";var fr={type:"xstate.init"};function hr(e){return void 0===e?[]:[].concat(e)}function mr(e){return{type:"xstate.assign",assignment:e}}function gr(e,t){return"string"==typeof(e="string"==typeof e&&t&&t[e]?t[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function vr(e){return function(t){return e===t}}function yr(e){return"string"==typeof e?{type:e}:e}function Er(e,t){return{value:e,context:t,actions:[],changed:!1,matches:vr(e)}}function Sr(e,t,r){var n=t,o=!1;return[e.filter((function(e){if("xstate.assign"===e.type){o=!0;var t=Object.assign({},n);return"function"==typeof e.assignment?t=e.assignment(n,r):Object.keys(e.assignment).forEach((function(o){t[o]="function"==typeof e.assignment[o]?e.assignment[o](n,r):e.assignment[o]})),n=t,!1}return!0})),n,o]}function Tr(e,t){void 0===t&&(t={});var r=lr(Sr(hr(e.states[e.initial].entry).map((function(e){return gr(e,t.actions)})),e.context,fr),2),n=r[0],o=r[1],i={config:e,_options:t,initialState:{value:e.initial,actions:n,context:o,matches:vr(e.initial)},transition:function(t,r){var n,o,s="string"==typeof t?{value:t,context:e.context}:t,a=s.value,u=s.context,c=yr(r),l=e.states[a];if(l.on){var d=hr(l.on[c.type]);try{for(var p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),f=p.next();!f.done;f=p.next()){var h=f.value;if(void 0===h)return Er(a,u);var m="string"==typeof h?{target:h}:h,g=m.target,v=m.actions,y=void 0===v?[]:v,E=m.cond,S=void 0===E?function(){return!0}:E,T=void 0===g,b=null!=g?g:a,_=e.states[b];if(S(u,c)){var I=lr(Sr((T?hr(y):[].concat(l.exit,y,_.entry).filter((function(e){return e}))).map((function(e){return gr(e,i._options.actions)})),u,c),3),C=I[0],N=I[1],R=I[2],O=null!=g?g:a;return{value:O,context:N,actions:C,changed:g!==a||C.length>0||R,matches:vr(O)}}}}catch(pr){n={error:pr}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}return Er(a,u)}};return i}var br=function(e,t){return e.actions.forEach((function(r){var n=r.exec;return n&&n(e.context,t)}))};function _r(e){var t=e.initialState,r=dr.NotStarted,n=new Set,o={_machine:e,send:function(o){r===dr.Running&&(t=e.transition(t,o),br(t,yr(o)),n.forEach((function(e){return e(t)})))},subscribe:function(e){return n.add(e),e(t),{unsubscribe:function(){return n.delete(e)}}},start:function(n){if(n){var i="object"==typeof n?n:{context:e.config.context,value:n};t={value:i.value,actions:[],context:i.context,matches:vr(i.value)}}return r=dr.Running,br(t,fr),o},stop:function(){return r=dr.Stopped,n.clear(),o},get state(){return t},get status(){return r}};return o}function Ir(e,{getCastFn:t,applyEventsSynchronously:r,emitter:n}){return _r(Tr({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:mr({lastPlayedEvent:(e,t)=>"CAST_EVENT"===t.type?t.payload.event:e.lastPlayedEvent}),recordTimeOffset:mr(((e,t)=>{let r=e.timeOffset;return"payload"in t&&"timeOffset"in t.payload&&(r=t.payload.timeOffset),{...e,timeOffset:r,baselineTime:e.events[0].timestamp+r}})),play(e){var o;const{timer:i,events:s,baselineTime:a,lastPlayedEvent:u}=e;i.clear();for(const t of s)cr(t,a);const c=function(e,t){for(let r=e.length-1;r>=0;r--){const n=e[r];if(n.type===ke.Meta&&n.timestamp<=t)return e.slice(r)}return e}(s,a);let l=null==u?void 0:u.timestamp;(null==u?void 0:u.type)===ke.IncrementalSnapshot&&u.data.source===De.MouseMove&&(l=u.timestamp+(null==(o=u.data.positions[0])?void 0:o.timeOffset)),a<(l||0)&&n.emit(je.PlayBack);const d=new Array;for(const r of c)if(!(l&&l<a&&(r.timestamp<=l||r===u)))if(r.timestamp<a)d.push(r);else{const e=t(r,!1);i.addAction({doAction:()=>{e()},delay:r.delay})}r(d),n.emit(je.Flush),i.start()},pause(e){e.timer.clear()},resetLastPlayedEvent:mr((e=>({...e,lastPlayedEvent:null}))),startLive:mr({baselineTime:(e,t)=>(e.timer.start(),"TO_LIVE"===t.type&&t.payload.baselineTime?t.payload.baselineTime:Date.now())}),addEvent:mr(((e,r)=>{const{baselineTime:n,timer:o,events:i}=e;if("ADD_EVENT"===r.type){const{event:e}=r.payload;cr(e,n);let s=i.length-1;if(!i[s]||i[s].timestamp<=e.timestamp)i.push(e);else{let t=-1,r=0;for(;r<=s;){const t=Math.floor((r+s)/2);i[t].timestamp<=e.timestamp?r=t+1:s=t-1}-1===t&&(t=r),i.splice(t,0,e)}const a=e.timestamp<n,u=t(e,a);a?u():o.isActive()&&o.addAction({doAction:()=>{u()},delay:e.delay})}return{...e,events:i}}))}}))}const Cr=new Map;function Nr(e,t){let r=Cr.get(e);return r||(r=new Map,Cr.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}function Rr(e,t,r){return async n=>{if(n&&"object"==typeof n&&"rr_type"in n){if(r&&(r.isUnchanged=!1),"ImageBitmap"===n.rr_type&&"args"in n){const o=await Rr(e,t,r)(n.args);return await createImageBitmap.apply(null,o)}if("index"in n){if(r||null===t)return n;const{rr_type:e,index:o}=n;return Nr(t,e)[o]}if("args"in n){const{rr_type:o,args:i}=n;return new(0,window[o])(...await Promise.all(i.map(Rr(e,t,r))))}if("base64"in n)return dt(n.base64);if("src"in n){const t=e.get(n.src);if(t)return t;{const t=new Image;return t.src=n.src,e.set(n.src,t),t}}if("data"in n&&"Blob"===n.rr_type){const o=await Promise.all(n.data.map(Rr(e,t,r)));return new Blob(o,{type:n.type})}}else if(Array.isArray(n)){return await Promise.all(n.map(Rr(e,t,r)))}return n}}const Or=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];async function Ar({mutation:e,target:t,type:r,imageMap:n,errorHandler:o}){try{const o=function(e,t){try{return t===Fe.WebGL?e.getContext("webgl")||e.getContext("experimental-webgl"):e.getContext("webgl2")}catch(r){return null}}(t,r);if(!o)return;if(e.setter)return void(o[e.property]=e.args[0]);const i=o[e.property],s=await Promise.all(e.args.map(Rr(n,o)));!function(e,t){if(!(null==t?void 0:t.constructor))return;const{name:r}=t.constructor;if(!Or.includes(r))return;const n=Nr(e,r);n.includes(t)||n.push(t)}(o,i.apply(o,s))}catch(i){o(e,i)}}async function wr({event:e,mutation:t,target:r,imageMap:n,canvasEventMap:o,errorHandler:i}){try{const s=o.get(e)||t,a="commands"in s?s.commands:[s];if([Fe.WebGL,Fe.WebGL2].includes(t.type)){for(let e=0;e<a.length;e++){const o=a[e];await Ar({mutation:o,type:t.type,target:r,imageMap:n,errorHandler:i})}return}await async function({event:e,mutations:t,target:r,imageMap:n,errorHandler:o}){const i=r.getContext("2d");if(!i)return void o(t[0],new Error("Canvas context is null"));const s=t.map((async e=>Promise.all(e.args.map(Rr(n,i)))));(await Promise.all(s)).forEach(((r,s)=>{const a=t[s];try{if(a.setter)return void(i[a.property]=a.args[0]);const t=i[a.property];"drawImage"===a.property&&"string"==typeof a.args[0]?(n.get(e),t.apply(i,a.args)):t.apply(i,r)}catch(u){o(a,u)}}))}({event:e,mutations:a,target:r,imageMap:n,errorHandler:i})}catch(s){i(t,s)}}class MediaManager{constructor(e){o(this,"mediaMap",new Map),o(this,"warn"),o(this,"service"),o(this,"speedService"),o(this,"emitter"),o(this,"getCurrentTime"),o(this,"metadataCallbackMap",new Map),this.warn=e.warn,this.service=e.service,this.speedService=e.speedService,this.emitter=e.emitter,this.getCurrentTime=e.getCurrentTime,this.emitter.on(je.Start,this.start.bind(this)),this.emitter.on(je.SkipStart,this.start.bind(this)),this.emitter.on(je.Pause,this.pause.bind(this)),this.emitter.on(je.Finish,this.pause.bind(this)),this.speedService.subscribe((()=>{this.syncAllMediaElements()}))}syncAllMediaElements(e={pause:!1}){this.mediaMap.forEach(((t,r)=>{this.syncTargetWithState(r),e.pause&&r.pause()}))}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:e,target:t,mediaState:r}){if(r.isPlaying){const n=(e-r.lastInteractionTimeOffset)/1e3*r.playbackRate,o="duration"in t&&t.duration;if(Number.isNaN(o))return void this.waitForMetadata(t);let i=r.currentTimeAtLastInteraction+n;t.loop&&!1!==o&&(i%=o),t.currentTime=i}else t.pause(),t.currentTime=r.currentTimeAtLastInteraction}waitForMetadata(e){if(this.metadataCallbackMap.has(e))return;if(!("addEventListener"in e))return;const t=()=>{this.metadataCallbackMap.delete(e);const t=this.mediaMap.get(e);t&&this.seekTo({time:this.getCurrentTime(),target:e,mediaState:t})};this.metadataCallbackMap.set(e,t),e.addEventListener("loadedmetadata",t,{once:!0})}getMediaStateFromMutation({target:e,timeOffset:t,mutation:r}){const n=this.mediaMap.get(e),{type:o,playbackRate:i,currentTime:s,muted:a,volume:u,loop:c}=r;return{isPlaying:o===Be.Play||o!==Be.Pause&&((null==n?void 0:n.isPlaying)||null!==e.getAttribute("autoplay")),currentTimeAtLastInteraction:s??(null==n?void 0:n.currentTimeAtLastInteraction)??0,lastInteractionTimeOffset:t,playbackRate:i??(null==n?void 0:n.playbackRate)??1,volume:u??(null==n?void 0:n.volume)??1,muted:a??(null==n?void 0:n.muted)??null===e.getAttribute("muted"),loop:c??(null==n?void 0:n.loop)??null===e.getAttribute("loop")}}syncTargetWithState(e){const t=this.mediaMap.get(e);if(!t)return;const{muted:r,loop:n,volume:o,isPlaying:i}=t,s=this.service.state.matches("paused"),a=t.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:e,mediaState:t}),e.volume!==o&&(e.volume=o),e.muted=r,e.loop=n,e.playbackRate!==a&&(e.playbackRate=a),i&&!s?e.play():e.pause()}catch(u){this.warn(`Failed to replay media interactions: ${u.message||u}`)}}addMediaElements(e,t,r){if(!["AUDIO","VIDEO"].includes(e.nodeName))return;const n=e,o=r.getMeta(n);if(!o||!("attributes"in o))return;const i=this.service.state.matches("paused"),s=o.attributes;let a=!1;a=s.rr_mediaState?"played"===s.rr_mediaState:null!==n.getAttribute("autoplay"),a&&i&&n.pause();let u=1;"number"==typeof s.rr_mediaPlaybackRate&&(u=s.rr_mediaPlaybackRate);let c=!1;c="boolean"==typeof s.rr_mediaMuted?s.rr_mediaMuted:null!==n.getAttribute("muted");let l=!1;l="boolean"==typeof s.rr_mediaLoop?s.rr_mediaLoop:null!==n.getAttribute("loop");let d=1;"number"==typeof s.rr_mediaVolume&&(d=s.rr_mediaVolume);let p=0;"number"==typeof s.rr_mediaCurrentTime&&(p=s.rr_mediaCurrentTime),this.mediaMap.set(n,{isPlaying:a,currentTimeAtLastInteraction:p,lastInteractionTimeOffset:t,playbackRate:u,volume:d,muted:c,loop:l}),this.syncTargetWithState(n)}mediaMutation({target:e,timeOffset:t,mutation:r}){this.mediaMap.set(e,this.getMediaStateFromMutation({target:e,timeOffset:t,mutation:r})),this.syncTargetWithState(e)}isSupportedMediaElement(e){return["AUDIO","VIDEO"].includes(e.nodeName)}reset(){this.mediaMap.clear()}}const Mr=sr||ar,xr="[replayer]",Lr={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function kr(e){return e.type==ke.IncrementalSnapshot&&(e.data.source==De.TouchMove||e.data.source==De.MouseInteraction&&e.data.type==Pe.TouchStart)}const{addCustomEvent:Dr}=Ot,{freezePage:Pr}=Ot;t.EventType=ke,t.IncrementalSource=De,t.MouseInteractions=Pe,t.Replayer=class Replayer{constructor(e,t){if(o(this,"wrapper"),o(this,"iframe"),o(this,"service"),o(this,"speedService"),o(this,"config"),o(this,"usingVirtualDom",!1),o(this,"virtualDom",new RRDocument),o(this,"mouse"),o(this,"mouseTail",null),o(this,"tailPositions",[]),o(this,"emitter",Mr()),o(this,"nextUserInteractionEvent"),o(this,"legacy_missingNodeRetryMap",{}),o(this,"cache",ee()),o(this,"imageMap",new Map),o(this,"canvasEventMap",new Map),o(this,"mirror",f()),o(this,"styleMirror",new StyleSheetMirror),o(this,"mediaManager"),o(this,"firstFullSnapshot",null),o(this,"newDocumentQueue",[]),o(this,"mousePos",null),o(this,"touchActive",null),o(this,"lastMouseDownEvent",null),o(this,"lastHoveredRootNode"),o(this,"lastSelectionData",null),o(this,"constructedStyleMutations",[]),o(this,"adoptedStyleSheets",[]),o(this,"handleResize",(e=>{this.iframe.style.display="inherit";for(const t of[this.mouseTail,this.iframe])t&&(t.setAttribute("width",String(e.width)),t.setAttribute("height",String(e.height)))})),o(this,"applyEventsSynchronously",(e=>{for(const t of e){switch(t.type){case ke.DomContentLoaded:case ke.Load:case ke.Custom:continue;case ke.FullSnapshot:case ke.Meta:case ke.Plugin:case ke.IncrementalSnapshot:}this.getCastFn(t,!0)()}})),o(this,"getCastFn",((e,t=!1)=>{let r;switch(e.type){case ke.DomContentLoaded:case ke.Load:break;case ke.Custom:r=()=>{this.emitter.emit(je.CustomEvent,e)};break;case ke.Meta:r=()=>this.emitter.emit(je.Resize,{width:e.data.width,height:e.data.height});break;case ke.FullSnapshot:r=()=>{var r;if(this.firstFullSnapshot){if(this.firstFullSnapshot===e)return void(this.firstFullSnapshot=!0)}else this.firstFullSnapshot=!0;this.mediaManager.reset(),this.styleMirror.reset(),this.rebuildFullSnapshot(e,t),null==(r=this.iframe.contentWindow)||r.scrollTo(e.data.initialOffset)};break;case ke.IncrementalSnapshot:r=()=>{if(this.applyIncremental(e,t),!t&&(e===this.nextUserInteractionEvent&&(this.nextUserInteractionEvent=null,this.backToNormal()),this.config.skipInactive&&!this.nextUserInteractionEvent)){for(const t of this.service.state.context.events)if(!(t.timestamp<=e.timestamp)&&this.isUserInteraction(t)){t.delay-e.delay>this.config.inactivePeriodThreshold*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=t);break}if(this.nextUserInteractionEvent){const t=this.nextUserInteractionEvent.delay-e.delay,r={speed:Math.min(Math.round(t/5e3),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:r}),this.emitter.emit(je.SkipStart,r)}}}}return()=>{r&&r();for(const r of this.config.plugins||[])r.handler&&r.handler(e,t,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:e}});const n=this.service.state.context.events.length-1;if(!this.config.liveMode&&e===this.service.state.context.events[n]){const t=()=>{n<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(je.Finish))};let r=50;e.type===ke.IncrementalSnapshot&&e.data.source===De.MouseMove&&e.data.positions.length&&(r+=Math.max(0,-e.data.positions[0].timeOffset)),setTimeout(t,r)}this.emitter.emit(je.EventCast,e)}})),!(null==t?void 0:t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");const r={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,inactivePeriodThreshold:1e4,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:Lr,useVirtualDom:!0,logger:console};this.config=Object.assign({},r,t),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(je.Resize,this.handleResize),this.setupDom();for(const o of this.config.plugins||[])o.getMirror&&o.getMirror({nodeMirror:this.mirror});this.emitter.on(je.Flush,(()=>{if(this.usingVirtualDom){const r={mirror:this.mirror,applyCanvas:(e,t,r)=>{wr({event:e,mutation:t,target:r,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(e,t)=>{e.source===De.StyleSheetRule?this.applyStyleSheetRule(e,t):e.source===De.StyleDeclaration&&this.applyStyleDeclaration(e,t)},afterAppend:(e,t)=>{for(const r of this.config.plugins||[])r.onBuild&&r.onBuild(e,{id:t,replayer:this})}};if(this.iframe.contentDocument)try{zt(this.iframe.contentDocument,this.virtualDom,r,this.virtualDom.mirror)}catch(e){console.warn(e)}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const e in this.legacy_missingNodeRetryMap)try{const t=this.legacy_missingNodeRetryMap[e],n=Jt(t.node,this.mirror,this.virtualDom.mirror);zt(n,t.node,r,this.virtualDom.mirror),t.node=n}catch(t){this.warn(t)}this.constructedStyleMutations.forEach((e=>{this.applyStyleSheetMutation(e)})),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach((e=>{this.applyAdoptedStyleSheet(e)})),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),!0===this.touchActive?this.mouse.classList.add("touch-active"):!1===this.touchActive&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[e,t]=this.lastMouseDownEvent;e.dispatchEvent(t)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)})),this.emitter.on(je.PlayBack,(()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset()}));const n=new Timer([],{speed:this.config.speed});this.service=Ir({events:e.map((e=>t&&t.unpackFn?t.unpackFn(e):e)).sort(((e,t)=>e.timestamp-t.timestamp)),timer:n,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe((e=>{this.emitter.emit(je.StateChange,{player:e})})),this.speedService=_r(Tr({id:"speed",context:{normalSpeed:-1,timer:n},initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(e,t)=>{"payload"in t&&e.timer.setSpeed(t.payload.speed)},recordSpeed:mr({normalSpeed:e=>e.timer.speed}),restoreSpeed:e=>{e.timer.setSpeed(e.normalSpeed)}}})),this.speedService.start(),this.speedService.subscribe((e=>{this.emitter.emit(je.StateChange,{speed:e})})),this.mediaManager=new MediaManager({warn:this.warn.bind(this),service:this.service,speedService:this.speedService,emitter:this.emitter,getCurrentTime:this.getCurrentTime.bind(this)});const i=this.service.state.context.events.find((e=>e.type===ke.Meta)),s=this.service.state.context.events.find((e=>e.type===ke.FullSnapshot));if(i){const{width:e,height:t}=i.data;setTimeout((()=>{this.emitter.emit(je.Resize,{width:e,height:t})}),0)}s&&setTimeout((()=>{var e;this.firstFullSnapshot||(this.firstFullSnapshot=s,this.rebuildFullSnapshot(s),null==(e=this.iframe.contentWindow)||e.scrollTo(s.data.initialOffset))}),1),this.service.state.context.events.find(kr)&&this.mouse.classList.add("touch-device")}get timer(){return this.service.state.context.timer}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}setConfig(e){Object.keys(e).forEach((t=>{e[t],this.config[t]=e[t]})),this.config.skipInactive||this.backToNormal(),void 0!==e.speed&&this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}}),void 0!==e.mouseTail&&(!1===e.mouseTail?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:e,events:t}=this.service.state.context;return e-t[0].timestamp}getMirror(){return this.mirror}play(e=0){var t,r;this.service.state.matches("paused")||this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}}),null==(r=null==(t=this.iframe.contentDocument)?void 0:t.getElementsByTagName("html")[0])||r.classList.remove("rrweb-paused"),this.emitter.emit(je.Start)}pause(e){var t,r;void 0===e&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),"number"==typeof e&&(this.play(e),this.service.send({type:"PAUSE"})),null==(r=null==(t=this.iframe.contentDocument)?void 0:t.getElementsByTagName("html")[0])||r.classList.add("rrweb-paused"),this.emitter.emit(je.Pause)}resume(e=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(je.Resume)}destroy(){this.pause(),this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset(),this.config.root.removeChild(this.wrapper),this.emitter.emit(je.Destroy)}startLive(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})}addEvent(e){const t=this.config.unpackFn?this.config.unpackFn(e):e;kr(t)&&this.mouse.classList.add("touch-device"),Promise.resolve().then((()=>this.service.send({type:"ADD_EVENT",payload:{event:t}})))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=ee()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),!1!==this.config.mouseTail&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(ur(this.iframe.contentWindow,this.iframe.contentDocument),Ee(this.iframe.contentWindow))}rebuildFullSnapshot(e,t=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const r=[],n=(t,n)=>{if(this.collectIframeAndAttachDocument(r,t),this.mediaManager.isSupportedMediaElement(t)){const{events:r}=this.service.state.context;this.mediaManager.addMediaElements(t,e.timestamp-r[0].timestamp,this.mirror)}for(const e of this.config.plugins||[])e.onBuild&&e.onBuild(t,{id:n,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),ne(e.data.node,{doc:this.iframe.contentDocument,afterAppend:n,cache:this.cache,mirror:this.mirror}),n(this.iframe.contentDocument,e.data.node.id);for(const{mutationInQueue:s,builtNode:a}of r)this.attachDocumentToIframe(s,a),this.newDocumentQueue=this.newDocumentQueue.filter((e=>e!==s));const{documentElement:o,head:i}=this.iframe.contentDocument;this.insertStyleRules(o,i),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(je.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(e,t){var r;const n=(o=this.config.blockClass,[`.${o} { background: currentColor }`,"noscript { display: none !important; }"]).concat(this.config.insertStyleRules);var o;if(this.config.pauseAnimation&&n.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),this.usingVirtualDom){const r=this.virtualDom.createElement("style");this.virtualDom.mirror.add(r,ir(r,this.virtualDom.unserializedId)),e.insertBefore(r,t),r.rules.push({source:De.StyleSheetRule,adds:n.map(((e,t)=>({rule:e,index:t})))})}else{const o=document.createElement("style");e.insertBefore(o,t);for(let e=0;e<n.length;e++)null==(r=o.sheet)||r.insertRule(n[e],e)}}attachDocumentToIframe(e,t){const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,n=[],o=(e,o)=>{this.collectIframeAndAttachDocument(n,e);const i=r.getMeta(e);if((null==i?void 0:i.type)===a.Element&&"HTML"===(null==i?void 0:i.tagName.toUpperCase())){const{documentElement:e,head:r}=t.contentDocument;this.insertStyleRules(e,r)}if(!this.usingVirtualDom)for(const t of this.config.plugins||[])t.onBuild&&t.onBuild(e,{id:o,replayer:this})};re(e.node,{doc:t.contentDocument,mirror:r,hackCss:!0,skipChild:!1,afterAppend:o,cache:this.cache}),o(t.contentDocument,e.node.id);for(const{mutationInQueue:i,builtNode:s}of n)this.attachDocumentToIframe(i,s),this.newDocumentQueue=this.newDocumentQueue.filter((e=>e!==i))}collectIframeAndAttachDocument(e,t){if(be(t,this.mirror)){const r=this.newDocumentQueue.find((e=>e.parentId===this.mirror.getId(t)));r&&e.push({mutationInQueue:r,builtNode:t})}}waitForStylesheetLoad(){var e;const t=null==(e=this.iframe.contentDocument)?void 0:e.head;if(t){const e=new Set;let r,n=this.service.state;const o=()=>{n=this.service.state};this.emitter.on(je.Start,o),this.emitter.on(je.Pause,o);const i=()=>{this.emitter.off(je.Start,o),this.emitter.off(je.Pause,o)};t.querySelectorAll('link[rel="stylesheet"]').forEach((t=>{t.sheet||(e.add(t),t.addEventListener("load",(()=>{e.delete(t),0===e.size&&-1!==r&&(n.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(je.LoadStylesheetEnd),r&&clearTimeout(r),i())})))})),e.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(je.LoadStylesheetStart),r=setTimeout((()=>{n.matches("playing")&&this.play(this.getCurrentTime()),r=-1,i()}),this.config.loadTimeout))}}async preloadAllImages(){const e=[];for(const t of this.service.state.context.events)if(t.type===ke.IncrementalSnapshot&&t.data.source===De.CanvasMutation){e.push(this.deserializeAndPreloadCanvasEvents(t.data,t));("commands"in t.data?t.data.commands:[t.data]).forEach((e=>{this.preloadImages(e,t)}))}return Promise.all(e)}preloadImages(e,t){if("drawImage"===e.property&&"string"==typeof e.args[0]&&!this.imageMap.has(t)){const e=document.createElement("canvas"),t=e.getContext("2d"),r=null==t?void 0:t.createImageData(e.width,e.height);null==t||t.putImageData(r,0,0)}}async deserializeAndPreloadCanvasEvents(e,t){if(!this.canvasEventMap.has(t)){const r={isUnchanged:!0};if("commands"in e){const n=await Promise.all(e.commands.map((async e=>{const t=await Promise.all(e.args.map(Rr(this.imageMap,null,r)));return{...e,args:t}})));!1===r.isUnchanged&&this.canvasEventMap.set(t,{...e,commands:n})}else{const n=await Promise.all(e.args.map(Rr(this.imageMap,null,r)));!1===r.isUnchanged&&this.canvasEventMap.set(t,{...e,args:n})}}}applyIncremental(e,t){var r,n,o;const{data:i}=e;switch(i.source){case De.Mutation:try{this.applyMutation(i,t)}catch(s){this.warn(`Exception in mutation ${s.message||s}`,i)}break;case De.Drag:case De.TouchMove:case De.MouseMove:if(t){const e=i.positions[i.positions.length-1];this.mousePos={x:e.x,y:e.y,id:e.id,debugData:i}}else i.positions.forEach((r=>{const n={doAction:()=>{this.moveAndHover(r.x,r.y,r.id,t,i)},delay:r.timeOffset+e.timestamp-this.service.state.context.baselineTime};this.timer.addAction(n)})),this.timer.addAction({doAction(){},delay:e.delay-(null==(r=i.positions[0])?void 0:r.timeOffset)});break;case De.MouseInteraction:{if(-1===i.id)break;const e=new Event(m(Pe[i.type])),r=this.mirror.getNode(i.id);if(!r)return this.debugNodeNotFound(i,i.id);this.emitter.emit(je.MouseInteraction,{type:i.type,target:r});const{triggerFocus:n}=this.config;switch(i.type){case Pe.Blur:"blur"in r&&r.blur();break;case Pe.Focus:n&&r.focus&&r.focus({preventScroll:!0});break;case Pe.Click:case Pe.TouchStart:case Pe.TouchEnd:case Pe.MouseDown:case Pe.MouseUp:t?(i.type===Pe.TouchStart?this.touchActive=!0:i.type===Pe.TouchEnd&&(this.touchActive=!1),i.type===Pe.MouseDown?this.lastMouseDownEvent=[r,e]:i.type===Pe.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:i.x||0,y:i.y||0,id:i.id,debugData:i}):(i.type===Pe.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(i.x||0,i.y||0,i.id,t,i),i.type===Pe.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):i.type===Pe.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):i.type===Pe.TouchEnd?this.mouse.classList.remove("touch-active"):r.dispatchEvent(e));break;case Pe.TouchCancel:t?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:r.dispatchEvent(e)}break}case De.Scroll:if(-1===i.id)break;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);e.scrollData=i;break}this.applyScroll(i,t);break;case De.ViewportResize:this.emitter.emit(je.Resize,{width:i.width,height:i.height});break;case De.Input:if(-1===i.id)break;if(this.usingVirtualDom){const e=this.virtualDom.mirror.getNode(i.id);if(!e)return this.debugNodeNotFound(i,i.id);e.inputData=i;break}this.applyInput(i);break;case De.MediaInteraction:{const t=this.usingVirtualDom?this.virtualDom.mirror.getNode(i.id):this.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);const r=t,{events:n}=this.service.state.context;this.mediaManager.mediaMutation({target:r,timeOffset:e.timestamp-n[0].timestamp,mutation:i});break}case De.StyleSheetRule:case De.StyleDeclaration:this.usingVirtualDom?i.styleId?this.constructedStyleMutations.push(i):i.id&&(null==(n=this.virtualDom.mirror.getNode(i.id))||n.rules.push(i)):this.applyStyleSheetMutation(i);break;case De.CanvasMutation:if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const t=this.virtualDom.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);t.canvasMutations.push({event:e,mutation:i})}else{const t=this.mirror.getNode(i.id);if(!t)return this.debugNodeNotFound(i,i.id);wr({event:e,mutation:i,target:t,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break;case De.Font:try{const e=new FontFace(i.family,i.buffer?new Uint8Array(JSON.parse(i.fontSource)):i.fontSource,i.descriptors);null==(o=this.iframe.contentDocument)||o.fonts.add(e)}catch(s){this.warn(s)}break;case De.Selection:if(t){this.lastSelectionData=i;break}this.applySelection(i);break;case De.AdoptedStyleSheet:this.usingVirtualDom?this.adoptedStyleSheets.push(i):this.applyAdoptedStyleSheet(i)}}applyMutation(e,t){if(this.config.useVirtualDom&&!this.usingVirtualDom&&t&&(this.usingVirtualDom=!0,or(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const a in this.legacy_missingNodeRetryMap)try{const e=this.legacy_missingNodeRetryMap[a],t=nr(e.node,this.virtualDom,this.mirror);t&&(e.node=t)}catch(u){this.warn(u)}const r=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;e.removes=e.removes.filter((t=>!!r.getNode(t.id)||(this.warnNodeNotFound(e,t.id),!1))),e.removes.forEach((t=>{var n;const o=r.getNode(t.id);if(!o)return;let i=r.getNode(t.parentId);if(!i)return this.warnNodeNotFound(e,t.parentId);if(t.isShadow&&Ce(i)&&(i=i.shadowRoot),r.removeNodeFromMap(o),i)try{i.removeChild(o),this.usingVirtualDom&&"#text"===o.nodeName&&"STYLE"===i.nodeName&&(null==(n=i.rules)?void 0:n.length)>0&&(i.rules=[])}catch(u){if(!(u instanceof DOMException))throw u;this.warn("parent could not remove child in mutation",i,o,e)}}));const n={...this.legacy_missingNodeRetryMap},o=[],i=e=>{var t,i;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let s=r.getNode(e.parentId);if(!s)return e.node.type===a.Document?this.newDocumentQueue.push(e):o.push(e);e.node.isShadow&&(Ce(s)||s.attachShadow({mode:"open"}),s=s.shadowRoot);let u=null,c=null;if(e.previousId&&(u=r.getNode(e.previousId)),e.nextId&&(c=r.getNode(e.nextId)),(e=>{let t=null;return e.nextId&&(t=r.getNode(e.nextId)),null!==e.nextId&&void 0!==e.nextId&&-1!==e.nextId&&!t})(e))return o.push(e);if(e.node.rootId&&!r.getNode(e.node.rootId))return;const l=e.node.rootId?r.getNode(e.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(be(s,r))return void this.attachDocumentToIframe(e,s);const d=(e,t)=>{if(!this.usingVirtualDom)for(const r of this.config.plugins||[])r.onBuild&&r.onBuild(e,{id:t,replayer:this})},p=re(e.node,{doc:l,mirror:r,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:d});if(-1===e.previousId||-1===e.nextId)return void(n[e.node.id]={node:p,mutation:e});const f=r.getMeta(s);if(f&&f.type===a.Element&&"textarea"===f.tagName&&e.node.type===a.Text){const e=Array.isArray(s.childNodes)?s.childNodes:Array.from(s.childNodes);for(const t of e)t.nodeType===s.TEXT_NODE&&s.removeChild(t)}else if((null==f?void 0:f.type)===a.Document){const r=s;e.node.type===a.DocumentType&&(null==(t=r.childNodes[0])?void 0:t.nodeType)===Node.DOCUMENT_TYPE_NODE&&r.removeChild(r.childNodes[0]),"HTML"===p.nodeName&&r.documentElement&&r.removeChild(r.documentElement)}if(u&&u.nextSibling&&u.nextSibling.parentNode?s.insertBefore(p,u.nextSibling):c&&c.parentNode?s.contains(c)?s.insertBefore(p,c):s.insertBefore(p,null):s.appendChild(p),d(p,e.node.id),this.usingVirtualDom&&"#text"===p.nodeName&&"STYLE"===s.nodeName&&(null==(i=s.rules)?void 0:i.length)>0&&(s.rules=[]),be(p,this.mirror)){const e=this.mirror.getId(p),t=this.newDocumentQueue.find((t=>t.parentId===e));t&&(this.attachDocumentToIframe(t,p),this.newDocumentQueue=this.newDocumentQueue.filter((e=>e!==t)))}(e.previousId||e.nextId)&&this.legacy_resolveMissingNode(n,s,p,e)};e.adds.forEach((e=>{i(e)}));const s=Date.now();for(;o.length;){const e=Se(o);if(o.length=0,Date.now()-s>500){this.warn("Timeout in the loop, please check the resolve tree data:",e);break}for(const t of e){r.getNode(t.value.parentId)?Te(t,(e=>{i(e)})):this.debug("Drop resolve tree since there is no parent for the root node.",t)}}Object.keys(n).length&&Object.assign(this.legacy_missingNodeRetryMap,n),Oe(e.texts).forEach((t=>{var n;const o=r.getNode(t.id);if(!o){if(e.removes.find((e=>e.id===t.id)))return;return this.warnNodeNotFound(e,t.id)}if(o.textContent=t.value,this.usingVirtualDom){const e=o.parentNode;(null==(n=null==e?void 0:e.rules)?void 0:n.length)>0&&(e.rules=[])}})),e.attributes.forEach((t=>{var n;const o=r.getNode(t.id);if(!o){if(e.removes.find((e=>e.id===t.id)))return;return this.warnNodeNotFound(e,t.id)}for(const e in t.attributes)if("string"==typeof e){const s=t.attributes[e];if(null===s)o.removeAttribute(e);else if("string"==typeof s)try{if("_cssText"===e&&("LINK"===o.nodeName||"STYLE"===o.nodeName))try{const e=r.getMeta(o);Object.assign(e.attributes,t.attributes);const n=re(e,{doc:o.ownerDocument,mirror:r,skipChild:!0,hackCss:!0,cache:this.cache}),i=o.nextSibling,s=o.parentNode;if(n&&s){s.removeChild(o),s.insertBefore(n,i),r.replace(t.id,n);break}}catch(i){}if("value"===e&&"TEXTAREA"===o.nodeName){const e=o;e.childNodes.forEach((t=>e.removeChild(t)));const t=null==(n=o.ownerDocument)?void 0:n.createTextNode(s);t&&e.appendChild(t)}else o.setAttribute(e,s)}catch(u){this.warn("An error occurred may due to the checkout feature.",u)}else if("style"===e){const e=s,t=o;for(const r in e)if(!1===e[r])t.style.removeProperty(r);else if(e[r]instanceof Array){const n=e[r];t.style.setProperty(r,n[0],n[1])}else{const n=e[r];t.style.setProperty(r,n)}}}}))}applyScroll(e,t){var r,n;const o=this.mirror.getNode(e.id);if(!o)return this.debugNodeNotFound(e,e.id);const i=this.mirror.getMeta(o);if(o===this.iframe.contentDocument)null==(r=this.iframe.contentWindow)||r.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else if((null==i?void 0:i.type)===a.Document)null==(n=o.defaultView)||n.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else try{o.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}catch(s){}}applyInput(e){const t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch(r){}}applySelection(e){try{const t=new Set,r=e.ranges.map((({start:e,startOffset:r,end:n,endOffset:o})=>{const i=this.mirror.getNode(e),s=this.mirror.getNode(n);if(!i||!s)return;const a=new Range;a.setStart(i,r),a.setEnd(s,o);const u=i.ownerDocument,c=null==u?void 0:u.getSelection();return c&&t.add(c),{range:a,selection:c}}));t.forEach((e=>e.removeAllRanges())),r.forEach((e=>{var t;return e&&(null==(t=e.selection)?void 0:t.addRange(e.range))}))}catch(t){}}applyStyleSheetMutation(e){var t;let r=null;e.styleId?r=this.styleMirror.getStyle(e.styleId):e.id&&(r=(null==(t=this.mirror.getNode(e.id))?void 0:t.sheet)||null),r&&(e.source===De.StyleSheetRule?this.applyStyleSheetRule(e,r):e.source===De.StyleDeclaration&&this.applyStyleDeclaration(e,r))}applyStyleSheetRule(e,t){var r,n,o,i;if(null==(r=e.adds)||r.forEach((({rule:e,index:r})=>{try{if(Array.isArray(r)){const{positions:n,index:o}=Re(r);Ne(t.cssRules,n).insertRule(e,o)}else{const n=void 0===r?void 0:Math.min(r,t.cssRules.length);null==t||t.insertRule(e,n)}}catch(n){}})),null==(n=e.removes)||n.forEach((({index:e})=>{try{if(Array.isArray(e)){const{positions:r,index:n}=Re(e);Ne(t.cssRules,r).deleteRule(n||0)}else null==t||t.deleteRule(e)}catch(r){}})),e.replace)try{null==(o=t.replace)||o.call(t,e.replace)}catch(s){}if(e.replaceSync)try{null==(i=t.replaceSync)||i.call(t,e.replaceSync)}catch(s){}}applyStyleDeclaration(e,t){if(e.set){Ne(t.rules,e.index).style.setProperty(e.set.property,e.set.value,e.set.priority)}if(e.remove){Ne(t.rules,e.index).style.removeProperty(e.remove.property)}}applyAdoptedStyleSheet(e){var t;const r=this.mirror.getNode(e.id);if(!r)return;null==(t=e.styles)||t.forEach((e=>{var t;let n=null,o=null;if(Ce(r)?o=(null==(t=r.ownerDocument)?void 0:t.defaultView)||null:"#document"===r.nodeName&&(o=r.defaultView),o)try{n=new o.CSSStyleSheet,this.styleMirror.add(n,e.styleId),this.applyStyleSheetRule({source:De.StyleSheetRule,adds:e.rules},n)}catch(i){}}));let n=0;const o=(e,t)=>{const r=t.map((e=>this.styleMirror.getStyle(e))).filter((e=>null!==e));Ce(e)?e.shadowRoot.adoptedStyleSheets=r:"#document"===e.nodeName&&(e.adoptedStyleSheets=r),r.length!==t.length&&n<10&&(setTimeout((()=>o(e,t)),0+100*n),n++)};o(r,e.styleIds)}legacy_resolveMissingNode(e,t,r,n){const{previousId:o,nextId:i}=n,s=o&&e[o],a=i&&e[i];if(s){const{node:n,mutation:o}=s;t.insertBefore(n,r),delete e[o.node.id],delete this.legacy_missingNodeRetryMap[o.node.id],(o.previousId||o.nextId)&&this.legacy_resolveMissingNode(e,t,n,o)}if(a){const{node:n,mutation:o}=a;t.insertBefore(n,r.nextSibling),delete e[o.node.id],delete this.legacy_missingNodeRetryMap[o.node.id],(o.previousId||o.nextId)&&this.legacy_resolveMissingNode(e,t,n,o)}}moveAndHover(e,t,r,n,o){const i=this.mirror.getNode(r);if(!i)return this.debugNodeNotFound(o,r);const s=Ie(i,this.iframe),a=e*s.absoluteScale+s.x,u=t*s.absoluteScale+s.y;this.mouse.style.left=`${a}px`,this.mouse.style.top=`${u}px`,n||this.drawMouseTail({x:a,y:u}),this.hoverElements(i)}drawMouseTail(e){if(!this.mouseTail)return;const{lineCap:t,lineWidth:r,strokeStyle:n,duration:o}=!0===this.config.mouseTail?Lr:Object.assign({},Lr,this.config.mouseTail),i=()=>{if(!this.mouseTail)return;const e=this.mouseTail.getContext("2d");e&&this.tailPositions.length&&(e.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),e.beginPath(),e.lineWidth=r,e.lineCap=t,e.strokeStyle=n,e.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach((t=>e.lineTo(t.x,t.y))),e.stroke())};this.tailPositions.push(e),i(),setTimeout((()=>{this.tailPositions=this.tailPositions.filter((t=>t!==e)),i()}),o/this.speedService.state.context.timer.speed)}hoverElements(e){var t;null==(t=this.lastHoveredRootNode||this.iframe.contentDocument)||t.querySelectorAll(".\\:hover").forEach((e=>{e.classList.remove(":hover")})),this.lastHoveredRootNode=e.getRootNode();let r=e;for(;r;)r.classList&&r.classList.add(":hover"),r=r.parentElement}isUserInteraction(e){return e.type===ke.IncrementalSnapshot&&(e.data.source>De.Mutation&&e.data.source<=De.Input)}backToNormal(){this.nextUserInteractionEvent=null,this.speedService.state.matches("normal")||(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(je.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(e,t){this.warn(`Node with id '${t}' not found. `,e)}warnCanvasMutationFailed(e,t){this.warn("Has error on canvas update",t,"canvas mutation:",e)}debugNodeNotFound(e,t){this.debug(`Node with id '${t}' not found. `,e)}warn(...e){this.config.showWarning&&this.config.logger.warn(xr,...e)}debug(...e){this.config.showDebug&&this.config.logger.log(xr,...e)}},t.ReplayerEvents=je,t.addCustomEvent=Dr,t.canvasMutation=wr,t.freezePage=Pr,t.record=Ot,t.utils=Le},1104:function(e,t){!function(e){"use strict";var t,r,n=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},o=function(e){if("loading"===document.readyState)return"loading";var t=n();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},i=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},s=function(e,t){var r="";try{for(;e&&9!==e.nodeType;){var n=e,o=n.id?"#"+n.id:i(n)+(n.classList&&n.classList.value&&n.classList.value.trim()&&n.classList.value.trim().length?"."+n.classList.value.trim().replace(/\s+/g,"."):"");if(r.length+o.length>(t||100)-1)return r||o;if(r=r?o+">"+r:o,n.id)break;e=n.parentNode}}catch(e){}return r},a=function(e,t,r,n){var o,i;return function(s){t.value>=0&&(s||n)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},u=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},c=-1,l=function(){return c},d=function(e){addEventListener("pageshow",(function(t){t.persisted&&(c=t.timeStamp,e(t))}),!0)},p=function(){var e=n();return e&&e.activationStart||0},f=function(e,t,r,o){var i,s=(null===(i=n())||void 0===i?void 0:i.navigationId)||"1",a=n(),u="navigate";return r?u=r:l()>=0?u="back-forward-cache":a&&(document.prerendering||p()>0?u="prerender":document.wasDiscarded?u="restore":a.type&&(u=a.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:u,navigationId:o||s}},h=function(e){return PerformanceObserver.supportedEntryTypes.includes("soft-navigation")&&e&&e.reportSoftNavs},m=function(e){if(e){var t=window.performance.getEntriesByType("soft-navigation").filter((function(t){return t.navigationId===e}));return t?t[0]:void 0}},g=function(e,t,r){var n=h(r);try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var o=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return o.observe(Object.assign({type:e,buffered:!0,includeSoftNavigationObservations:n},r||{})),o}}catch(e){}},v=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},y=function(e){var t=!1;return function(){t||(e(),t=!0)}},E=-1,S=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},T=function(e){"hidden"===document.visibilityState&&E>-1&&(E="visibilitychange"===e.type?e.timeStamp:0,_())},b=function(){addEventListener("visibilitychange",T,!0),addEventListener("prerenderingchange",T,!0)},_=function(){removeEventListener("visibilitychange",T,!0),removeEventListener("prerenderingchange",T,!0)},I=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(E=-1),E<0&&(E=S(),b(),d((function(){setTimeout((function(){E=S(),b()}),0)}))),{get firstHiddenTime(){return E}}},C=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},N=[1800,3e3],R=function(e,t){var r,o=h(t=t||{}),i=0,s=(null===(r=n())||void 0===r?void 0:r.navigationId)||"1";C((function(){var r,n=I(),c=f("FCP"),l=g("paint",(function(u){u.forEach((function(u){if("first-contentful-paint"===u.name){o?u.navigationId&&u.navigationId!==c.navigationId&&function(o,s){if(c=f("FCP",0,o,s),r=a(e,c,N,t.reportAllChanges),"soft-navigation"===o){n=I(!0);var u=s?m(s):null;i=u&&u.startTime||0}}("soft-navigation",u.navigationId):l.disconnect();var d=0;if(u.navigationId&&u.navigationId!==s){var h=m(u.navigationId),g=h&&h.startTime?h.startTime:0;d=Math.max(u.startTime-g,0)}else d=Math.max(u.startTime-p(),0);var v=o&&u.navigationId?m(u.navigationId):null,y=v&&v.startTime?v.startTime:0;(u.startTime<n.firstHiddenTime||o&&u.navigationId&&u.navigationId!==c.navigationId&&u.navigationId!==s&&y>i)&&(c.value=d,c.entries.push(u),c.navigationId=u.navigationId||"1",r(!0))}}))}),t);l&&(r=a(e,c,N,t.reportAllChanges),d((function(n){c=f("FCP",0,"back-forward-cache",c.navigationId),r=a(e,c,N,t.reportAllChanges),u((function(){c.value=performance.now()-n.timeStamp,r(!0)}))})))}))},O=[.1,.25],A=0,w=1/0,M=0,x="",L=!1,k=function(e){var t;x||(x=(null===(t=n())||void 0===t?void 0:t.navigationId)||"1"),e.forEach((function(e){e.interactionId&&(L&&e.navigationId&&e.navigationId!==x&&(x=e.navigationId,A=0,w=1/0,M=0),w=Math.min(w,e.interactionId),M=Math.max(M,e.interactionId),A=M?(M-w)/7+1:0)}))},D=function(){return t?A:performance.interactionCount||0},P=function(e){"interactionCount"in performance||t||(t=g("event",k,{type:"event",buffered:!0,durationThreshold:0,includeSoftNavigationObservations:L=e||!1}))},U=[],F=new Map,B=0,j=function(){B=D(),U.length=0,F.clear()},G=function(){var e=Math.min(U.length-1,Math.floor((D()-B)/50));return U[e]},W=[],V=function(e){if(W.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=U[U.length-1],r=F.get(e.interactionId);if(r||U.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};F.set(n.id,n),U.push(n)}U.sort((function(e,t){return t.latency-e.latency})),U.length>10&&U.splice(10).forEach((function(e){return F.delete(e.id)}))}}},H=function(e){var t=self.requestIdleCallback||self.setTimeout,r=-1;return e=y(e),"hidden"===document.visibilityState?e():(r=t(e),v(e)),r},X=[200,500],Y=function(e,t){if("PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype){var r=h(t=t||{}),n=!1,o=0;C((function(){var i;P(r);var s,c=f("INP"),l=function(r,i){if(j(),c=f("INP",0,r,i),s=a(e,c,X,t.reportAllChanges),n=!1,"soft-navigation"===r){var u=m(i);o=u&&u.startTime?u.startTime:0}},p=function(e){H((function(){var r;e.forEach(V),(r=G())&&(r.latency!==c.value||t&&t.reportAllChanges)&&(c.value=r.latency,c.entries=r.entries),s()}))},h=g("event",p,{durationThreshold:null!==(i=t.durationThreshold)&&void 0!==i?i:40,opts:t});s=a(e,c,X,t.reportAllChanges),h&&(h.observe({type:"first-input",buffered:!0,includeSoftNavigationObservations:r}),v((function(){p(h.takeRecords()),s(!0)})),d((function(){j(),l("back-forward-cache",c.navigationId),u((function(){return s()}))})),r&&g("soft-navigation",(function(r){r.forEach((function(r){var i=m(r.navigationId),u=i&&i.startTime?i.startTime:0;r.navigationId&&r.navigationId!==c.navigationId&&u>o&&(!n&&c.value>0&&s(!0),l("soft-navigation",r.navigationId),s=a(e,c,X,t.reportAllChanges))}))}),t))}))}},K=[],z=[],Z=0,J=new WeakMap,q=new Map,$=-1,Q=function(e){K=K.concat(e),ee()},ee=function(){$<0&&($=H(te))},te=function(){q.size>10&&q.forEach((function(e,t){F.has(t)||q.delete(t)}));var e=U.map((function(e){return J.get(e.entries[0])})),t=z.length-50;z=z.filter((function(r,n){return n>=t||e.includes(r)}));for(var r=new Set,n=0;n<z.length;n++){var o=z[n];se(o.startTime,o.processingEnd).forEach((function(e){r.add(e)}))}var i=K.length-1-50;K=K.filter((function(e,t){return e.startTime>Z&&t>i||r.has(e)})),$=-1};W.push((function(e){e.interactionId&&e.target&&!q.has(e.interactionId)&&q.set(e.interactionId,e.target)}),(function(e){var t,r=e.startTime+e.duration;Z=Math.max(Z,e.processingEnd);for(var n=z.length-1;n>=0;n--){var o=z[n];if(Math.abs(r-o.renderTime)<=8){(t=o).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:r,entries:[e]},z.push(t)),(e.interactionId||"first-input"===e.entryType)&&J.set(e,t),ee()}));var re,ne,oe,ie,se=function(e,t){for(var r,n=[],o=0;r=K[o];o++)if(!(r.startTime+r.duration<e)){if(r.startTime>t)break;n.push(r)}return n},ae=[2500,4e3],ue=[800,1800],ce=function e(t){document.prerendering?C((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},le=function(e,t){var r=h(t=t||{}),o=f("TTFB"),i=a(e,o,ue,t.reportAllChanges);ce((function(){var s=n();if(s){var u=s.responseStart;o.value=Math.max(u-p(),0),o.entries=[s],i(!0),d((function(){o=f("TTFB",0,"back-forward-cache",o.navigationId),(i=a(e,o,ue,t.reportAllChanges))(!0)})),r&&g("soft-navigation",(function(r){r.forEach((function(r){r.navigationId&&((o=f("TTFB",0,"soft-navigation",r.navigationId)).entries=[r],(i=a(e,o,ue,t.reportAllChanges))(!0))}))}),t)}}))},de={passive:!0,capture:!0},pe=new Date,fe=function(e,t){re||(re=t,ne=e,oe=new Date,ge(removeEventListener),he())},he=function(){if(ne>=0&&ne<oe-pe){var e={entryType:"first-input",name:re.type,target:re.target,cancelable:re.cancelable,startTime:re.timeStamp,processingStart:re.timeStamp+ne};ie.forEach((function(t){t([e])})),ie=[]}},me=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){fe(e,t),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,de),removeEventListener("pointercancel",n,de)};addEventListener("pointerup",r,de),addEventListener("pointercancel",n,de)}(t,e):fe(t,e)}},ge=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,me,de)}))},ve=[100,300],ye=function(e,t){var r,o=h(t=t||{}),i=(null===(r=n())||void 0===r?void 0:r.navigationId)||"1";C((function(){var r,n=I(),s=f("FID"),u=function(u){u.forEach((function(u){var l,d;o?u.navigationId&&u.navigationId!==s.navigationId&&(l="soft-navigation",d=u.navigationId,"soft-navigation"===l&&(n=I(!0)),s=f("FID",0,l,d),r=a(e,s,ve,t.reportAllChanges)):c.disconnect(),u.startTime<n.firstHiddenTime&&(s.value=u.processingStart-u.startTime,s.entries.push(u),s.navigationId=u.navigationId||i,r(!0))}))},c=g("first-input",u,t);r=a(e,s,ve,t.reportAllChanges),c&&(v((function(){u(c.takeRecords()),o||c.disconnect()})),d((function(){var n;s=f("FID",0,"back-forward-cache",s.navigationId),r=a(e,s,ve,t.reportAllChanges),ie=[],ne=-1,re=null,ge(addEventListener),n=u,ie.push(n),he()})))}))};e.CLSThresholds=O,e.FCPThresholds=N,e.FIDThresholds=ve,e.INPThresholds=X,e.LCPThresholds=ae,e.TTFBThresholds=ue,e.onCLS=function(e,t){!function(e,t){var r=h(t=t||{}),n=!1,o=0;R(y((function(){var i,s=f("CLS",0),c=0,l=[],p=function(r,u){if(s=f("CLS",0,r,u),i=a(e,s,O,t.reportAllChanges),c=0,n=!1,"soft-navigation"===r){var l=m(u);o=l&&l.startTime||0}},h=function(e){e.forEach((function(e){if(r&&e.navigationId&&e.navigationId!==s.navigationId&&(c>s.value&&(s.value=c,s.entries=l),i(!0),p("soft-navigation",e.navigationId)),!e.hadRecentInput){var t=l[0],n=l[l.length-1];c&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(c+=e.value,l.push(e)):(c=e.value,l=[e])}})),c>s.value&&(s.value=c,s.entries=l,i())},y=g("layout-shift",h,t);y&&(i=a(e,s,O,t.reportAllChanges),v((function(){h(y.takeRecords()),i(!0),n=!0})),d((function(){p("back-forward-cache",s.navigationId),u((function(){return i()}))})),r&&g("soft-navigation",(function(r){r.forEach((function(r){var u=r.navigationId,c=u?m(u):null;u&&u!==s.navigationId&&c&&(c.startTime||0)>o&&(n||i(!0),p("soft-navigation",r.navigationId),i=a(e,s,O,t.reportAllChanges))}))}),t),setTimeout(i,0))})))}((function(t){var r=function(e){var t,r={};if(e.entries.length){var n=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(n&&n.sources&&n.sources.length){var i=(t=n.sources).find((function(e){return e.node&&1===e.node.nodeType}))||t[0];i&&(r={largestShiftTarget:s(i.node),largestShiftTime:n.startTime,largestShiftValue:n.value,largestShiftSource:i,largestShiftEntry:n,loadState:o(n.startTime)})}}return Object.assign(e,{attribution:r})}(t);e(r)}),t)},e.onFCP=function(e,t){R((function(t){var r=function(e){var t,r=(null===(t=n())||void 0===t?void 0:t.navigationId)||"1",i={timeToFirstByte:0,firstByteToFCP:e.value,loadState:o(l())};if(e.entries.length){var s,a=e.entries[e.entries.length-1],u=0;if(e.navigationId&&e.navigationId!==r)u=(s=m(e.navigationId))?s.startTime:0;else if(s=n()){var c=s.responseStart,d=s.activationStart||0;u=Math.max(0,c-d)}s&&(i={timeToFirstByte:u,firstByteToFCP:e.value-u,loadState:o(e.entries[0].startTime),navigationEntry:s,fcpEntry:a})}return Object.assign(e,{attribution:i})}(t);e(r)}),t)},e.onFID=function(e,t){ye((function(t){var r=function(e){var t=e.entries[0],r={eventTarget:s(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:o(t.startTime)};return Object.assign(e,{attribution:r})}(t);e(r)}),t)},e.onINP=function(e,t){r||(r=g("long-animation-frame",Q)),Y((function(t){var r=function(e){var t=e.entries[0],r=J.get(t),n=t.processingStart,i=r.processingEnd,a=r.entries.sort((function(e,t){return e.processingStart-t.processingStart})),u=se(t.startTime,i),c=e.entries.find((function(e){return e.target})),l=c&&c.target||q.get(t.interactionId),d=[t.startTime+t.duration,i].concat(u.map((function(e){return e.startTime+e.duration}))),p=Math.max.apply(Math,d),f={interactionTarget:s(l),interactionTargetElement:l,interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:p,processedEventEntries:a,longAnimationFrameEntries:u,inputDelay:n-t.startTime,processingDuration:i-n,presentationDelay:Math.max(p-i,0),loadState:o(t.startTime)};return Object.assign(e,{attribution:f})}(t);e(r)}),t)},e.onLCP=function(e,t){!function(e,t){var r,o=!1,i=h(t=t||{}),s=0,c=(null===(r=n())||void 0===r?void 0:r.navigationId)||"1",l="";C((function(){var r,n=I(),h=f("LCP"),y=function(i,u){if(h=f("LCP",0,i,u),r=a(e,h,ae,t.reportAllChanges),o=!1,"soft-navigation"===i){n=I(!0);var c=m(u);s=c&&c.startTime?c.startTime:0}T()},E=function(e){e.forEach((function(e){if(e){i&&e.navigationId&&e.navigationId!==h.navigationId&&(o||r(!0),y("soft-navigation",e.navigationId));var t=0;if(e.navigationId&&e.navigationId!==c){var s=m(e.navigationId),a=s&&s.startTime?s.startTime:0;t=Math.max(e.startTime-a,0)}else t=Math.max(e.startTime-p(),0);e.startTime<n.firstHiddenTime&&(h.value=t,h.entries=[e],h.navigationId=e.navigationId||c,r())}}))},S=function(){b(),o||(E(C.takeRecords()),i||C.disconnect(),h.navigationId===l&&(o=!0,r(!0)))},T=function(){["keydown","click"].forEach((function(e){addEventListener(e,(function(){return _()}),!0)}))},b=function(){["keydown","click"].forEach((function(e){removeEventListener(e,(function(){return _()}),!0)}))},_=function(){l=h.navigationId,H(S)},C=g("largest-contentful-paint",E,t);C&&(r=a(e,h,ae,t.reportAllChanges),T(),v((function(){l=h.navigationId,S()})),d((function(e){y("back-forward-cache",h.navigationId),u((function(){h.value=performance.now()-e.timeStamp,o=!0,r(!0)}))})),i&&g("soft-navigation",(function(e){e.forEach((function(e){var t=e.navigationId?m(e.navigationId):null;e.navigationId&&e.navigationId!==h.navigationId&&t&&(t.startTime||0)>s&&(o||r(!0),y("soft-navigation",e.navigationId))}))}),t))}))}((function(t){var r=function(e){var t,r=(null===(t=n())||void 0===t?void 0:t.navigationId)||"1",o={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var i,a=0,u=0,c=0;if(e.navigationId&&e.navigationId!==r?a=c=(i=m(e.navigationId))?i.startTime:0:(a=(i=n())&&i.activationStart?i.activationStart:0,u=i&&i.responseStart?i.responseStart:0),i){var l=e.entries[e.entries.length-1],d=l.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===l.url}))[0],p=Math.max(0,u-a),f=Math.max(p,d?(d.requestStart||d.startTime)-a:0),h=Math.max(f-c,d?d.responseEnd-a:0,0),g=Math.max(h-c,l?l.startTime-a:0,0);o={element:s(l.element),timeToFirstByte:p,resourceLoadDelay:f-p,resourceLoadDuration:h-f,elementRenderDelay:g-h,navigationEntry:i,lcpEntry:l},l.url&&(o.url=l.url),d&&(o.lcpResourceEntry=d)}}return Object.assign(e,{attribution:o})}(t);e(r)}),t)},e.onTTFB=function(e,t){le((function(t){var r=function(e){var t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){var r=e.entries[0],n=r.activationStart||0,o=Math.max((r.workerStart||r.fetchStart)-n,0),i=Math.max(r.domainLookupStart-n||0,0),s=Math.max(r.connectStart-n||0,0),a=Math.max(r.connectEnd-n||0,0);t={waitingDuration:o,cacheDuration:i-o,dnsDuration:s-i,connectionDuration:a-s,requestDuration:e.value-a,navigationEntry:r}}return Object.assign(e,{attribution:t})}(t);e(r)}),t)}}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};(()=>{"use strict";r(634),r(3105);var e=r(3901),t=r(7410),n=r(3183),o=r(7421),i=r(4720),s=r(5221),a=r(7001),u=r(440),c=r(1218),l=r(8634),d=r(1344),p=r(371),f=r(1262),h=r(6279),m=r(9497),g=r(3744),v=r(8792),y=r(2365),E=r(7277),S=r(978),T=r(2928),b=r(1990),_=r(8175),I=r(7546),C=r(8491),N=r(6084);if(t.supportedPerformanceTypes.has(o.PerformanceTypes.LongTask)){var R=window.__tti={e:[]};R.o=new PerformanceObserver((function(e){R.e=R.e.concat(e.getEntries())})),R.o.observe({type:o.PerformanceTypes.LongTask,buffered:!0})}var O,A,w,M,x,L,k,D,P,U,F,B,j,G=!1,W={get isInited(){return G},init:function(r){var a,d;if(G)console.warn("CoralogixRum already inited.");else if("object"==typeof window)if("function"==typeof Symbol){var b=(0,m.validateAndResolveInitConfig)(r);if(b){window[i.SDK_CONFIG_KEY]=b;var _=(0,g.getResolvedSampler)(b);b.debug||b.public_key||console.warn("rumAuth will be required in the future"),j=new N.TimeMeasurementTracker,new l.SessionManager(b.sessionRecordingConfig).start();var R=b.ignoreUrls,W=b.labels,V=b.user_context,H=b.application,X=b.version,Y=b.traceParentInHeader,K=b.environment;k=new c.CoralogixWebTracerProvider({sampler:_});var z={},Z=i.INSTRUMENTATIONS.map((function(e){var n,o=e.Instrument,i=e.confKey,s=e.disable,a=(0,t.getInstrumentationConfig)(null==b||null==(n=b.instrumentations)?void 0:n[i],z,s);if(a){var c;switch(i){case"errors":c=new o(Object.assign({},a,{ignoreErrors:null==r?void 0:r.ignoreErrors})),w=c;break;case"fetch":case"xhr":c=new o(Object.assign({},a,{ignoreUrls:R,traceParentInHeader:Y}));break;case p.INTERNAL_INSTRUMENTATION_NAME:c=new o(a),(0,t.saveInternalRumData)(p.INTERNAL_INSTRUMENTATION_NAME,c);break;case C.SCREENSHOT_INSTRUMENTATION_NAME:var l;null!=(l=b.sessionRecordingConfig)&&l.enable&&(c=new o(a),L=c);break;case I.MEMORY_USAGE_INSTRUMENTATION_NAME:b.memoryUsageConfig.enabled&&(0,I.isMeasureUserAgentSpecificMemoryAllowed)()&&(c=new o(a),x=c);break;default:c=new o(a)}return c instanceof u.CoralogixCustomLogInstrumentation&&(A=c),c instanceof N.CoralogixCustomMeasurementInstrumentation&&(M=c),c}return null})).filter((function(e){return Boolean(e)})),J=Object.assign({},i.OPTIONS_DEFAULTS.user_context,V);D=new n.CoralogixSpanAttributesProcessor(Object.assign(((a={})[i.CoralogixAttributes.APPLICATION_CONTEXT]=JSON.stringify({application:H,version:X}),a[i.CoralogixAttributes.USER_CONTEXT]=JSON.stringify(J),a),K?((d={})[i.CoralogixAttributes.ENVIRONMENT]=K,d):{})),W&&D.setCustomLabels(W),k.addSpanProcessor(D),F=new T.CoralogixNavigationProcessor,k.addSpanProcessor(F),U=new v.CoralogixSpanMapProcessor,k.addSpanProcessor(U),new E.SnapshotManager,P=new y.CoralogixSnapshotSpanProcessor,k.addSpanProcessor(P),k.addSpanProcessor(new e.BatchSpanProcessor(B=new s.CoralogixExporter,{maxExportBatchSize:i.MAX_EXPORT_BATCH_SIZE,scheduledDelayMillis:i.SCHEDULE_DELAY_MILLIS})),(0,h.handlePropagators)(r,k),O=(0,S.registerInstrumentations)({tracerProvider:k,instrumentations:Z});var q=(0,t.partition)(b.labelProviders||[],(function(e){var t=e.urlType;return t===o.UrlType.PAGE||!t})),$=q[0],Q=q[1];(0,t.saveInternalRumData)(i.PAGE_URL_LABEL_PROVIDERS_KEY,$),(0,t.saveInternalRumData)(i.NETWORK_URL_LABEL_PROVIDERS_KEY,Q),G=!0,null!=r&&r.debug&&console.info("CoralogixRum.init() complete"),(0,f.reportInternalEvent)("init")}}else console.warn("CoralogixRum: browser not supported, disabling instrumentation.");else console.warn("CoralogixRum: Non-browser environment detected, aborting")},shutdown:function(){var e,t,r,n,o,i;G&&(null==O||O(),O=void 0,this.stopSessionRecording(),null==(e=(0,d.getSessionManager)())||e.stop(),null==(t=D)||t.shutdown(),null==(r=F)||r.shutdown(),null==(n=U)||n.shutdown(),null==(o=P)||o.shutdown(),null==(i=B)||i.shutdown(),G=!1)},setApplicationContext:function(e){var t,r;G?null==(t=D)||t.setInternalLabels(Object.assign({},D.getInternalLabels(),((r={})[i.CoralogixAttributes.APPLICATION_CONTEXT]=e,r))):console.debug("CoralogixRum must be initiated before setting application context")},captureError:function(e){var t;G?null==(t=w)||t.reportError(b.ErrorSource.CAPTURED,e):console.debug("CoralogixRum must be initiated before reporting errors")},sendCustomMeasurement:function(e,t){var r;G?null==(r=M)||r.createCustomMeasurement(e,t):console.debug("CoralogixRum must be initiated before sending custom measurement")},addTiming:function(e,t){G?this.sendCustomMeasurement(e,(0,_.getTiming)(t)):console.debug("CoralogixRum must be initiated before adding timing")},measureUserAgentSpecificMemory:function(){G?x?x.startTrackingMemoryUsage():console.debug("Memory usage instrumentation is not enabled"):console.debug("CoralogixRum must be initiated before measuring user agent specific memory")},stopSessionRecording:function(){var e;null==(e=(0,d.getSessionRecorder)())||e.stopRecording()},startSessionRecording:function(){var e;null==(e=(0,d.getSessionRecorder)())||e.startRecording()},screenshot:function(e){var r,n;if(G){var o=(0,t.generateUUID)();return null==(r=L)||r.screenshot(o,e),null==(n=(0,d.getSessionRecorder)())||n.screenshot(o),o}console.debug("CoralogixRum must be initiated before capturing screenshot")},setUserContext:function(e){var t,r;G?null==(t=D)||t.setInternalLabels(Object.assign({},D.getInternalLabels(),((r={})[i.CoralogixAttributes.USER_CONTEXT]=e,r))):console.debug("CoralogixRum must be initiated before setting user context")},getUserContext:function(){var e;return null==(e=D)?void 0:e.getUserContext()},setLabels:function(e){var t;null==(t=D)||t.setCustomLabels(e)},getLabels:function(){var e;return(null==(e=D)?void 0:e.getCustomLabels())||{}},getSessionId:function(){var e;return null==(e=(0,d.getSessionManager)())||null==(e=e.getSession())?void 0:e.sessionId},log:function(e,t,r){var n;G?A?null==(n=A)||n.log(e,t,r):console.warn("Log was reported, but custom instrumentation is disabled."):console.debug("CoralogixRum must be initiated before using log")},debug:function(e,t){this.log(a.CoralogixLogSeverity.Debug,e,t)},verbose:function(e,t){this.log(a.CoralogixLogSeverity.Verbose,e,t)},info:function(e,t){this.log(a.CoralogixLogSeverity.Info,e,t)},warn:function(e,t){this.log(a.CoralogixLogSeverity.Warn,e,t)},error:function(e,t){this.log(a.CoralogixLogSeverity.Error,e,t)},critical:function(e,t){this.log(a.CoralogixLogSeverity.Critical,e,t)},startTimeMeasure:function(e,t){var r;G?null==(r=j)||r.startMeasurement(e,t):console.debug("CoralogixRum must be initiated before starting time measurement.")},endTimeMeasure:function(e){var t,r=null==(t=j)?void 0:t.getMeasurement(e);if(r){var n,o,i=r.duration,s=r.labels,a=(null==(n=D)?void 0:n.getCustomLabels())||{},u=Object.assign({},a,s);null==(o=M)||o.createCustomMeasurement(e,i,u)}}};window.CoralogixRum=W})()})();